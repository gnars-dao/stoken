"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.WebUsbTransport = void 0;
const abstractUsb_1 = require("./abstractUsb");
const client_1 = require("../sessions/client");
const usb_1 = require("../interfaces/usb");
const background_browser_1 = require("../sessions/background-browser");
class WebUsbTransport extends abstractUsb_1.AbstractUsbTransport {
    constructor({ messages, logger }) {
        const { requestFn, registerBackgroundCallbacks } = (0, background_browser_1.initBackgroundInBrowser)();
        super({
            messages,
            usbInterface: new usb_1.UsbInterface({
                usbInterface: navigator.usb,
                logger,
            }),
            sessionsClient: new client_1.SessionsClient({
                requestFn,
                registerBackgroundCallbacks,
            }),
        });
        this.name = 'WebUsbTransport';
    }
}
exports.WebUsbTransport = WebUsbTransport;
//# sourceMappingURL=webusb.browser.js.map