{"version":3,"file":"requireJsdoc.js","names":["_jsdoccomment","require","_exportParser","_interopRequireDefault","_iterateJsdoc","_jsdocUtils","obj","__esModule","default","OPTIONS_SCHEMA","additionalProperties","properties","checkConstructors","type","checkGetters","anyOf","enum","checkSetters","contexts","items","context","inlineCommentBlock","minLineCount","enableFixer","exemptEmptyConstructors","exemptEmptyFunctions","fixerMessage","publicOnly","oneOf","ancestorsOnly","cjs","esm","window","ArrowFunctionExpression","ClassDeclaration","ClassExpression","FunctionDeclaration","FunctionExpression","MethodDefinition","getOption","baseObject","option","key","options","getOptions","settings","undefined","baseObj","prop","Object","keys","opt","_default","create","sourceCode","getSourceCode","getSettings","requireOption","checkJsDoc","info","handler","node","some","count","underMinLine","_sourceCode$getText$m","getText","match","length","contextMinLineCount","find","ctxt","selector","jsDocNode","getJSDocComment","jsdocUtils","exemptSpeciaMethods","tags","isFunctionContext","isConstructor","functionParameterNames","getFunctionParameterNames","hasReturnValue","fix","fixer","lines","minLines","maxLines","baseNode","getReducedASTNode","decorator","getDecorator","indent","getIndent","text","loc","start","column","insertion","repeat","slice","insertTextBefore","report","end","line","messageId","Boolean","initModuleExports","initWindow","exported","exportParser","isUncommentedExport","hasOption","getContextObject","enforcedContexts","includes","parent","value","meta","docs","category","description","recommended","url","fixable","messages","missingJsDoc","schema","exports","module"],"sources":["../../src/rules/requireJsdoc.js"],"sourcesContent":["import {\n  getJSDocComment,\n  getReducedASTNode,\n  getDecorator,\n} from '@es-joy/jsdoccomment';\nimport exportParser from '../exportParser';\nimport {\n  getSettings,\n} from '../iterateJsdoc';\nimport jsdocUtils from '../jsdocUtils';\n\nconst OPTIONS_SCHEMA = {\n  additionalProperties: false,\n  properties: {\n    checkConstructors: {\n      default: true,\n      type: 'boolean',\n    },\n    checkGetters: {\n      anyOf: [\n        {\n          type: 'boolean',\n        },\n        {\n          enum: [\n            'no-setter',\n          ],\n          type: 'string',\n        },\n      ],\n      default: true,\n    },\n    checkSetters: {\n      anyOf: [\n        {\n          type: 'boolean',\n        },\n        {\n          enum: [\n            'no-getter',\n          ],\n          type: 'string',\n        },\n      ],\n      default: true,\n    },\n    contexts: {\n      items: {\n        anyOf: [\n          {\n            type: 'string',\n          },\n          {\n            additionalProperties: false,\n            properties: {\n              context: {\n                type: 'string',\n              },\n              inlineCommentBlock: {\n                type: 'boolean',\n              },\n              minLineCount: {\n                type: 'integer',\n              },\n            },\n            type: 'object',\n          },\n        ],\n      },\n      type: 'array',\n    },\n    enableFixer: {\n      default: true,\n      type: 'boolean',\n    },\n    exemptEmptyConstructors: {\n      default: false,\n      type: 'boolean',\n    },\n    exemptEmptyFunctions: {\n      default: false,\n      type: 'boolean',\n    },\n    fixerMessage: {\n      default: '',\n      type: 'string',\n    },\n    minLineCount: {\n      type: 'integer',\n    },\n    publicOnly: {\n      oneOf: [\n        {\n          default: false,\n          type: 'boolean',\n        },\n        {\n          additionalProperties: false,\n          default: {},\n          properties: {\n            ancestorsOnly: {\n              type: 'boolean',\n            },\n            cjs: {\n              type: 'boolean',\n            },\n            esm: {\n              type: 'boolean',\n            },\n            window: {\n              type: 'boolean',\n            },\n          },\n          type: 'object',\n        },\n      ],\n    },\n    require: {\n      additionalProperties: false,\n      default: {},\n      properties: {\n        ArrowFunctionExpression: {\n          default: false,\n          type: 'boolean',\n        },\n        ClassDeclaration: {\n          default: false,\n          type: 'boolean',\n        },\n        ClassExpression: {\n          default: false,\n          type: 'boolean',\n        },\n        FunctionDeclaration: {\n          default: true,\n          type: 'boolean',\n        },\n        FunctionExpression: {\n          default: false,\n          type: 'boolean',\n        },\n        MethodDefinition: {\n          default: false,\n          type: 'boolean',\n        },\n      },\n      type: 'object',\n    },\n  },\n  type: 'object',\n};\n\nconst getOption = (context, baseObject, option, key) => {\n  if (context.options[0] && option in context.options[0] &&\n    // Todo: boolean shouldn't be returning property, but tests currently require\n    (typeof context.options[0][option] === 'boolean' ||\n    key in context.options[0][option])\n  ) {\n    return context.options[0][option][key];\n  }\n\n  return baseObject.properties[key].default;\n};\n\nconst getOptions = (context, settings) => {\n  const {\n    publicOnly,\n    contexts = settings.contexts || [],\n    exemptEmptyConstructors = true,\n    exemptEmptyFunctions = false,\n    enableFixer = true,\n    fixerMessage = '',\n    minLineCount = undefined,\n  } = context.options[0] || {};\n\n  return {\n    contexts,\n    enableFixer,\n    exemptEmptyConstructors,\n    exemptEmptyFunctions,\n    fixerMessage,\n    minLineCount,\n    publicOnly: ((baseObj) => {\n      if (!publicOnly) {\n        return false;\n      }\n\n      const properties = {};\n      for (const prop of Object.keys(baseObj.properties)) {\n        const opt = getOption(context, baseObj, 'publicOnly', prop);\n        properties[prop] = opt;\n      }\n\n      return properties;\n    })(OPTIONS_SCHEMA.properties.publicOnly.oneOf[1]),\n    require: ((baseObj) => {\n      const properties = {};\n      for (const prop of Object.keys(baseObj.properties)) {\n        const opt = getOption(context, baseObj, 'require', prop);\n        properties[prop] = opt;\n      }\n\n      return properties;\n    })(OPTIONS_SCHEMA.properties.require),\n  };\n};\n\nexport default {\n  create (context) {\n    const sourceCode = context.getSourceCode();\n    const settings = getSettings(context);\n    if (!settings) {\n      return {};\n    }\n\n    const {\n      require: requireOption,\n      contexts,\n      publicOnly,\n      exemptEmptyFunctions,\n      exemptEmptyConstructors,\n      enableFixer,\n      fixerMessage,\n      minLineCount,\n    } = getOptions(context, settings);\n\n    const checkJsDoc = (info, handler, node) => {\n      if (\n        // Optimize\n        minLineCount !== undefined || contexts.some(({\n          minLineCount: count,\n        }) => {\n          return count !== undefined;\n        })\n      ) {\n        const underMinLine = (count) => {\n          return count !== undefined && count >\n            (sourceCode.getText(node).match(/\\n/gu)?.length ?? 0) + 1;\n        };\n\n        if (underMinLine(minLineCount)) {\n          return;\n        }\n\n        const {\n          minLineCount: contextMinLineCount,\n        } = contexts.find(({\n          context: ctxt,\n        }) => {\n          return ctxt === (info.selector || node.type);\n        }) || {};\n        if (underMinLine(contextMinLineCount)) {\n          return;\n        }\n      }\n\n      const jsDocNode = getJSDocComment(sourceCode, node, settings);\n\n      if (jsDocNode) {\n        return;\n      }\n\n      // For those who have options configured against ANY constructors (or\n      //  setters or getters) being reported\n      if (jsdocUtils.exemptSpeciaMethods(\n        {\n          tags: [],\n        }, node, context, [\n          OPTIONS_SCHEMA,\n        ],\n      )) {\n        return;\n      }\n\n      if (\n        // Avoid reporting param-less, return-less functions (when\n        //  `exemptEmptyFunctions` option is set)\n        exemptEmptyFunctions && info.isFunctionContext ||\n\n        // Avoid reporting  param-less, return-less constructor methods (when\n        //  `exemptEmptyConstructors` option is set)\n        exemptEmptyConstructors && jsdocUtils.isConstructor(node)\n      ) {\n        const functionParameterNames = jsdocUtils.getFunctionParameterNames(node);\n        if (!functionParameterNames.length && !jsdocUtils.hasReturnValue(node)) {\n          return;\n        }\n      }\n\n      const fix = (fixer) => {\n        // Default to one line break if the `minLines`/`maxLines` settings allow\n        const lines = settings.minLines === 0 && settings.maxLines >= 1 ? 1 : settings.minLines;\n        let baseNode = getReducedASTNode(node, sourceCode);\n\n        const decorator = getDecorator(baseNode);\n        if (decorator) {\n          baseNode = decorator;\n        }\n\n        const indent = jsdocUtils.getIndent({\n          text: sourceCode.getText(\n            baseNode,\n            baseNode.loc.start.column,\n          ),\n        });\n\n        const {\n          inlineCommentBlock,\n        } = contexts.find(({\n          context: ctxt,\n        }) => {\n          return ctxt === node.type;\n        }) || {};\n        const insertion = (inlineCommentBlock ?\n          `/** ${fixerMessage}` :\n          `/**\\n${indent}*${fixerMessage}\\n${indent}`) +\n            `*/${'\\n'.repeat(lines)}${indent.slice(0, -1)}`;\n\n        return fixer.insertTextBefore(baseNode, insertion);\n      };\n\n      const report = () => {\n        const {\n          start,\n        } = node.loc;\n        const loc = {\n          end: {\n            column: 0,\n            line: start.line + 1,\n          },\n          start: node.loc.start,\n        };\n        context.report({\n          fix: enableFixer ? fix : null,\n          loc,\n          messageId: 'missingJsDoc',\n          node,\n        });\n      };\n\n      if (publicOnly) {\n        const opt = {\n          ancestorsOnly: Boolean(publicOnly?.ancestorsOnly ?? false),\n          esm: Boolean(publicOnly?.esm ?? true),\n          initModuleExports: Boolean(publicOnly?.cjs ?? true),\n          initWindow: Boolean(publicOnly?.window ?? false),\n        };\n        const exported = exportParser.isUncommentedExport(node, sourceCode, opt, settings);\n\n        if (exported) {\n          report();\n        }\n      } else {\n        report();\n      }\n    };\n\n    const hasOption = (prop) => {\n      return requireOption[prop] || contexts.some((ctxt) => {\n        return typeof ctxt === 'object' ? ctxt.context === prop : ctxt === prop;\n      });\n    };\n\n    return {\n      ...jsdocUtils.getContextObject(\n        jsdocUtils.enforcedContexts(context, [], settings),\n        checkJsDoc,\n      ),\n      ArrowFunctionExpression (node) {\n        if (!hasOption('ArrowFunctionExpression')) {\n          return;\n        }\n\n        if (\n          [\n            'VariableDeclarator', 'AssignmentExpression', 'ExportDefaultDeclaration',\n          ].includes(node.parent.type) ||\n          [\n            'Property', 'ObjectProperty', 'ClassProperty', 'PropertyDefinition',\n          ].includes(node.parent.type) && node === node.parent.value\n        ) {\n          checkJsDoc({\n            isFunctionContext: true,\n          }, null, node);\n        }\n      },\n\n      ClassDeclaration (node) {\n        if (!hasOption('ClassDeclaration')) {\n          return;\n        }\n\n        checkJsDoc({\n          isFunctionContext: false,\n        }, null, node);\n      },\n\n      ClassExpression (node) {\n        if (!hasOption('ClassExpression')) {\n          return;\n        }\n\n        checkJsDoc({\n          isFunctionContext: false,\n        }, null, node);\n      },\n\n      FunctionDeclaration (node) {\n        if (!hasOption('FunctionDeclaration')) {\n          return;\n        }\n\n        checkJsDoc({\n          isFunctionContext: true,\n        }, null, node);\n      },\n\n      FunctionExpression (node) {\n        if (!hasOption('FunctionExpression')) {\n          return;\n        }\n\n        if (\n          [\n            'VariableDeclarator', 'AssignmentExpression', 'ExportDefaultDeclaration',\n          ].includes(node.parent.type) ||\n          [\n            'Property', 'ObjectProperty', 'ClassProperty', 'PropertyDefinition',\n          ].includes(node.parent.type) && node === node.parent.value\n        ) {\n          checkJsDoc({\n            isFunctionContext: true,\n          }, null, node);\n        }\n      },\n\n      MethodDefinition (node) {\n        if (!hasOption('MethodDefinition')) {\n          return;\n        }\n\n        checkJsDoc({\n          isFunctionContext: true,\n          selector: 'MethodDefinition',\n        }, null, node.value);\n      },\n    };\n  },\n  meta: {\n    docs: {\n      category: 'Stylistic Issues',\n      description: 'Require JSDoc comments',\n      recommended: 'true',\n      url: 'https://github.com/gajus/eslint-plugin-jsdoc#eslint-plugin-jsdoc-rules-require-jsdoc',\n    },\n\n    fixable: 'code',\n\n    messages: {\n      missingJsDoc: 'Missing JSDoc comment.',\n    },\n\n    schema: [\n      OPTIONS_SCHEMA,\n    ],\n\n    type: 'suggestion',\n  },\n};\n"],"mappings":"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"}