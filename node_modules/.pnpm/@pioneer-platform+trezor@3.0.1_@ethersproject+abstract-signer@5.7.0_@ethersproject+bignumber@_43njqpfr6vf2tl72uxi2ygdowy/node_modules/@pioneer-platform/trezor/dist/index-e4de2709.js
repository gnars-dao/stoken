var ts = Object.defineProperty;
var rs = (e, t, r) => t in e ? ts(e, t, { enumerable: !0, configurable: !0, writable: !0, value: r }) : e[t] = r;
var ve = (e, t, r) => (rs(e, typeof t != "symbol" ? t + "" : t, r), r);
import gr from "events";
import ir from "buffer";
import sa from "util";
import ns from "string_decoder";
var pe = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function is(e) {
  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e;
}
function os(e) {
  if (e.__esModule)
    return e;
  var t = e.default;
  if (typeof t == "function") {
    var r = function i() {
      return this instanceof i ? Reflect.construct(t, arguments, this.constructor) : t.apply(this, arguments);
    };
    r.prototype = t.prototype;
  } else
    r = {};
  return Object.defineProperty(r, "__esModule", { value: !0 }), Object.keys(e).forEach(function(i) {
    var u = Object.getOwnPropertyDescriptor(e, i);
    Object.defineProperty(r, i, u.get ? u : {
      enumerable: !0,
      get: function() {
        return e[i];
      }
    });
  }), r;
}
const as = "logger/5.7.0";
let Xn = !1, Jn = !1;
const dr = { debug: 1, default: 2, info: 2, warning: 3, error: 4, off: 5 };
let Zn = dr.default, Cr = null;
function ss() {
  try {
    const e = [];
    if (["NFD", "NFC", "NFKD", "NFKC"].forEach((t) => {
      try {
        if ("test".normalize(t) !== "test")
          throw new Error("bad normalize");
      } catch {
        e.push(t);
      }
    }), e.length)
      throw new Error("missing " + e.join(", "));
    if (String.fromCharCode(233).normalize("NFD") !== String.fromCharCode(101, 769))
      throw new Error("broken implementation");
  } catch (e) {
    return e.message;
  }
  return null;
}
const ei = ss();
var Bn;
(function(e) {
  e.DEBUG = "DEBUG", e.INFO = "INFO", e.WARNING = "WARNING", e.ERROR = "ERROR", e.OFF = "OFF";
})(Bn || (Bn = {}));
var Ge;
(function(e) {
  e.UNKNOWN_ERROR = "UNKNOWN_ERROR", e.NOT_IMPLEMENTED = "NOT_IMPLEMENTED", e.UNSUPPORTED_OPERATION = "UNSUPPORTED_OPERATION", e.NETWORK_ERROR = "NETWORK_ERROR", e.SERVER_ERROR = "SERVER_ERROR", e.TIMEOUT = "TIMEOUT", e.BUFFER_OVERRUN = "BUFFER_OVERRUN", e.NUMERIC_FAULT = "NUMERIC_FAULT", e.MISSING_NEW = "MISSING_NEW", e.INVALID_ARGUMENT = "INVALID_ARGUMENT", e.MISSING_ARGUMENT = "MISSING_ARGUMENT", e.UNEXPECTED_ARGUMENT = "UNEXPECTED_ARGUMENT", e.CALL_EXCEPTION = "CALL_EXCEPTION", e.INSUFFICIENT_FUNDS = "INSUFFICIENT_FUNDS", e.NONCE_EXPIRED = "NONCE_EXPIRED", e.REPLACEMENT_UNDERPRICED = "REPLACEMENT_UNDERPRICED", e.UNPREDICTABLE_GAS_LIMIT = "UNPREDICTABLE_GAS_LIMIT", e.TRANSACTION_REPLACED = "TRANSACTION_REPLACED", e.ACTION_REJECTED = "ACTION_REJECTED";
})(Ge || (Ge = {}));
const ti = "0123456789abcdef";
class oe {
  constructor(t) {
    Object.defineProperty(this, "version", {
      enumerable: !0,
      value: t,
      writable: !1
    });
  }
  _log(t, r) {
    const i = t.toLowerCase();
    dr[i] == null && this.throwArgumentError("invalid log level name", "logLevel", t), !(Zn > dr[i]) && console.log.apply(console, r);
  }
  debug(...t) {
    this._log(oe.levels.DEBUG, t);
  }
  info(...t) {
    this._log(oe.levels.INFO, t);
  }
  warn(...t) {
    this._log(oe.levels.WARNING, t);
  }
  makeError(t, r, i) {
    if (Jn)
      return this.makeError("censored error", r, {});
    r || (r = oe.errors.UNKNOWN_ERROR), i || (i = {});
    const u = [];
    Object.keys(i).forEach((p) => {
      const d = i[p];
      try {
        if (d instanceof Uint8Array) {
          let g = "";
          for (let S = 0; S < d.length; S++)
            g += ti[d[S] >> 4], g += ti[d[S] & 15];
          u.push(p + "=Uint8Array(0x" + g + ")");
        } else
          u.push(p + "=" + JSON.stringify(d));
      } catch {
        u.push(p + "=" + JSON.stringify(i[p].toString()));
      }
    }), u.push(`code=${r}`), u.push(`version=${this.version}`);
    const a = t;
    let f = "";
    switch (r) {
      case Ge.NUMERIC_FAULT: {
        f = "NUMERIC_FAULT";
        const p = t;
        switch (p) {
          case "overflow":
          case "underflow":
          case "division-by-zero":
            f += "-" + p;
            break;
          case "negative-power":
          case "negative-width":
            f += "-unsupported";
            break;
          case "unbound-bitwise-result":
            f += "-unbound-result";
            break;
        }
        break;
      }
      case Ge.CALL_EXCEPTION:
      case Ge.INSUFFICIENT_FUNDS:
      case Ge.MISSING_NEW:
      case Ge.NONCE_EXPIRED:
      case Ge.REPLACEMENT_UNDERPRICED:
      case Ge.TRANSACTION_REPLACED:
      case Ge.UNPREDICTABLE_GAS_LIMIT:
        f = r;
        break;
    }
    f && (t += " [ See: https://links.ethers.org/v5-errors-" + f + " ]"), u.length && (t += " (" + u.join(", ") + ")");
    const c = new Error(t);
    return c.reason = a, c.code = r, Object.keys(i).forEach(function(p) {
      c[p] = i[p];
    }), c;
  }
  throwError(t, r, i) {
    throw this.makeError(t, r, i);
  }
  throwArgumentError(t, r, i) {
    return this.throwError(t, oe.errors.INVALID_ARGUMENT, {
      argument: r,
      value: i
    });
  }
  assert(t, r, i, u) {
    t || this.throwError(r, i, u);
  }
  assertArgument(t, r, i, u) {
    t || this.throwArgumentError(r, i, u);
  }
  checkNormalize(t) {
    ei && this.throwError("platform missing String.prototype.normalize", oe.errors.UNSUPPORTED_OPERATION, {
      operation: "String.prototype.normalize",
      form: ei
    });
  }
  checkSafeUint53(t, r) {
    typeof t == "number" && (r == null && (r = "value not safe"), (t < 0 || t >= 9007199254740991) && this.throwError(r, oe.errors.NUMERIC_FAULT, {
      operation: "checkSafeInteger",
      fault: "out-of-safe-range",
      value: t
    }), t % 1 && this.throwError(r, oe.errors.NUMERIC_FAULT, {
      operation: "checkSafeInteger",
      fault: "non-integer",
      value: t
    }));
  }
  checkArgumentCount(t, r, i) {
    i ? i = ": " + i : i = "", t < r && this.throwError("missing argument" + i, oe.errors.MISSING_ARGUMENT, {
      count: t,
      expectedCount: r
    }), t > r && this.throwError("too many arguments" + i, oe.errors.UNEXPECTED_ARGUMENT, {
      count: t,
      expectedCount: r
    });
  }
  checkNew(t, r) {
    (t === Object || t == null) && this.throwError("missing new", oe.errors.MISSING_NEW, { name: r.name });
  }
  checkAbstract(t, r) {
    t === r ? this.throwError("cannot instantiate abstract class " + JSON.stringify(r.name) + " directly; use a sub-class", oe.errors.UNSUPPORTED_OPERATION, { name: t.name, operation: "new" }) : (t === Object || t == null) && this.throwError("missing new", oe.errors.MISSING_NEW, { name: r.name });
  }
  static globalLogger() {
    return Cr || (Cr = new oe(as)), Cr;
  }
  static setCensorship(t, r) {
    if (!t && r && this.globalLogger().throwError("cannot permanently disable censorship", oe.errors.UNSUPPORTED_OPERATION, {
      operation: "setCensorship"
    }), Xn) {
      if (!t)
        return;
      this.globalLogger().throwError("error censorship permanent", oe.errors.UNSUPPORTED_OPERATION, {
        operation: "setCensorship"
      });
    }
    Jn = !!t, Xn = !!r;
  }
  static setLogLevel(t) {
    const r = dr[t.toLowerCase()];
    if (r == null) {
      oe.globalLogger().warn("invalid log level - " + t);
      return;
    }
    Zn = r;
  }
  static from(t) {
    return new oe(t);
  }
}
oe.errors = Ge;
oe.levels = Bn;
const pr = ([e, t, r, i, u]) => `${e}'/${t}'/${r}'/${i}${typeof u != "number" ? "" : `/${u}`}`;
var K = /* @__PURE__ */ ((e) => (e.INVALID_INPUT_PARAMETERS = "1000", e.UNKNOWN_PROVIDERS = "1001", e.CANNOT_FIND_INBOUND_ADDRESS = "1002", e.NO_INBOUND_ADDRESSES = "1003", e.CHAIN_HALTED_OR_UNSUPPORTED = "1004", e.MISSING_INPUT_PARAMETER = "1005", e.INVALID_TYPE_GENERIC = "1100", e.INVALID_NUMBER_STRING = "1101", e.INVALID_NUMBER = "1102", e.INVALID_BOOLEAN = "1103", e.INVALID_OBJECT = "1104", e.INVALID_ARRAY = "1105", e.SELL_AMOUNT_MUST_BE_POSITIVE_INTEGER = "2000", e.SELL_BUY_ASSETS_ARE_THE_SAME = "2001", e.MISSING_SOURCE_ADDRESS_FOR_SYNTH = "2002", e.AFF_ADDRESS_AND_BPS_OR_NEITHER = "2003", e.AFF_ADDRESS_TOO_LONG = "2004", e.AFF_BPS_INTEGER_0_100 = "2005", e.SOURCE_ADDRESS_INVALID_FOR_SELL_CHAIN = "2006", e.DESTINATION_ADDRESS_INVALID_FOR_BUY_CHAIN = "2007", e.PREFERRED_PROFVIDER_NOT_SUPPORTED = "2008", e.DESTINATION_ADDRESS_SMART_CONTRACT = "2009", e.BUY_AMOUNT_MUST_BE_POSITIVE_INTEGER = "2010", e.SOURCE_ADDRESS_SMART_CONTRACT = "2011", e.INVALID_PROVIDER = "2100", e.MISSING_CROSS_CHAIN_PROVIDER = "2101", e.MISSING_AVAX_PROVIDER = "2102", e.MISSING_BSC_PROVIDER = "2103", e.MISSING_ETH_PROVIDER = "2104", e.INVALID_PROVIDER_FOR_SWAP_OUT = "2105", e.MISSING_ARB_PROVIDER = "2106", e.INVALID_CHAIN = "2200", e.INVALID_ASSET = "2201", e.INVALID_ASSET_IDENTIFIER = "2202", e.UNSUPPORTED_CHAIN = "2204", e.UNSUPPORTED_ASSET = "2203", e.UNSUPPORTED_ASSET_FOR_SWAPOUT = "2205", e.THORNODE_QUOTE_GENERIC_ERROR = "3000", e.NOT_ENOUGH_SYNTH_BALANCE = "3001", e.SYNTH_MINTING_CAP_REACHED = "3002", e.INVALID_QUOTE_MODE = "4000", e.NO_QUOTES = "4001", e.SERVICE_UNAVAILABLE_GENERIC = "5000", e.MISSING_GAS_DATA_GENERIC = "5100", e.MISSING_TOKEN_INFO_GENERIC = "5200", e.CANT_FIND_TOKEN_LIST = "5201", e.NO_PRICE = "5202", e.PRICE_IS_STALE = "5203", e.ADDRESS_NOT_WHITELISTED = "6000", e.ADDRESS_ALREADY_CLAIMED = "6001", e.TEMPORARY_ERROR = "9999", e))(K || {});
K.INVALID_INPUT_PARAMETERS + "", K.UNKNOWN_PROVIDERS + "", K.CANNOT_FIND_INBOUND_ADDRESS + "", K.NO_INBOUND_ADDRESSES + "", K.CHAIN_HALTED_OR_UNSUPPORTED + "", K.MISSING_INPUT_PARAMETER + "", K.INVALID_TYPE_GENERIC + "", K.INVALID_NUMBER_STRING + "", K.INVALID_NUMBER + "", K.INVALID_BOOLEAN + "", K.INVALID_OBJECT + "", K.INVALID_ARRAY + "", K.SELL_AMOUNT_MUST_BE_POSITIVE_INTEGER + "", K.SELL_BUY_ASSETS_ARE_THE_SAME + "", K.MISSING_SOURCE_ADDRESS_FOR_SYNTH + "", K.AFF_ADDRESS_AND_BPS_OR_NEITHER + "", K.AFF_ADDRESS_TOO_LONG + "", K.AFF_BPS_INTEGER_0_100 + "", K.SOURCE_ADDRESS_INVALID_FOR_SELL_CHAIN + "", K.DESTINATION_ADDRESS_INVALID_FOR_BUY_CHAIN + "", K.PREFERRED_PROFVIDER_NOT_SUPPORTED + "", K.DESTINATION_ADDRESS_SMART_CONTRACT + "", K.BUY_AMOUNT_MUST_BE_POSITIVE_INTEGER + "", K.INVALID_PROVIDER + "", K.MISSING_CROSS_CHAIN_PROVIDER + "", K.MISSING_AVAX_PROVIDER + "", K.MISSING_BSC_PROVIDER + "", K.MISSING_ETH_PROVIDER + "", K.MISSING_ARB_PROVIDER + "", K.INVALID_PROVIDER_FOR_SWAP_OUT + "", K.INVALID_CHAIN + "", K.INVALID_ASSET + "", K.UNSUPPORTED_CHAIN + "", K.UNSUPPORTED_ASSET + "", K.UNSUPPORTED_ASSET_FOR_SWAPOUT + "", K.THORNODE_QUOTE_GENERIC_ERROR + "", K.NOT_ENOUGH_SYNTH_BALANCE + "", K.SYNTH_MINTING_CAP_REACHED + "", K.INVALID_QUOTE_MODE + "", K.NO_QUOTES + "", K.SERVICE_UNAVAILABLE_GENERIC + "", K.MISSING_GAS_DATA_GENERIC + "", K.MISSING_TOKEN_INFO_GENERIC + "", K.CANT_FIND_TOKEN_LIST + "", K.NO_PRICE + "", K.PRICE_IS_STALE + "", K.ADDRESS_NOT_WHITELISTED + "", K.ADDRESS_ALREADY_CLAIMED + "";
var ae = /* @__PURE__ */ ((e) => (e.Arbitrum = "ARB", e.Avalanche = "AVAX", e.Binance = "BNB", e.BinanceSmartChain = "BSC", e.Bitcoin = "BTC", e.BitcoinCash = "BCH", e.Cosmos = "GAIA", e.Dogecoin = "DOGE", e.Ethereum = "ETH", e.Litecoin = "LTC", e.Optimism = "OP", e.Polygon = "MATIC", e.THORChain = "THOR", e))(ae || {}), kn = /* @__PURE__ */ ((e) => (e.Arbitrum = "42161", e.ArbitrumHex = "0xa4b1", e.Avalanche = "43114", e.AvalancheHex = "0xa86a", e.Binance = "Binance-Chain-Tigris", e.BinanceHex = "", e.BinanceSmartChain = "56", e.BinanceSmartChainHex = "0x38", e.Bitcoin = "bitcoin", e.BitcoinHex = "", e.BitcoinCash = "bitcoincash", e.BitcoinCashHex = "", e.Cosmos = "cosmoshub-4", e.CosmosHex = "", e.Dogecoin = "dogecoin", e.DogecoinHex = "", e.Ethereum = "1", e.EthereumHex = "0x1", e.Litecoin = "litecoin", e.LitecoinHex = "", e.Optimism = "10", e.OptimismHex = "0xa", e.Polygon = "137", e.PolygonHex = "0x89", e.THORChain = "thorchain-mainnet-v1", e.THORChainHex = "", e.THORChainStagenet = "thorchain-stagenet-v2", e))(kn || {}), ua = /* @__PURE__ */ ((e) => (e.Arbitrum = "https://arb1.arbitrum.io/rpc", e.Avalanche = "https://node-router.thorswap.net/avalanche-c", e.Binance = "", e.BinanceSmartChain = "https://bsc-dataseed.binance.org", e.Bitcoin = "https://node-router.thorswap.net/bitcoin", e.BitcoinCash = "https://node-router.thorswap.net/bitcoin-cash", e.Cosmos = "https://node-router.thorswap.net/cosmos/rpc", e.Dogecoin = "https://node-router.thorswap.net/dogecoin", e.Ethereum = "https://node-router.thorswap.net/ethereum", e.Litecoin = "https://node-router.thorswap.net/litecoin", e.Optimism = "https://mainnet.optimism.io", e.Polygon = "https://polygon-rpc.com", e.THORChain = "https://rpc.thorswap.net", e.THORChainStagenet = "https://stagenet-rpc.ninerealms.com", e))(ua || {});
const yr = Object.values(ae), us = Object.keys(ae), qn = yr.reduce(
  (e, t) => {
    const r = us.find((i) => ae[i] === t);
    return r && (e[t] = r), e;
  },
  {}
), cs = yr.reduce(
  (e, t) => (e[t] = kn[qn[t]], e),
  {}
);
yr.reduce(
  (e, t) => (e[t] = ua[qn[t]], e),
  {}
);
yr.reduce(
  (e, t) => (e[t] = kn[`${qn[t]}Hex`], e),
  {}
);
var Zt = /* @__PURE__ */ ((e) => (e.Average = "average", e.Fast = "fast", e.Fastest = "fastest", e))(Zt || {}), ca = /* @__PURE__ */ ((e) => (e.KEYSTORE = "KEYSTORE", e.XDEFI = "XDEFI", e.METAMASK = "METAMASK", e.COINBASE_WEB = "COINBASE_WEB", e.TREZOR = "TREZOR", e.KEEPKEY = "KEEPKEY", e.TRUSTWALLET_WEB = "TRUSTWALLET_WEB", e.LEDGER = "LEDGER", e.KEPLR = "KEPLR", e.OKX = "OKX", e.BRAVE = "BRAVE", e.WALLETCONNECT = "WALLETCONNECT", e))(ca || {});
Zt.Average + "", Zt.Fast + "", Zt.Fastest + "";
var fa = {};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Un = function(e, t) {
  return Un = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, i) {
    r.__proto__ = i;
  } || function(r, i) {
    for (var u in i)
      i.hasOwnProperty(u) && (r[u] = i[u]);
  }, Un(e, t);
};
function fs(e, t) {
  Un(e, t);
  function r() {
    this.constructor = e;
  }
  e.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var Mn = function() {
  return Mn = Object.assign || function(t) {
    for (var r, i = 1, u = arguments.length; i < u; i++) {
      r = arguments[i];
      for (var a in r)
        Object.prototype.hasOwnProperty.call(r, a) && (t[a] = r[a]);
    }
    return t;
  }, Mn.apply(this, arguments);
};
function ls(e, t) {
  var r = {};
  for (var i in e)
    Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (r[i] = e[i]);
  if (e != null && typeof Object.getOwnPropertySymbols == "function")
    for (var u = 0, i = Object.getOwnPropertySymbols(e); u < i.length; u++)
      t.indexOf(i[u]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[u]) && (r[i[u]] = e[i[u]]);
  return r;
}
function hs(e, t, r, i) {
  var u = arguments.length, a = u < 3 ? t : i === null ? i = Object.getOwnPropertyDescriptor(t, r) : i, f;
  if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
    a = Reflect.decorate(e, t, r, i);
  else
    for (var c = e.length - 1; c >= 0; c--)
      (f = e[c]) && (a = (u < 3 ? f(a) : u > 3 ? f(t, r, a) : f(t, r)) || a);
  return u > 3 && a && Object.defineProperty(t, r, a), a;
}
function ds(e, t) {
  return function(r, i) {
    t(r, i, e);
  };
}
function ps(e, t) {
  if (typeof Reflect == "object" && typeof Reflect.metadata == "function")
    return Reflect.metadata(e, t);
}
function _s(e, t, r, i) {
  function u(a) {
    return a instanceof r ? a : new r(function(f) {
      f(a);
    });
  }
  return new (r || (r = Promise))(function(a, f) {
    function c(g) {
      try {
        d(i.next(g));
      } catch (S) {
        f(S);
      }
    }
    function p(g) {
      try {
        d(i.throw(g));
      } catch (S) {
        f(S);
      }
    }
    function d(g) {
      g.done ? a(g.value) : u(g.value).then(c, p);
    }
    d((i = i.apply(e, t || [])).next());
  });
}
function Es(e, t) {
  var r = { label: 0, sent: function() {
    if (a[0] & 1)
      throw a[1];
    return a[1];
  }, trys: [], ops: [] }, i, u, a, f;
  return f = { next: c(0), throw: c(1), return: c(2) }, typeof Symbol == "function" && (f[Symbol.iterator] = function() {
    return this;
  }), f;
  function c(d) {
    return function(g) {
      return p([d, g]);
    };
  }
  function p(d) {
    if (i)
      throw new TypeError("Generator is already executing.");
    for (; r; )
      try {
        if (i = 1, u && (a = d[0] & 2 ? u.return : d[0] ? u.throw || ((a = u.return) && a.call(u), 0) : u.next) && !(a = a.call(u, d[1])).done)
          return a;
        switch (u = 0, a && (d = [d[0] & 2, a.value]), d[0]) {
          case 0:
          case 1:
            a = d;
            break;
          case 4:
            return r.label++, { value: d[1], done: !1 };
          case 5:
            r.label++, u = d[1], d = [0];
            continue;
          case 7:
            d = r.ops.pop(), r.trys.pop();
            continue;
          default:
            if (a = r.trys, !(a = a.length > 0 && a[a.length - 1]) && (d[0] === 6 || d[0] === 2)) {
              r = 0;
              continue;
            }
            if (d[0] === 3 && (!a || d[1] > a[0] && d[1] < a[3])) {
              r.label = d[1];
              break;
            }
            if (d[0] === 6 && r.label < a[1]) {
              r.label = a[1], a = d;
              break;
            }
            if (a && r.label < a[2]) {
              r.label = a[2], r.ops.push(d);
              break;
            }
            a[2] && r.ops.pop(), r.trys.pop();
            continue;
        }
        d = t.call(e, r);
      } catch (g) {
        d = [6, g], u = 0;
      } finally {
        i = a = 0;
      }
    if (d[0] & 5)
      throw d[1];
    return { value: d[0] ? d[1] : void 0, done: !0 };
  }
}
function vs(e, t, r, i) {
  i === void 0 && (i = r), e[i] = t[r];
}
function gs(e, t) {
  for (var r in e)
    r !== "default" && !t.hasOwnProperty(r) && (t[r] = e[r]);
}
function Cn(e) {
  var t = typeof Symbol == "function" && Symbol.iterator, r = t && e[t], i = 0;
  if (r)
    return r.call(e);
  if (e && typeof e.length == "number")
    return {
      next: function() {
        return e && i >= e.length && (e = void 0), { value: e && e[i++], done: !e };
      }
    };
  throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function la(e, t) {
  var r = typeof Symbol == "function" && e[Symbol.iterator];
  if (!r)
    return e;
  var i = r.call(e), u, a = [], f;
  try {
    for (; (t === void 0 || t-- > 0) && !(u = i.next()).done; )
      a.push(u.value);
  } catch (c) {
    f = { error: c };
  } finally {
    try {
      u && !u.done && (r = i.return) && r.call(i);
    } finally {
      if (f)
        throw f.error;
    }
  }
  return a;
}
function ys() {
  for (var e = [], t = 0; t < arguments.length; t++)
    e = e.concat(la(arguments[t]));
  return e;
}
function bs() {
  for (var e = 0, t = 0, r = arguments.length; t < r; t++)
    e += arguments[t].length;
  for (var i = Array(e), u = 0, t = 0; t < r; t++)
    for (var a = arguments[t], f = 0, c = a.length; f < c; f++, u++)
      i[u] = a[f];
  return i;
}
function er(e) {
  return this instanceof er ? (this.v = e, this) : new er(e);
}
function ms(e, t, r) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var i = r.apply(e, t || []), u, a = [];
  return u = {}, f("next"), f("throw"), f("return"), u[Symbol.asyncIterator] = function() {
    return this;
  }, u;
  function f(A) {
    i[A] && (u[A] = function(I) {
      return new Promise(function(_, B) {
        a.push([A, I, _, B]) > 1 || c(A, I);
      });
    });
  }
  function c(A, I) {
    try {
      p(i[A](I));
    } catch (_) {
      S(a[0][3], _);
    }
  }
  function p(A) {
    A.value instanceof er ? Promise.resolve(A.value.v).then(d, g) : S(a[0][2], A);
  }
  function d(A) {
    c("next", A);
  }
  function g(A) {
    c("throw", A);
  }
  function S(A, I) {
    A(I), a.shift(), a.length && c(a[0][0], a[0][1]);
  }
}
function ws(e) {
  var t, r;
  return t = {}, i("next"), i("throw", function(u) {
    throw u;
  }), i("return"), t[Symbol.iterator] = function() {
    return this;
  }, t;
  function i(u, a) {
    t[u] = e[u] ? function(f) {
      return (r = !r) ? { value: er(e[u](f)), done: u === "return" } : a ? a(f) : f;
    } : a;
  }
}
function Ss(e) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var t = e[Symbol.asyncIterator], r;
  return t ? t.call(e) : (e = typeof Cn == "function" ? Cn(e) : e[Symbol.iterator](), r = {}, i("next"), i("throw"), i("return"), r[Symbol.asyncIterator] = function() {
    return this;
  }, r);
  function i(a) {
    r[a] = e[a] && function(f) {
      return new Promise(function(c, p) {
        f = e[a](f), u(c, p, f.done, f.value);
      });
    };
  }
  function u(a, f, c, p) {
    Promise.resolve(p).then(function(d) {
      a({ value: d, done: c });
    }, f);
  }
}
function Rs(e, t) {
  return Object.defineProperty ? Object.defineProperty(e, "raw", { value: t }) : e.raw = t, e;
}
function Is(e) {
  if (e && e.__esModule)
    return e;
  var t = {};
  if (e != null)
    for (var r in e)
      Object.hasOwnProperty.call(e, r) && (t[r] = e[r]);
  return t.default = e, t;
}
function As(e) {
  return e && e.__esModule ? e : { default: e };
}
function Ts(e, t) {
  if (!t.has(e))
    throw new TypeError("attempted to get private field on non-instance");
  return t.get(e);
}
function Ns(e, t, r) {
  if (!t.has(e))
    throw new TypeError("attempted to set private field on non-instance");
  return t.set(e, r), r;
}
const Os = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  get __assign() {
    return Mn;
  },
  __asyncDelegator: ws,
  __asyncGenerator: ms,
  __asyncValues: Ss,
  __await: er,
  __awaiter: _s,
  __classPrivateFieldGet: Ts,
  __classPrivateFieldSet: Ns,
  __createBinding: vs,
  __decorate: hs,
  __exportStar: gs,
  __extends: fs,
  __generator: Es,
  __importDefault: As,
  __importStar: Is,
  __makeTemplateObject: Rs,
  __metadata: ps,
  __param: ds,
  __read: la,
  __rest: ls,
  __spread: ys,
  __spreadArrays: bs,
  __values: Cn
}, Symbol.toStringTag, { value: "Module" })), ot = /* @__PURE__ */ os(Os);
var Dr = {}, Pe = {}, Lr = {}, ri;
function Gn() {
  return ri || (ri = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.LIBUSB_ERROR_MESSAGE = e.serializeError = e.TypedError = e.TrezorError = e.ERROR_CODES = void 0, e.ERROR_CODES = {
      Init_NotInitialized: "TrezorConnect not initialized",
      Init_AlreadyInitialized: "TrezorConnect has been already initialized",
      Init_IframeBlocked: "Iframe blocked",
      Init_IframeTimeout: "Iframe timeout",
      Init_ManifestMissing: "Manifest not set. Read more at https://github.com/trezor/trezor-suite/blob/develop/docs/packages/connect/index.md",
      Popup_ConnectionMissing: "Unable to establish connection with iframe",
      Transport_Missing: "Transport is missing",
      Transport_InvalidProtobuf: "",
      Method_InvalidPackage: "This package is not suitable to work with browser. Use @trezor/connect-web package instead",
      Method_InvalidParameter: "",
      Method_NotAllowed: "Method not allowed for this configuration",
      Method_PermissionsNotGranted: "Permissions not granted",
      Method_Cancel: "Cancelled",
      Method_Interrupted: "Popup closed",
      Method_UnknownCoin: "Coin not found",
      Method_AddressNotMatch: "Addresses do not match",
      Method_FirmwareUpdate_DownloadFailed: "Failed to download firmware binary",
      Method_Discovery_BundleException: "",
      Method_Override: "override",
      Method_NoResponse: "Call resolved without response",
      Backend_NotSupported: "BlockchainLink settings not found in coins.json",
      Backend_WorkerMissing: "",
      Backend_Disconnected: "Backend disconnected",
      Backend_Invalid: "Invalid backend",
      Backend_Error: "",
      Runtime: "",
      Device_NotFound: "Device not found",
      Device_InitializeFailed: "",
      Device_FwException: "",
      Device_ModeException: "",
      Device_Disconnected: "Device disconnected",
      Device_UsedElsewhere: "Device is used in another window",
      Device_InvalidState: "Passphrase is incorrect",
      Device_CallInProgress: "Device call in progress"
    };
    class t extends Error {
      constructor(a, f) {
        super(f), this.code = a, this.message = f;
      }
    }
    e.TrezorError = t;
    const r = (u, a) => new t(u, a || e.ERROR_CODES[u]);
    e.TypedError = r;
    const i = (u) => u && u.error instanceof Error ? { error: u.error.message, code: u.error.code } : u;
    e.serializeError = i, e.LIBUSB_ERROR_MESSAGE = "LIBUSB_ERROR";
  }(Lr)), Lr;
}
var dt = {}, ni;
function Ps() {
  return ni || (ni = 1, Object.defineProperty(dt, "__esModule", { value: !0 }), dt.TYPES = void 0, dt.TYPES = {
    bitcoin: "Bitcoin",
    ethereum: "Ethereum",
    eos: "Eos",
    nem: "NEM",
    stellar: "Stellar",
    cardano: "Cardano",
    ripple: "Ripple",
    tezos: "Tezos",
    binance: "Binance"
  }), dt;
}
var xr = {}, ii;
function Bs() {
  return ii || (ii = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.NETWORK_IDS = e.PROTOCOL_MAGICS = void 0, function(t) {
      t[t.mainnet = 764824073] = "mainnet", t[t.testnet_preprod = 1] = "testnet_preprod", t[t.testnet_preview = 2] = "testnet_preview", t[t.testnet_legacy = 1097911063] = "testnet_legacy";
    }(e.PROTOCOL_MAGICS || (e.PROTOCOL_MAGICS = {})), function(t) {
      t[t.mainnet = 1] = "mainnet", t[t.testnet = 0] = "testnet";
    }(e.NETWORK_IDS || (e.NETWORK_IDS = {}));
  }(xr)), xr;
}
var Fr = {}, oi;
function Us() {
  return oi || (oi = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.TxVersion = e.TxType = e.Networks = void 0, function(t) {
      t[t.mainnet = 104] = "mainnet", t[t.testnet = 152] = "testnet", t[t.mijin = 96] = "mijin";
    }(e.Networks || (e.Networks = {})), function(t) {
      t[t.TRANSFER = 257] = "TRANSFER", t[t.COSIGNING = 258] = "COSIGNING", t[t.IMPORTANCE_TRANSFER = 2049] = "IMPORTANCE_TRANSFER", t[t.AGGREGATE_MODIFICATION = 4097] = "AGGREGATE_MODIFICATION", t[t.MULTISIG_SIGNATURE = 4098] = "MULTISIG_SIGNATURE", t[t.MULTISIG = 4100] = "MULTISIG", t[t.PROVISION_NAMESPACE = 8193] = "PROVISION_NAMESPACE", t[t.MOSAIC_CREATION = 16385] = "MOSAIC_CREATION", t[t.SUPPLY_CHANGE = 16386] = "SUPPLY_CHANGE";
    }(e.TxType || (e.TxType = {})), function(t) {
      t[t.mainnet = 1744830464] = "mainnet", t[t.testnet = -1744830464] = "testnet", t[t.mijin = 1610612736] = "mijin";
    }(e.TxVersion || (e.TxVersion = {}));
  }(Fr)), Fr;
}
var kr = {}, ai;
function ha() {
  return ai || (ai = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.TezosBallotType = e.TezosContractType = e.StellarSignerType = e.StellarMemoType = e.StellarAssetType = e.NEMImportanceTransferMode = e.NEMModificationType = e.NEMSupplyChangeType = e.NEMMosaicLevy = e.MoneroNetworkType = e.Enum_WordRequestType = e.RecoveryDeviceType = e.SdProtectOperationType = e.Enum_Capability = e.Enum_HomescreenFormat = e.Enum_SafetyCheckLevel = e.Enum_BackupType = e.EthereumDataType = e.EthereumDefinitionType = e.DebugPhysicalButton = e.DebugButton = e.Enum_PinMatrixRequestType = e.Enum_ButtonRequestType = e.FailureType = e.CardanoTxWitnessType = e.CardanoTxSigningMode = e.CardanoCVoteRegistrationFormat = e.CardanoTxAuxiliaryDataSupplementType = e.CardanoPoolRelayType = e.CardanoCertificateType = e.CardanoTxOutputSerializationFormat = e.CardanoNativeScriptHashDisplayFormat = e.CardanoNativeScriptType = e.CardanoAddressType = e.CardanoDerivationType = e.Enum_RequestType = e.AmountUnit = e.DecredStakingSpendType = e.Enum_OutputScriptType = e.Enum_InputScriptType = e.BinanceTimeInForce = e.BinanceOrderSide = e.BinanceOrderType = e.DeviceModelInternal = void 0, function(t) {
      t.T1B1 = "T1B1", t.T2T1 = "T2T1", t.T2B1 = "T2B1";
    }(e.DeviceModelInternal || (e.DeviceModelInternal = {})), function(t) {
      t[t.OT_UNKNOWN = 0] = "OT_UNKNOWN", t[t.MARKET = 1] = "MARKET", t[t.LIMIT = 2] = "LIMIT", t[t.OT_RESERVED = 3] = "OT_RESERVED";
    }(e.BinanceOrderType || (e.BinanceOrderType = {})), function(t) {
      t[t.SIDE_UNKNOWN = 0] = "SIDE_UNKNOWN", t[t.BUY = 1] = "BUY", t[t.SELL = 2] = "SELL";
    }(e.BinanceOrderSide || (e.BinanceOrderSide = {})), function(t) {
      t[t.TIF_UNKNOWN = 0] = "TIF_UNKNOWN", t[t.GTE = 1] = "GTE", t[t.TIF_RESERVED = 2] = "TIF_RESERVED", t[t.IOC = 3] = "IOC";
    }(e.BinanceTimeInForce || (e.BinanceTimeInForce = {})), function(t) {
      t[t.SPENDADDRESS = 0] = "SPENDADDRESS", t[t.SPENDMULTISIG = 1] = "SPENDMULTISIG", t[t.EXTERNAL = 2] = "EXTERNAL", t[t.SPENDWITNESS = 3] = "SPENDWITNESS", t[t.SPENDP2SHWITNESS = 4] = "SPENDP2SHWITNESS", t[t.SPENDTAPROOT = 5] = "SPENDTAPROOT";
    }(e.Enum_InputScriptType || (e.Enum_InputScriptType = {})), function(t) {
      t[t.PAYTOADDRESS = 0] = "PAYTOADDRESS", t[t.PAYTOSCRIPTHASH = 1] = "PAYTOSCRIPTHASH", t[t.PAYTOMULTISIG = 2] = "PAYTOMULTISIG", t[t.PAYTOOPRETURN = 3] = "PAYTOOPRETURN", t[t.PAYTOWITNESS = 4] = "PAYTOWITNESS", t[t.PAYTOP2SHWITNESS = 5] = "PAYTOP2SHWITNESS", t[t.PAYTOTAPROOT = 6] = "PAYTOTAPROOT";
    }(e.Enum_OutputScriptType || (e.Enum_OutputScriptType = {})), function(t) {
      t[t.SSGen = 0] = "SSGen", t[t.SSRTX = 1] = "SSRTX";
    }(e.DecredStakingSpendType || (e.DecredStakingSpendType = {})), function(t) {
      t[t.BITCOIN = 0] = "BITCOIN", t[t.MILLIBITCOIN = 1] = "MILLIBITCOIN", t[t.MICROBITCOIN = 2] = "MICROBITCOIN", t[t.SATOSHI = 3] = "SATOSHI";
    }(e.AmountUnit || (e.AmountUnit = {})), function(t) {
      t[t.TXINPUT = 0] = "TXINPUT", t[t.TXOUTPUT = 1] = "TXOUTPUT", t[t.TXMETA = 2] = "TXMETA", t[t.TXFINISHED = 3] = "TXFINISHED", t[t.TXEXTRADATA = 4] = "TXEXTRADATA", t[t.TXORIGINPUT = 5] = "TXORIGINPUT", t[t.TXORIGOUTPUT = 6] = "TXORIGOUTPUT", t[t.TXPAYMENTREQ = 7] = "TXPAYMENTREQ";
    }(e.Enum_RequestType || (e.Enum_RequestType = {})), function(t) {
      t[t.LEDGER = 0] = "LEDGER", t[t.ICARUS = 1] = "ICARUS", t[t.ICARUS_TREZOR = 2] = "ICARUS_TREZOR";
    }(e.CardanoDerivationType || (e.CardanoDerivationType = {})), function(t) {
      t[t.BASE = 0] = "BASE", t[t.BASE_SCRIPT_KEY = 1] = "BASE_SCRIPT_KEY", t[t.BASE_KEY_SCRIPT = 2] = "BASE_KEY_SCRIPT", t[t.BASE_SCRIPT_SCRIPT = 3] = "BASE_SCRIPT_SCRIPT", t[t.POINTER = 4] = "POINTER", t[t.POINTER_SCRIPT = 5] = "POINTER_SCRIPT", t[t.ENTERPRISE = 6] = "ENTERPRISE", t[t.ENTERPRISE_SCRIPT = 7] = "ENTERPRISE_SCRIPT", t[t.BYRON = 8] = "BYRON", t[t.REWARD = 14] = "REWARD", t[t.REWARD_SCRIPT = 15] = "REWARD_SCRIPT";
    }(e.CardanoAddressType || (e.CardanoAddressType = {})), function(t) {
      t[t.PUB_KEY = 0] = "PUB_KEY", t[t.ALL = 1] = "ALL", t[t.ANY = 2] = "ANY", t[t.N_OF_K = 3] = "N_OF_K", t[t.INVALID_BEFORE = 4] = "INVALID_BEFORE", t[t.INVALID_HEREAFTER = 5] = "INVALID_HEREAFTER";
    }(e.CardanoNativeScriptType || (e.CardanoNativeScriptType = {})), function(t) {
      t[t.HIDE = 0] = "HIDE", t[t.BECH32 = 1] = "BECH32", t[t.POLICY_ID = 2] = "POLICY_ID";
    }(e.CardanoNativeScriptHashDisplayFormat || (e.CardanoNativeScriptHashDisplayFormat = {})), function(t) {
      t[t.ARRAY_LEGACY = 0] = "ARRAY_LEGACY", t[t.MAP_BABBAGE = 1] = "MAP_BABBAGE";
    }(e.CardanoTxOutputSerializationFormat || (e.CardanoTxOutputSerializationFormat = {})), function(t) {
      t[t.STAKE_REGISTRATION = 0] = "STAKE_REGISTRATION", t[t.STAKE_DEREGISTRATION = 1] = "STAKE_DEREGISTRATION", t[t.STAKE_DELEGATION = 2] = "STAKE_DELEGATION", t[t.STAKE_POOL_REGISTRATION = 3] = "STAKE_POOL_REGISTRATION";
    }(e.CardanoCertificateType || (e.CardanoCertificateType = {})), function(t) {
      t[t.SINGLE_HOST_IP = 0] = "SINGLE_HOST_IP", t[t.SINGLE_HOST_NAME = 1] = "SINGLE_HOST_NAME", t[t.MULTIPLE_HOST_NAME = 2] = "MULTIPLE_HOST_NAME";
    }(e.CardanoPoolRelayType || (e.CardanoPoolRelayType = {})), function(t) {
      t[t.NONE = 0] = "NONE", t[t.CVOTE_REGISTRATION_SIGNATURE = 1] = "CVOTE_REGISTRATION_SIGNATURE";
    }(e.CardanoTxAuxiliaryDataSupplementType || (e.CardanoTxAuxiliaryDataSupplementType = {})), function(t) {
      t[t.CIP15 = 0] = "CIP15", t[t.CIP36 = 1] = "CIP36";
    }(e.CardanoCVoteRegistrationFormat || (e.CardanoCVoteRegistrationFormat = {})), function(t) {
      t[t.ORDINARY_TRANSACTION = 0] = "ORDINARY_TRANSACTION", t[t.POOL_REGISTRATION_AS_OWNER = 1] = "POOL_REGISTRATION_AS_OWNER", t[t.MULTISIG_TRANSACTION = 2] = "MULTISIG_TRANSACTION", t[t.PLUTUS_TRANSACTION = 3] = "PLUTUS_TRANSACTION";
    }(e.CardanoTxSigningMode || (e.CardanoTxSigningMode = {})), function(t) {
      t[t.BYRON_WITNESS = 0] = "BYRON_WITNESS", t[t.SHELLEY_WITNESS = 1] = "SHELLEY_WITNESS";
    }(e.CardanoTxWitnessType || (e.CardanoTxWitnessType = {})), function(t) {
      t[t.Failure_UnexpectedMessage = 1] = "Failure_UnexpectedMessage", t[t.Failure_ButtonExpected = 2] = "Failure_ButtonExpected", t[t.Failure_DataError = 3] = "Failure_DataError", t[t.Failure_ActionCancelled = 4] = "Failure_ActionCancelled", t[t.Failure_PinExpected = 5] = "Failure_PinExpected", t[t.Failure_PinCancelled = 6] = "Failure_PinCancelled", t[t.Failure_PinInvalid = 7] = "Failure_PinInvalid", t[t.Failure_InvalidSignature = 8] = "Failure_InvalidSignature", t[t.Failure_ProcessError = 9] = "Failure_ProcessError", t[t.Failure_NotEnoughFunds = 10] = "Failure_NotEnoughFunds", t[t.Failure_NotInitialized = 11] = "Failure_NotInitialized", t[t.Failure_PinMismatch = 12] = "Failure_PinMismatch", t[t.Failure_WipeCodeMismatch = 13] = "Failure_WipeCodeMismatch", t[t.Failure_InvalidSession = 14] = "Failure_InvalidSession", t[t.Failure_FirmwareError = 99] = "Failure_FirmwareError";
    }(e.FailureType || (e.FailureType = {})), function(t) {
      t[t.ButtonRequest_Other = 1] = "ButtonRequest_Other", t[t.ButtonRequest_FeeOverThreshold = 2] = "ButtonRequest_FeeOverThreshold", t[t.ButtonRequest_ConfirmOutput = 3] = "ButtonRequest_ConfirmOutput", t[t.ButtonRequest_ResetDevice = 4] = "ButtonRequest_ResetDevice", t[t.ButtonRequest_ConfirmWord = 5] = "ButtonRequest_ConfirmWord", t[t.ButtonRequest_WipeDevice = 6] = "ButtonRequest_WipeDevice", t[t.ButtonRequest_ProtectCall = 7] = "ButtonRequest_ProtectCall", t[t.ButtonRequest_SignTx = 8] = "ButtonRequest_SignTx", t[t.ButtonRequest_FirmwareCheck = 9] = "ButtonRequest_FirmwareCheck", t[t.ButtonRequest_Address = 10] = "ButtonRequest_Address", t[t.ButtonRequest_PublicKey = 11] = "ButtonRequest_PublicKey", t[t.ButtonRequest_MnemonicWordCount = 12] = "ButtonRequest_MnemonicWordCount", t[t.ButtonRequest_MnemonicInput = 13] = "ButtonRequest_MnemonicInput", t[t._Deprecated_ButtonRequest_PassphraseType = 14] = "_Deprecated_ButtonRequest_PassphraseType", t[t.ButtonRequest_UnknownDerivationPath = 15] = "ButtonRequest_UnknownDerivationPath", t[t.ButtonRequest_RecoveryHomepage = 16] = "ButtonRequest_RecoveryHomepage", t[t.ButtonRequest_Success = 17] = "ButtonRequest_Success", t[t.ButtonRequest_Warning = 18] = "ButtonRequest_Warning", t[t.ButtonRequest_PassphraseEntry = 19] = "ButtonRequest_PassphraseEntry", t[t.ButtonRequest_PinEntry = 20] = "ButtonRequest_PinEntry";
    }(e.Enum_ButtonRequestType || (e.Enum_ButtonRequestType = {})), function(t) {
      t[t.PinMatrixRequestType_Current = 1] = "PinMatrixRequestType_Current", t[t.PinMatrixRequestType_NewFirst = 2] = "PinMatrixRequestType_NewFirst", t[t.PinMatrixRequestType_NewSecond = 3] = "PinMatrixRequestType_NewSecond", t[t.PinMatrixRequestType_WipeCodeFirst = 4] = "PinMatrixRequestType_WipeCodeFirst", t[t.PinMatrixRequestType_WipeCodeSecond = 5] = "PinMatrixRequestType_WipeCodeSecond";
    }(e.Enum_PinMatrixRequestType || (e.Enum_PinMatrixRequestType = {})), function(t) {
      t[t.NO = 0] = "NO", t[t.YES = 1] = "YES", t[t.INFO = 2] = "INFO";
    }(e.DebugButton || (e.DebugButton = {})), function(t) {
      t[t.LEFT_BTN = 0] = "LEFT_BTN", t[t.MIDDLE_BTN = 1] = "MIDDLE_BTN", t[t.RIGHT_BTN = 2] = "RIGHT_BTN";
    }(e.DebugPhysicalButton || (e.DebugPhysicalButton = {})), function(t) {
      t[t.NETWORK = 0] = "NETWORK", t[t.TOKEN = 1] = "TOKEN";
    }(e.EthereumDefinitionType || (e.EthereumDefinitionType = {})), function(t) {
      t[t.UINT = 1] = "UINT", t[t.INT = 2] = "INT", t[t.BYTES = 3] = "BYTES", t[t.STRING = 4] = "STRING", t[t.BOOL = 5] = "BOOL", t[t.ADDRESS = 6] = "ADDRESS", t[t.ARRAY = 7] = "ARRAY", t[t.STRUCT = 8] = "STRUCT";
    }(e.EthereumDataType || (e.EthereumDataType = {})), function(t) {
      t[t.Bip39 = 0] = "Bip39", t[t.Slip39_Basic = 1] = "Slip39_Basic", t[t.Slip39_Advanced = 2] = "Slip39_Advanced";
    }(e.Enum_BackupType || (e.Enum_BackupType = {})), function(t) {
      t[t.Strict = 0] = "Strict", t[t.PromptAlways = 1] = "PromptAlways", t[t.PromptTemporarily = 2] = "PromptTemporarily";
    }(e.Enum_SafetyCheckLevel || (e.Enum_SafetyCheckLevel = {})), function(t) {
      t[t.Toif = 1] = "Toif", t[t.Jpeg = 2] = "Jpeg", t[t.ToiG = 3] = "ToiG";
    }(e.Enum_HomescreenFormat || (e.Enum_HomescreenFormat = {})), function(t) {
      t[t.Capability_Bitcoin = 1] = "Capability_Bitcoin", t[t.Capability_Bitcoin_like = 2] = "Capability_Bitcoin_like", t[t.Capability_Binance = 3] = "Capability_Binance", t[t.Capability_Cardano = 4] = "Capability_Cardano", t[t.Capability_Crypto = 5] = "Capability_Crypto", t[t.Capability_EOS = 6] = "Capability_EOS", t[t.Capability_Ethereum = 7] = "Capability_Ethereum", t[t.Capability_Lisk = 8] = "Capability_Lisk", t[t.Capability_Monero = 9] = "Capability_Monero", t[t.Capability_NEM = 10] = "Capability_NEM", t[t.Capability_Ripple = 11] = "Capability_Ripple", t[t.Capability_Stellar = 12] = "Capability_Stellar", t[t.Capability_Tezos = 13] = "Capability_Tezos", t[t.Capability_U2F = 14] = "Capability_U2F", t[t.Capability_Shamir = 15] = "Capability_Shamir", t[t.Capability_ShamirGroups = 16] = "Capability_ShamirGroups", t[t.Capability_PassphraseEntry = 17] = "Capability_PassphraseEntry";
    }(e.Enum_Capability || (e.Enum_Capability = {})), function(t) {
      t[t.DISABLE = 0] = "DISABLE", t[t.ENABLE = 1] = "ENABLE", t[t.REFRESH = 2] = "REFRESH";
    }(e.SdProtectOperationType || (e.SdProtectOperationType = {})), function(t) {
      t[t.RecoveryDeviceType_ScrambledWords = 0] = "RecoveryDeviceType_ScrambledWords", t[t.RecoveryDeviceType_Matrix = 1] = "RecoveryDeviceType_Matrix";
    }(e.RecoveryDeviceType || (e.RecoveryDeviceType = {})), function(t) {
      t[t.WordRequestType_Plain = 0] = "WordRequestType_Plain", t[t.WordRequestType_Matrix9 = 1] = "WordRequestType_Matrix9", t[t.WordRequestType_Matrix6 = 2] = "WordRequestType_Matrix6";
    }(e.Enum_WordRequestType || (e.Enum_WordRequestType = {})), function(t) {
      t[t.MAINNET = 0] = "MAINNET", t[t.TESTNET = 1] = "TESTNET", t[t.STAGENET = 2] = "STAGENET", t[t.FAKECHAIN = 3] = "FAKECHAIN";
    }(e.MoneroNetworkType || (e.MoneroNetworkType = {})), function(t) {
      t[t.MosaicLevy_Absolute = 1] = "MosaicLevy_Absolute", t[t.MosaicLevy_Percentile = 2] = "MosaicLevy_Percentile";
    }(e.NEMMosaicLevy || (e.NEMMosaicLevy = {})), function(t) {
      t[t.SupplyChange_Increase = 1] = "SupplyChange_Increase", t[t.SupplyChange_Decrease = 2] = "SupplyChange_Decrease";
    }(e.NEMSupplyChangeType || (e.NEMSupplyChangeType = {})), function(t) {
      t[t.CosignatoryModification_Add = 1] = "CosignatoryModification_Add", t[t.CosignatoryModification_Delete = 2] = "CosignatoryModification_Delete";
    }(e.NEMModificationType || (e.NEMModificationType = {})), function(t) {
      t[t.ImportanceTransfer_Activate = 1] = "ImportanceTransfer_Activate", t[t.ImportanceTransfer_Deactivate = 2] = "ImportanceTransfer_Deactivate";
    }(e.NEMImportanceTransferMode || (e.NEMImportanceTransferMode = {})), function(t) {
      t[t.NATIVE = 0] = "NATIVE", t[t.ALPHANUM4 = 1] = "ALPHANUM4", t[t.ALPHANUM12 = 2] = "ALPHANUM12";
    }(e.StellarAssetType || (e.StellarAssetType = {})), function(t) {
      t[t.NONE = 0] = "NONE", t[t.TEXT = 1] = "TEXT", t[t.ID = 2] = "ID", t[t.HASH = 3] = "HASH", t[t.RETURN = 4] = "RETURN";
    }(e.StellarMemoType || (e.StellarMemoType = {})), function(t) {
      t[t.ACCOUNT = 0] = "ACCOUNT", t[t.PRE_AUTH = 1] = "PRE_AUTH", t[t.HASH = 2] = "HASH";
    }(e.StellarSignerType || (e.StellarSignerType = {})), function(t) {
      t[t.Implicit = 0] = "Implicit", t[t.Originated = 1] = "Originated";
    }(e.TezosContractType || (e.TezosContractType = {})), function(t) {
      t[t.Yay = 0] = "Yay", t[t.Nay = 1] = "Nay", t[t.Pass = 2] = "Pass";
    }(e.TezosBallotType || (e.TezosBallotType = {}));
  }(kr)), kr;
}
var si;
function Ms() {
  if (si)
    return Pe;
  si = 1, Object.defineProperty(Pe, "__esModule", { value: !0 }), Pe.PROTO = Pe.NEM = Pe.CARDANO = Pe.NETWORK = Pe.ERRORS = void 0;
  const e = ot;
  return Pe.ERRORS = e.__importStar(Gn()), Pe.NETWORK = e.__importStar(Ps()), Pe.CARDANO = e.__importStar(Bs()), Pe.NEM = e.__importStar(Us()), Pe.PROTO = e.__importStar(ha()), Pe;
}
var qr = {}, Gr = {}, ui;
function tr() {
  return ui || (ui = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.createUiMessage = e.UI_REQUEST = e.UI_EVENT = void 0, e.UI_EVENT = "UI_EVENT", e.UI_REQUEST = {
      TRANSPORT: "ui-no_transport",
      BOOTLOADER: "ui-device_bootloader_mode",
      NOT_IN_BOOTLOADER: "ui-device_not_in_bootloader_mode",
      REQUIRE_MODE: "ui-device_require_mode",
      INITIALIZE: "ui-device_not_initialized",
      SEEDLESS: "ui-device_seedless",
      FIRMWARE_OLD: "ui-device_firmware_old",
      FIRMWARE_OUTDATED: "ui-device_firmware_outdated",
      FIRMWARE_NOT_SUPPORTED: "ui-device_firmware_unsupported",
      FIRMWARE_NOT_COMPATIBLE: "ui-device_firmware_not_compatible",
      FIRMWARE_NOT_INSTALLED: "ui-device_firmware_not_installed",
      FIRMWARE_PROGRESS: "ui-firmware-progress",
      DEVICE_NEEDS_BACKUP: "ui-device_needs_backup",
      REQUEST_UI_WINDOW: "ui-request_window",
      CLOSE_UI_WINDOW: "ui-close_window",
      REQUEST_PERMISSION: "ui-request_permission",
      REQUEST_CONFIRMATION: "ui-request_confirmation",
      REQUEST_PIN: "ui-request_pin",
      INVALID_PIN: "ui-invalid_pin",
      REQUEST_PASSPHRASE: "ui-request_passphrase",
      REQUEST_PASSPHRASE_ON_DEVICE: "ui-request_passphrase_on_device",
      INVALID_PASSPHRASE: "ui-invalid_passphrase",
      CONNECT: "ui-connect",
      LOADING: "ui-loading",
      SET_OPERATION: "ui-set_operation",
      SELECT_DEVICE: "ui-select_device",
      SELECT_ACCOUNT: "ui-select_account",
      SELECT_FEE: "ui-select_fee",
      UPDATE_CUSTOM_FEE: "ui-update_custom_fee",
      INSUFFICIENT_FUNDS: "ui-insufficient_funds",
      REQUEST_BUTTON: "ui-button",
      REQUEST_WORD: "ui-request_word",
      LOGIN_CHALLENGE_REQUEST: "ui-login_challenge_request",
      BUNDLE_PROGRESS: "ui-bundle_progress",
      ADDRESS_VALIDATION: "ui-address_validation",
      IFRAME_FAILURE: "ui-iframe_failure"
    };
    const t = (r, i) => ({
      event: e.UI_EVENT,
      type: r,
      payload: i
    });
    e.createUiMessage = t;
  }(Gr)), Gr;
}
var Xe = {}, ci;
function fi() {
  if (ci)
    return Xe;
  ci = 1, Object.defineProperty(Xe, "__esModule", { value: !0 }), Xe.createUiResponse = Xe.UI_RESPONSE = void 0;
  const e = tr();
  Xe.UI_RESPONSE = {
    RECEIVE_PERMISSION: "ui-receive_permission",
    RECEIVE_CONFIRMATION: "ui-receive_confirmation",
    RECEIVE_PIN: "ui-receive_pin",
    RECEIVE_PASSPHRASE: "ui-receive_passphrase",
    RECEIVE_DEVICE: "ui-receive_device",
    RECEIVE_ACCOUNT: "ui-receive_account",
    RECEIVE_FEE: "ui-receive_fee",
    RECEIVE_WORD: "ui-receive_word",
    INVALID_PASSPHRASE_ACTION: "ui-invalid_passphrase_action",
    CHANGE_SETTINGS: "ui-change_settings",
    LOGIN_CHALLENGE_RESPONSE: "ui-login_challenge_response"
  };
  const t = (r, i) => ({
    event: e.UI_EVENT,
    type: r,
    payload: i
  });
  return Xe.createUiResponse = t, Xe;
}
var Hr = {}, li;
function Cs() {
  return li || (li = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.createBlockchainMessage = e.BLOCKCHAIN = e.BLOCKCHAIN_EVENT = void 0, e.BLOCKCHAIN_EVENT = "BLOCKCHAIN_EVENT", e.BLOCKCHAIN = {
      CONNECT: "blockchain-connect",
      ERROR: "blockchain-error",
      BLOCK: "blockchain-block",
      NOTIFICATION: "blockchain-notification",
      FIAT_RATES_UPDATE: "fiat-rates-update"
    };
    const t = (r, i) => ({
      event: e.BLOCKCHAIN_EVENT,
      type: r,
      payload: i
    });
    e.createBlockchainMessage = t;
  }(Hr)), Hr;
}
var jr = {}, hi;
function Ds() {
  return hi || (hi = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.createResponseMessage = e.RESPONSE_EVENT = void 0;
    const t = Gn();
    e.RESPONSE_EVENT = "RESPONSE_EVENT";
    const r = (i, u, a) => ({
      event: e.RESPONSE_EVENT,
      type: e.RESPONSE_EVENT,
      id: i,
      success: u,
      payload: u ? a : (0, t.serializeError)(a)
    });
    e.createResponseMessage = r;
  }(jr)), jr;
}
var ze = {}, di;
function Ls() {
  if (di)
    return ze;
  di = 1, Object.defineProperty(ze, "__esModule", { value: !0 }), ze.createErrorMessage = ze.parseMessage = ze.CORE_EVENT = void 0, ze.CORE_EVENT = "CORE_EVENT";
  const e = (r) => {
    const i = {
      event: r.event,
      type: r.type,
      payload: r.payload
    };
    return typeof r.id == "number" && (i.id = r.id), typeof r.success == "boolean" && (i.success = r.success), i;
  };
  ze.parseMessage = e;
  const t = (r) => ({
    success: !1,
    payload: {
      error: r.message,
      code: r.code
    }
  });
  return ze.createErrorMessage = t, ze;
}
var Vr = {}, pi;
function xs() {
  return pi || (pi = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.createDeviceMessage = e.DEVICE = e.DEVICE_EVENT = void 0, e.DEVICE_EVENT = "DEVICE_EVENT", e.DEVICE = {
      CONNECT: "device-connect",
      CONNECT_UNACQUIRED: "device-connect_unacquired",
      DISCONNECT: "device-disconnect",
      CHANGED: "device-changed",
      ACQUIRE: "device-acquire",
      RELEASE: "device-release",
      ACQUIRED: "device-acquired",
      RELEASED: "device-released",
      USED_ELSEWHERE: "device-used_elsewhere",
      LOADING: "device-loading",
      BUTTON: "button",
      PIN: "pin",
      PASSPHRASE: "passphrase",
      PASSPHRASE_ON_DEVICE: "passphrase_on_device",
      WORD: "word"
    };
    const t = (r, i) => ({
      event: e.DEVICE_EVENT,
      type: r,
      payload: i
    });
    e.createDeviceMessage = t;
  }(Vr)), Vr;
}
var Je = {}, _i;
function Fs() {
  if (_i)
    return Je;
  _i = 1, Object.defineProperty(Je, "__esModule", { value: !0 }), Je.createIFrameMessage = Je.IFRAME = void 0;
  const e = tr();
  Je.IFRAME = {
    BOOTSTRAP: "iframe-bootstrap",
    LOADED: "iframe-loaded",
    INIT: "iframe-init",
    ERROR: "iframe-error",
    CALL: "iframe-call"
  };
  const t = (r, i) => ({
    event: e.UI_EVENT,
    type: r,
    payload: i
  });
  return Je.createIFrameMessage = t, Je;
}
var Ze = {}, Ei;
function ks() {
  if (Ei)
    return Ze;
  Ei = 1, Object.defineProperty(Ze, "__esModule", { value: !0 }), Ze.createPopupMessage = Ze.POPUP = void 0;
  const e = tr();
  Ze.POPUP = {
    BOOTSTRAP: "popup-bootstrap",
    LOADED: "popup-loaded",
    INIT: "popup-init",
    ERROR: "popup-error",
    EXTENSION_USB_PERMISSIONS: "open-usb-permissions",
    HANDSHAKE: "popup-handshake",
    CLOSED: "popup-closed",
    CANCEL_POPUP_REQUEST: "ui-cancel-popup-request",
    CLOSE_WINDOW: "window.close"
  };
  const t = (r, i) => ({
    event: e.UI_EVENT,
    type: r,
    payload: i
  });
  return Ze.createPopupMessage = t, Ze;
}
var zr = {}, he = {}, vi;
function da() {
  return vi || (vi = 1, Object.defineProperty(he, "__esModule", { value: !0 }), he.TRANSPORT = he.ACTION_TIMEOUT = he.TREZOR_USB_DESCRIPTORS = he.T1_HID_VENDOR = he.ENDPOINT_ID = he.INTERFACE_ID = he.CONFIGURATION_ID = he.BUFFER_SIZE = he.HEADER_SIZE = he.MESSAGE_HEADER_BYTE = void 0, he.MESSAGE_HEADER_BYTE = 35, he.HEADER_SIZE = 1 + 1 + 4 + 2, he.BUFFER_SIZE = 63, he.CONFIGURATION_ID = 1, he.INTERFACE_ID = 0, he.ENDPOINT_ID = 1, he.T1_HID_VENDOR = 21324, he.TREZOR_USB_DESCRIPTORS = [
    { vendorId: 21324, productId: 1 },
    { vendorId: 4617, productId: 21440 },
    { vendorId: 4617, productId: 21441 }
  ], he.ACTION_TIMEOUT = 1e4, he.TRANSPORT = {
    START: "transport-start",
    ERROR: "transport-error",
    UPDATE: "transport-update",
    DISABLE_WEBUSB: "transport-disable_webusb",
    REQUEST_DEVICE: "transport-request_device"
  }), he;
}
var gi;
function qs() {
  return gi || (gi = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.createTransportMessage = e.TRANSPORT_EVENT = e.TRANSPORT = void 0;
    const t = Gn();
    var r = da();
    Object.defineProperty(e, "TRANSPORT", { enumerable: !0, get: function() {
      return r.TRANSPORT;
    } }), e.TRANSPORT_EVENT = "TRANSPORT_EVENT";
    const i = (u, a) => ({
      event: e.TRANSPORT_EVENT,
      type: u,
      payload: "error" in a ? (0, t.serializeError)(a) : a
    });
    e.createTransportMessage = i;
  }(zr)), zr;
}
var Wr = {}, yi;
function Gs() {
  return yi || (yi = 1, Object.defineProperty(Wr, "__esModule", { value: !0 })), Wr;
}
var bi;
function pa() {
  return bi || (bi = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.UI = void 0;
    const t = ot, r = tr(), i = fi();
    t.__exportStar(Cs(), e), t.__exportStar(Ds(), e), t.__exportStar(Ls(), e), t.__exportStar(xs(), e), t.__exportStar(Fs(), e), t.__exportStar(ks(), e), t.__exportStar(qs(), e), t.__exportStar(Gs(), e), t.__exportStar(tr(), e), t.__exportStar(fi(), e), e.UI = {
      ...r.UI_REQUEST,
      ...i.UI_RESPONSE
    };
  }(qr)), qr;
}
var $r = {}, Qr = {}, mi;
function Hs() {
  return mi || (mi = 1, Object.defineProperty(Qr, "__esModule", { value: !0 })), Qr;
}
var Kr = {}, wi;
function js() {
  return wi || (wi = 1, Object.defineProperty(Kr, "__esModule", { value: !0 })), Kr;
}
var Yr = {}, Si;
function Vs() {
  return Si || (Si = 1, Object.defineProperty(Yr, "__esModule", { value: !0 })), Yr;
}
var Xr = {}, Ri;
function zs() {
  return Ri || (Ri = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.DeviceModelInternal = void 0;
    var t = ha();
    Object.defineProperty(e, "DeviceModelInternal", { enumerable: !0, get: function() {
      return t.DeviceModelInternal;
    } });
  }(Xr)), Xr;
}
var Jr = {}, Ii;
function Ws() {
  return Ii || (Ii = 1, Object.defineProperty(Jr, "__esModule", { value: !0 })), Jr;
}
var Zr = {}, Ai;
function $s() {
  return Ai || (Ai = 1, Object.defineProperty(Zr, "__esModule", { value: !0 })), Zr;
}
var en = {}, Ti;
function Qs() {
  return Ti || (Ti = 1, Object.defineProperty(en, "__esModule", { value: !0 })), en;
}
var tn = {}, Ni;
function Ks() {
  return Ni || (Ni = 1, Object.defineProperty(tn, "__esModule", { value: !0 })), tn;
}
var rn = {}, Oi;
function Ys() {
  return Oi || (Oi = 1, Object.defineProperty(rn, "__esModule", { value: !0 })), rn;
}
var nn = {}, Pi;
function Xs() {
  return Pi || (Pi = 1, Object.defineProperty(nn, "__esModule", { value: !0 })), nn;
}
var on = {}, Bi;
function Js() {
  return Bi || (Bi = 1, Object.defineProperty(on, "__esModule", { value: !0 })), on;
}
var an = {}, Ui;
function Zs() {
  return Ui || (Ui = 1, Object.defineProperty(an, "__esModule", { value: !0 })), an;
}
var sn = {}, Mi;
function eu() {
  return Mi || (Mi = 1, Object.defineProperty(sn, "__esModule", { value: !0 })), sn;
}
var un = {}, Ci;
function tu() {
  return Ci || (Ci = 1, Object.defineProperty(un, "__esModule", { value: !0 })), un;
}
var cn = {}, Di;
function ru() {
  return Di || (Di = 1, Object.defineProperty(cn, "__esModule", { value: !0 })), cn;
}
var Li;
function nu() {
  return Li || (Li = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 });
    const t = ot;
    t.__exportStar(Hs(), e), t.__exportStar(js(), e), t.__exportStar(Vs(), e), t.__exportStar(zs(), e), t.__exportStar(Ws(), e), t.__exportStar($s(), e), t.__exportStar(Qs(), e), t.__exportStar(Ks(), e), t.__exportStar(Ys(), e), t.__exportStar(Xs(), e), t.__exportStar(Js(), e), t.__exportStar(Zs(), e), t.__exportStar(eu(), e), t.__exportStar(tu(), e), t.__exportStar(ru(), e);
  }($r)), $r;
}
var fn = {}, ln = {}, xi;
function iu() {
  return xi || (xi = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.DEFAULT_DOMAIN = e.VERSION = void 0, e.VERSION = "9.1.1";
    const t = e.VERSION.split(".").map((r) => parseInt(r, 10));
    e.DEFAULT_DOMAIN = `https://connect.trezor.io/${t[0]}/`;
  }(ln)), ln;
}
var Fi;
function ou() {
  return Fi || (Fi = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.parseConnectSettings = e.corsValidator = e.DEFAULT_PRIORITY = void 0;
    const t = iu();
    e.DEFAULT_PRIORITY = 2;
    const r = {
      configSrc: "./data/config.json",
      version: t.VERSION,
      debug: !1,
      priority: e.DEFAULT_PRIORITY,
      trustedHost: !0,
      connectSrc: t.DEFAULT_DOMAIN,
      iframeSrc: `${t.DEFAULT_DOMAIN}iframe.html`,
      popup: !1,
      popupSrc: `${t.DEFAULT_DOMAIN}popup.html`,
      webusbSrc: `${t.DEFAULT_DOMAIN}webusb.html`,
      transports: void 0,
      pendingTransportEvent: !0,
      env: "node",
      lazyLoad: !1,
      timestamp: (/* @__PURE__ */ new Date()).getTime(),
      interactionTimeout: 600
    }, i = (f) => {
      if (f && typeof f.email == "string" && typeof f.appUrl == "string")
        return {
          email: f.email,
          appUrl: f.appUrl
        };
    }, u = (f) => {
      if (typeof f == "string" && (f.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*trezor\.io\//) || f.match(/^https?:\/\/localhost:[58][0-9]{3}\//) || f.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*sldev\.cz\//) || f.match(/^https?:\/\/([A-Za-z0-9\-_]+\.)*trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad\.onion\//)))
        return f;
    };
    e.corsValidator = u;
    const a = (f = {}) => {
      var c;
      const p = { ...r };
      "debug" in f && (typeof f.debug == "boolean" ? p.debug = f.debug : typeof f.debug == "string" && (p.debug = f.debug === "true")), typeof f.connectSrc == "string" && (!((c = f.connectSrc) === null || c === void 0) && c.startsWith("http")) ? p.connectSrc = (0, e.corsValidator)(f.connectSrc) : p.trustedHost && (p.connectSrc = f.connectSrc);
      const d = p.connectSrc || t.DEFAULT_DOMAIN;
      return p.iframeSrc = `${d}iframe.html`, p.popupSrc = `${d}popup.html`, p.webusbSrc = `${d}webusb.html`, typeof f.transportReconnect == "boolean" && (p.transportReconnect = f.transportReconnect), typeof f.webusb == "boolean" && (p.webusb = f.webusb), Array.isArray(f.transports) && (p.transports = f.transports), typeof f.popup == "boolean" && (p.popup = f.popup), typeof f.lazyLoad == "boolean" && (p.lazyLoad = f.lazyLoad), typeof f.pendingTransportEvent == "boolean" && (p.pendingTransportEvent = f.pendingTransportEvent), typeof f.extension == "string" && (p.extension = f.extension), typeof f.env == "string" && (p.env = f.env), typeof f.timestamp == "number" && (p.timestamp = f.timestamp), typeof f.interactionTimeout == "number" && (p.interactionTimeout = f.interactionTimeout), typeof f.manifest == "object" && (p.manifest = i(f.manifest)), p;
    };
    e.parseConnectSettings = a;
  }(fn)), fn;
}
var ki;
function rr() {
  return ki || (ki = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.parseConnectSettings = void 0;
    const t = ot;
    t.__exportStar(Ms(), e), t.__exportStar(pa(), e), t.__exportStar(nu(), e);
    var r = ou();
    Object.defineProperty(e, "parseConnectSettings", { enumerable: !0, get: function() {
      return r.parseConnectSettings;
    } });
  }(Dr)), Dr;
}
var pt = {}, qi;
function au() {
  if (qi)
    return pt;
  qi = 1, Object.defineProperty(pt, "__esModule", { value: !0 }), pt.factory = void 0;
  const e = pa(), t = ({ eventEmitter: r, manifest: i, init: u, call: a, requestLogin: f, uiResponse: c, renderWebUSBButton: p, disableWebUSB: d, requestWebUSBDevice: g, cancel: S, dispose: A }) => ({
    manifest: i,
    init: u,
    getSettings: () => a({ method: "getSettings" }),
    on: (_, B) => {
      r.on(_, B);
    },
    off: (_, B) => {
      r.removeListener(_, B);
    },
    removeAllListeners: (_) => {
      typeof _ == "string" ? r.removeAllListeners(_) : r.removeAllListeners();
    },
    uiResponse: c,
    blockchainGetAccountBalanceHistory: (_) => a({ ..._, method: "blockchainGetAccountBalanceHistory" }),
    blockchainGetCurrentFiatRates: (_) => a({ ..._, method: "blockchainGetCurrentFiatRates" }),
    blockchainGetFiatRatesForTimestamps: (_) => a({ ..._, method: "blockchainGetFiatRatesForTimestamps" }),
    blockchainDisconnect: (_) => a({ ..._, method: "blockchainDisconnect" }),
    blockchainEstimateFee: (_) => a({ ..._, method: "blockchainEstimateFee" }),
    blockchainGetTransactions: (_) => a({ ..._, method: "blockchainGetTransactions" }),
    blockchainSetCustomBackend: (_) => a({ ..._, method: "blockchainSetCustomBackend" }),
    blockchainSubscribe: (_) => a({ ..._, method: "blockchainSubscribe" }),
    blockchainSubscribeFiatRates: (_) => a({ ..._, method: "blockchainSubscribeFiatRates" }),
    blockchainUnsubscribe: (_) => a({ ..._, method: "blockchainUnsubscribe" }),
    blockchainUnsubscribeFiatRates: (_) => a({ ..._, method: "blockchainUnsubscribeFiatRates" }),
    requestLogin: (_) => f(_),
    cardanoGetAddress: (_) => a({
      ..._,
      method: "cardanoGetAddress",
      useEventListener: r.listenerCount(e.UI.ADDRESS_VALIDATION) > 0
    }),
    cardanoGetNativeScriptHash: (_) => a({ ..._, method: "cardanoGetNativeScriptHash" }),
    cardanoGetPublicKey: (_) => a({ ..._, method: "cardanoGetPublicKey" }),
    cardanoSignTransaction: (_) => a({ ..._, method: "cardanoSignTransaction" }),
    cipherKeyValue: (_) => a({ ..._, method: "cipherKeyValue" }),
    composeTransaction: (_) => a({ ..._, method: "composeTransaction" }),
    ethereumGetAddress: (_) => a({
      ..._,
      method: "ethereumGetAddress",
      useEventListener: r.listenerCount(e.UI.ADDRESS_VALIDATION) > 0
    }),
    ethereumGetPublicKey: (_) => a({ ..._, method: "ethereumGetPublicKey" }),
    ethereumSignMessage: (_) => a({ ..._, method: "ethereumSignMessage" }),
    ethereumSignTransaction: (_) => a({ ..._, method: "ethereumSignTransaction" }),
    ethereumSignTypedData: (_) => a({ ..._, method: "ethereumSignTypedData" }),
    ethereumVerifyMessage: (_) => a({ ..._, method: "ethereumVerifyMessage" }),
    getAccountInfo: (_) => a({ ..._, method: "getAccountInfo" }),
    getAddress: (_) => a({
      ..._,
      method: "getAddress",
      useEventListener: r.listenerCount(e.UI.ADDRESS_VALIDATION) > 0
    }),
    getDeviceState: (_) => a({ ..._, method: "getDeviceState" }),
    getFeatures: (_) => a({ ..._, method: "getFeatures" }),
    getFirmwareHash: (_) => a({ ..._, method: "getFirmwareHash" }),
    getOwnershipId: (_) => a({ ..._, method: "getOwnershipId" }),
    getOwnershipProof: (_) => a({ ..._, method: "getOwnershipProof" }),
    getPublicKey: (_) => a({ ..._, method: "getPublicKey" }),
    nemGetAddress: (_) => a({
      ..._,
      method: "nemGetAddress",
      useEventListener: r.listenerCount(e.UI.ADDRESS_VALIDATION) > 0
    }),
    nemSignTransaction: (_) => a({ ..._, method: "nemSignTransaction" }),
    pushTransaction: (_) => a({ ..._, method: "pushTransaction" }),
    rippleGetAddress: (_) => a({
      ..._,
      method: "rippleGetAddress",
      useEventListener: r.listenerCount(e.UI.ADDRESS_VALIDATION) > 0
    }),
    rippleSignTransaction: (_) => a({ ..._, method: "rippleSignTransaction" }),
    signMessage: (_) => a({ ..._, method: "signMessage" }),
    signTransaction: (_) => a({ ..._, method: "signTransaction" }),
    stellarGetAddress: (_) => a({
      ..._,
      method: "stellarGetAddress",
      useEventListener: r.listenerCount(e.UI.ADDRESS_VALIDATION) > 0
    }),
    stellarSignTransaction: (_) => a({ ..._, method: "stellarSignTransaction" }),
    tezosGetAddress: (_) => a({
      ..._,
      method: "tezosGetAddress",
      useEventListener: r.listenerCount(e.UI.ADDRESS_VALIDATION) > 0
    }),
    tezosGetPublicKey: (_) => a({ ..._, method: "tezosGetPublicKey" }),
    tezosSignTransaction: (_) => a({ ..._, method: "tezosSignTransaction" }),
    unlockPath: (_) => a({ ..._, method: "unlockPath" }),
    eosGetPublicKey: (_) => a({ ..._, method: "eosGetPublicKey" }),
    eosSignTransaction: (_) => a({ ..._, method: "eosSignTransaction" }),
    binanceGetAddress: (_) => a({
      ..._,
      method: "binanceGetAddress",
      useEventListener: r.listenerCount(e.UI.ADDRESS_VALIDATION) > 0
    }),
    binanceGetPublicKey: (_) => a({ ..._, method: "binanceGetPublicKey" }),
    binanceSignTransaction: (_) => a({ ..._, method: "binanceSignTransaction" }),
    verifyMessage: (_) => a({ ..._, method: "verifyMessage" }),
    resetDevice: (_) => a({ ..._, method: "resetDevice" }),
    wipeDevice: (_) => a({ ..._, method: "wipeDevice" }),
    checkFirmwareAuthenticity: (_) => a({ ..._, method: "checkFirmwareAuthenticity" }),
    applyFlags: (_) => a({ ..._, method: "applyFlags" }),
    applySettings: (_) => a({ ..._, method: "applySettings" }),
    authorizeCoinjoin: (_) => a({ ..._, method: "authorizeCoinjoin" }),
    cancelCoinjoinAuthorization: (_) => a({ ..._, method: "cancelCoinjoinAuthorization" }),
    showDeviceTutorial: (_) => a({ ..._, method: "showDeviceTutorial" }),
    backupDevice: (_) => a({ ..._, method: "backupDevice" }),
    changePin: (_) => a({ ..._, method: "changePin" }),
    firmwareUpdate: (_) => a({ ..._, method: "firmwareUpdate" }),
    recoveryDevice: (_) => a({ ..._, method: "recoveryDevice" }),
    getCoinInfo: (_) => a({ ..._, method: "getCoinInfo" }),
    rebootToBootloader: (_) => a({ ..._, method: "rebootToBootloader" }),
    setBusy: (_) => a({ ..._, method: "setBusy" }),
    setProxy: (_) => a({ ..._, method: "setProxy" }),
    dispose: A,
    cancel: S,
    renderWebUSBButton: p,
    disableWebUSB: d,
    requestWebUSBDevice: g
  });
  return pt.factory = t, pt;
}
var Fe = {}, Gi;
function su() {
  if (Gi)
    return Fe;
  Gi = 1, Object.defineProperty(Fe, "__esModule", { value: !0 }), Fe.getLog = Fe.enableLogByPrefix = Fe.enableLog = Fe.initLog = void 0;
  const e = {
    "@trezor/connect": "color: #f4a742; background: #000;",
    IFrame: "color: #f4a742; background: #000;",
    Core: "color: #f4a742; background: #000;",
    DescriptorStream: "color: #77ab59; background: #000;",
    DeviceList: "color: #77ab59; background: #000;",
    Device: "color: #bada55; background: #000;",
    DeviceCommands: "color: #bada55; background: #000;",
    "@trezor/transport": "color: #bada55; background: #000;"
  }, t = 100;
  class r {
    constructor(d, g) {
      this.prefix = d, this.enabled = g, this.messages = [], this.css = typeof window < "u" && e[d] ? e[d] : "";
    }
    addMessage(d, g, ...S) {
      this.messages.push({
        level: d,
        prefix: g,
        message: S,
        timestamp: Date.now()
      }), this.messages.length > t && this.messages.shift();
    }
    log(...d) {
      this.addMessage("log", this.prefix, ...d), this.enabled && console.log(this.prefix, ...d);
    }
    error(...d) {
      this.addMessage("error", this.prefix, ...d), this.enabled && console.error(this.prefix, ...d);
    }
    warn(...d) {
      this.addMessage("warn", this.prefix, ...d), this.enabled && console.warn(this.prefix, ...d);
    }
    debug(...d) {
      this.addMessage("debug", this.prefix, ...d), this.enabled && (this.css ? console.log(`%c${this.prefix}`, this.css, ...d) : console.log(this.prefix, ...d));
    }
  }
  const i = {}, u = (p, d) => {
    const g = new r(p, !!d);
    return i[p] = g, g;
  };
  Fe.initLog = u;
  const a = (p) => {
    Object.keys(i).forEach((d) => {
      i[d].enabled = !!p;
    });
  };
  Fe.enableLog = a;
  const f = (p, d) => {
    i[p] && (i[p].enabled = d);
  };
  Fe.enableLogByPrefix = f;
  const c = () => {
    let p = [];
    return Object.keys(i).forEach((d) => {
      p = p.concat(i[d].messages);
    }), p.sort((d, g) => d.timestamp - g.timestamp), p;
  };
  return Fe.getLog = c, Fe;
}
var _t = {}, Hi;
function uu() {
  if (Hi)
    return _t;
  Hi = 1, Object.defineProperty(_t, "__esModule", { value: !0 }), _t.config = void 0;
  const e = da();
  return _t.config = {
    webusb: e.TREZOR_USB_DESCRIPTORS,
    whitelist: [
      { origin: "chrome-extension://imloifkgjagghnncjkhggdhalmcnfklk", priority: 1 },
      { origin: "chrome-extension://niebkpllfhmpfbffbfifagfgoamhpflf", priority: 1 },
      { origin: "file://", priority: 2 },
      { origin: "trezor.io", priority: 0 },
      { origin: "sldev.cz", priority: 0 },
      { origin: "localhost", priority: 0 },
      { origin: "trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad.onion", priority: 0 }
    ],
    management: [{ origin: "trezor.io" }, { origin: "sldev.cz" }, { origin: "localhost" }],
    knownHosts: [
      {
        origin: "imloifkgjagghnncjkhggdhalmcnfklk",
        label: "Trezor Password Manager (Develop)",
        icon: ""
      },
      { origin: "niebkpllfhmpfbffbfifagfgoamhpflf", label: "Trezor Password Manager", icon: "" },
      { origin: "trezor-connect@trezor.io", label: "Trezor Connect FF Extension", icon: "" },
      {
        origin: "efbfhenfhihgdcmnfdkhaphjdnopihlf",
        label: "Trezor Connect Chrome Extension",
        icon: ""
      },
      {
        origin: "mnpfhpndmjholfdlhpkjfmjkgppmodaf",
        label: "MetaMask",
        icon: ""
      },
      {
        origin: "webextension@metamask.io",
        label: "MetaMask",
        icon: ""
      },
      { origin: "file://", label: " ", icon: "" }
    ],
    onionDomains: {
      "trezor.io": "trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad.onion"
    },
    assets: [
      {
        name: "coins",
        url: "./data/coins.json"
      },
      {
        name: "bridge",
        url: "./data/bridge/releases.json"
      },
      {
        name: "firmware-t1",
        url: "./data/firmware/1/releases.json"
      },
      {
        name: "firmware-t2",
        url: "./data/firmware/2/releases.json"
      }
    ],
    messages: "./data/messages/messages.json",
    supportedBrowsers: {
      chrome: {
        version: 59,
        download: "https://www.google.com/chrome/",
        update: "https://support.google.com/chrome/answer/95414"
      },
      chromium: {
        version: 59,
        download: "https://www.chromium.org/",
        update: "https://www.chromium.org/"
      },
      electron: {
        version: 0,
        download: "https://www.electronjs.org/",
        update: "https://www.electronjs.org/"
      },
      firefox: {
        version: 54,
        download: "https://www.mozilla.org/en-US/firefox/new/",
        update: "https://support.mozilla.org/en-US/kb/update-firefox-latest-version"
      }
    },
    supportedFirmware: [
      {
        coin: ["xrp", "txrp"],
        methods: ["getAccountInfo"],
        min: ["0", "2.1.0"],
        max: void 0,
        comment: [
          "Since firmware 2.1.0 there is a new protobuf field 'destination_tag' in RippleSignTx"
        ]
      },
      {
        coin: ["bnb"],
        min: ["1.9.0", "2.3.0"],
        comment: [
          "There were protobuf backwards incompatible changes with introduction of 1.9.0/2.3.0 firmwares"
        ]
      },
      {
        coin: ["eth", "tgor"],
        min: ["1.8.0", "2.1.0"],
        comment: ["There were protobuf backwards incompatible changes."]
      },
      {
        methods: ["rippleGetAddress", "rippleSignTransaction"],
        min: ["0", "2.1.0"],
        comment: [
          "Since firmware 2.1.0 there is a new protobuf field 'destination_tag' in RippleSignTx"
        ]
      },
      {
        methods: ["cardanoGetAddress", "cardanoGetPublicKey"],
        min: ["0", "2.3.2"],
        comment: ["Shelley fork support since firmware 2.3.2"]
      },
      {
        methods: ["cardanoSignTransaction"],
        min: ["0", "2.4.2"],
        comment: ["Non-streamed signing no longer supported"]
      },
      {
        methods: ["cardanoGetNativeScriptHash"],
        min: ["0", "2.4.3"],
        comment: ["Cardano GetNativeScriptHash call added in 2.4.3"]
      },
      {
        methods: ["tezosSignTransaction"],
        min: ["0", "2.1.8"],
        comment: [
          "Since 2.1.8 there are new protobuf fields in tezos transaction (Babylon fork)"
        ]
      },
      {
        methods: ["stellarSignTransaction"],
        min: ["1.9.0", "2.3.0"],
        comment: [
          "There were protobuf backwards incompatible changes with introduction of 1.9.0/2.3.0 firmwares"
        ]
      },
      {
        capabilities: ["replaceTransaction", "amountUnit"],
        min: ["1.9.4", "2.3.5"],
        comment: ["new sign tx process since 1.9.4/2.3.5"]
      },
      {
        capabilities: ["decreaseOutput"],
        min: ["1.10.0", "2.4.0"],
        comment: ["allow reduce output in RBF transaction since 1.10.0/2.4.0"]
      },
      {
        capabilities: ["eip1559"],
        min: ["1.10.4", "2.4.2"],
        comment: ["new eth transaction pricing mechanism (EIP1559) since 1.10.4/2.4.2"]
      },
      {
        capabilities: ["taproot", "signMessageNoScriptType"],
        min: ["1.10.4", "2.4.3"],
        comment: [
          "new btc accounts taproot since 1.10.4/2.4.3 (BTC + TEST only)",
          "SignMessage with no_script_type support"
        ]
      },
      {
        coin: ["dcr", "tdcr"],
        methods: ["signTransaction"],
        min: ["1.10.1", "2.4.0"],
        comment: [""]
      },
      {
        methods: ["ethereumSignTypedData"],
        min: ["1.10.5", "2.4.3"],
        comment: ["EIP-712 typed signing support added in 1.10.5/2.4.3"]
      },
      {
        capabilities: ["eip712-domain-only"],
        min: ["1.10.6", "2.4.4"],
        comment: ["EIP-712 domain-only signing, when primaryType=EIP712Domain"]
      },
      {
        capabilities: ["coinjoin"],
        methods: [
          "authorizeCoinjoin",
          "cancelCoinjoinAuthorization",
          "getOwnershipId",
          "getOwnershipProof",
          "setBusy",
          "unlockPath"
        ],
        min: ["1.12.1", "2.5.3"]
      },
      {
        methods: ["showDeviceTutorial"],
        min: ["0", "2.6.1"],
        comment: ["Only on T2B1"]
      }
    ]
  }, _t;
}
var hn = {}, dn = {}, Et = {}, ji;
function cu() {
  if (ji)
    return Et;
  ji = 1, Object.defineProperty(Et, "__esModule", { value: !0 }), Et.arrayDistinct = void 0;
  const e = (t, r, i) => i.indexOf(t) === r;
  return Et.arrayDistinct = e, Et;
}
var vt = {}, Vi;
function _a() {
  if (Vi)
    return vt;
  Vi = 1, Object.defineProperty(vt, "__esModule", { value: !0 }), vt.arrayPartition = void 0;
  const e = (t, r) => t.reduce(([i, u], a) => r(a) ? [[...i, a], u] : [i, [...u, a]], [[], []]);
  return vt.arrayPartition = e, vt;
}
var gt = {}, zi;
function fu() {
  if (zi)
    return gt;
  zi = 1, Object.defineProperty(gt, "__esModule", { value: !0 }), gt.arrayShuffle = void 0;
  const e = (t) => {
    const r = t.slice();
    for (let i = r.length - 1; i > 0; i--) {
      const u = Math.floor(Math.random() * (i + 1));
      [r[i], r[u]] = [r[u], r[i]];
    }
    return r;
  };
  return gt.arrayShuffle = e, gt;
}
var yt = {}, Wi;
function lu() {
  if (Wi)
    return yt;
  Wi = 1, Object.defineProperty(yt, "__esModule", { value: !0 }), yt.arrayToDictionary = void 0;
  const e = (r) => !!["string", "number"].includes(typeof r), t = (r, i, u) => u ? r.reduce((a, f) => {
    var c;
    const p = i(f);
    return e(p) ? Object.assign(Object.assign({}, a), { [p]: [...(c = a[p]) !== null && c !== void 0 ? c : [], f] }) : a;
  }, {}) : r.reduce((a, f) => {
    const c = i(f);
    return e(c) ? Object.assign(Object.assign({}, a), { [c]: f }) : a;
  }, {});
  return yt.arrayToDictionary = t, yt;
}
var bt = {}, $i;
function hu() {
  if ($i)
    return bt;
  $i = 1, Object.defineProperty(bt, "__esModule", { value: !0 }), bt.reverseBuffer = void 0;
  const e = (t) => {
    if (t.length < 1)
      return t;
    const r = Buffer.alloc(t.length);
    let i = r.length - 1;
    for (let u = 0; u < r.length / 2; u++)
      r[u] = t[i], r[i] = t[u], i--;
    return r;
  };
  return bt.reverseBuffer = e, bt;
}
var mt = {}, Qi;
function du() {
  if (Qi)
    return mt;
  Qi = 1, Object.defineProperty(mt, "__esModule", { value: !0 }), mt.bytesToHumanReadable = void 0;
  const e = ["B", "KB", "MB", "GB", "TB"], t = (r) => {
    let i = Math.abs(r), u = 0;
    for (; i >= 1024 || u >= e.length; )
      i /= 1024, u++;
    return `${i.toFixed(1)} ${e[u]}`;
  };
  return mt.bytesToHumanReadable = t, mt;
}
var wt = {}, Ki;
function pu() {
  if (Ki)
    return wt;
  Ki = 1, Object.defineProperty(wt, "__esModule", { value: !0 }), wt.capitalizeFirstLetter = void 0;
  const e = (t) => t.charAt(0).toUpperCase() + t.slice(1);
  return wt.capitalizeFirstLetter = e, wt;
}
var St = {}, Yi;
function _u() {
  if (Yi)
    return St;
  Yi = 1, Object.defineProperty(St, "__esModule", { value: !0 }), St.cloneObject = void 0;
  const e = (t) => {
    const r = JSON.stringify(t);
    return r === void 0 ? t : JSON.parse(r);
  };
  return St.cloneObject = e, St;
}
var Rt = {}, Xi;
function Eu() {
  if (Xi)
    return Rt;
  Xi = 1, Object.defineProperty(Rt, "__esModule", { value: !0 }), Rt.countBytesInString = void 0;
  const e = (t) => encodeURI(t).split(/%..|./).length - 1;
  return Rt.countBytesInString = e, Rt;
}
var It = {}, Ji;
function vu() {
  if (Ji)
    return It;
  Ji = 1, Object.defineProperty(It, "__esModule", { value: !0 }), It.createCooldown = void 0;
  const e = (t) => {
    let r = 0;
    return () => {
      const i = Date.now();
      return i - r >= t ? (r = i, !0) : !1;
    };
  };
  return It.createCooldown = e, It;
}
var At = {}, Zi;
function gu() {
  if (Zi)
    return At;
  Zi = 1, Object.defineProperty(At, "__esModule", { value: !0 }), At.createDeferred = void 0;
  const e = (t) => {
    let r = () => {
    }, i = () => {
    };
    const u = new Promise((a, f) => {
      r = a, i = f;
    });
    return {
      id: t,
      resolve: r,
      reject: i,
      promise: u
    };
  };
  return At.createDeferred = e, At;
}
var Tt = {}, eo;
function yu() {
  if (eo)
    return Tt;
  eo = 1, Object.defineProperty(Tt, "__esModule", { value: !0 }), Tt.createTimeoutPromise = void 0;
  const e = (t) => new Promise((r) => setTimeout(r, t));
  return Tt.createTimeoutPromise = e, Tt;
}
var et = {}, to;
function bu() {
  if (to)
    return et;
  to = 1, Object.defineProperty(et, "__esModule", { value: !0 }), et.getValueByKey = et.getKeyByValue = void 0;
  function e(r, i) {
    return r && Object.keys(r).find((u) => r[u] === i);
  }
  et.getKeyByValue = e;
  function t(r, i) {
    const u = r && Object.keys(r).find((a) => a === i);
    return u && r[u];
  }
  return et.getValueByKey = t, et;
}
var Nt = {}, ro;
function mu() {
  if (ro)
    return Nt;
  ro = 1, Object.defineProperty(Nt, "__esModule", { value: !0 }), Nt.getNumberFromPixelString = void 0;
  const e = (t) => parseInt(t.replace("px", ""), 10);
  return Nt.getNumberFromPixelString = e, Nt;
}
var Ot = {}, no;
function wu() {
  if (no)
    return Ot;
  no = 1, Object.defineProperty(Ot, "__esModule", { value: !0 }), Ot.getRandomNumberInRange = void 0;
  const e = (t, r) => Math.floor(Math.random() * (r - t + 1)) + t;
  return Ot.getRandomNumberInRange = e, Ot;
}
var Pt = {}, io;
function Su() {
  if (io)
    return Pt;
  io = 1, Object.defineProperty(Pt, "__esModule", { value: !0 }), Pt.getSynchronize = void 0;
  const e = () => {
    let t;
    return (r) => {
      const i = (t ?? Promise.resolve()).catch(() => {
      }).then(r).finally(() => {
        t === i && (t = void 0);
      });
      return t = i, t;
    };
  };
  return Pt.getSynchronize = e, Pt;
}
var Bt = {}, oo;
function Ru() {
  if (oo)
    return Bt;
  oo = 1, Object.defineProperty(Bt, "__esModule", { value: !0 }), Bt.getWeakRandomId = void 0;
  const e = (t) => {
    let r = "";
    const i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
    for (let u = 0; u < t; u++)
      r += i.charAt(Math.floor(Math.random() * i.length));
    return r;
  };
  return Bt.getWeakRandomId = e, Bt;
}
var Ut = {}, ao;
function Iu() {
  if (ao)
    return Ut;
  ao = 1, Object.defineProperty(Ut, "__esModule", { value: !0 }), Ut.hasUppercaseLetter = void 0;
  const e = new RegExp("^(.*[A-Z].*)$"), t = (r) => e.test(r);
  return Ut.hasUppercaseLetter = t, Ut;
}
var Mt = {}, so;
function Au() {
  if (so)
    return Mt;
  so = 1, Object.defineProperty(Mt, "__esModule", { value: !0 }), Mt.isAscii = void 0;
  function e(t) {
    return t ? /^[\x00-\x7F]*$/.test(t) : !0;
  }
  return Mt.isAscii = e, Mt;
}
var Ct = {}, uo;
function Tu() {
  if (uo)
    return Ct;
  uo = 1, Object.defineProperty(Ct, "__esModule", { value: !0 }), Ct.isHex = void 0;
  const e = (t) => /^(0x|0X)?[0-9A-Fa-f]+$/g.test(t);
  return Ct.isHex = e, Ct;
}
var Dt = {}, co;
function Nu() {
  if (co)
    return Dt;
  co = 1, Object.defineProperty(Dt, "__esModule", { value: !0 }), Dt.isNotUndefined = void 0;
  const e = (t) => typeof t < "u";
  return Dt.isNotUndefined = e, Dt;
}
var Lt = {}, fo;
function Ou() {
  if (fo)
    return Lt;
  fo = 1, Object.defineProperty(Lt, "__esModule", { value: !0 }), Lt.isUrl = void 0;
  const e = /^(http|ws)s?:\/\/[a-z0-9]([a-z0-9.-]+)?(:[0-9]{1,5})?((\/)?(([a-z0-9-_])+(\/)?)+)$/i, t = (r) => e.test(r);
  return Lt.isUrl = t, Lt;
}
var pn = {}, lo;
function Pu() {
  return lo || (lo = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.mergeDeepObject = void 0;
    const t = (u) => {
      if (typeof u == "object" && u !== null) {
        if (typeof Object.getPrototypeOf == "function") {
          const a = Object.getPrototypeOf(u);
          return a === Object.prototype || a === null;
        }
        return Object.prototype.toString.call(u) === "[object Object]";
      }
      return !1;
    }, r = (...u) => u.reduce((a, f) => {
      if (Array.isArray(f))
        throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");
      return Object.keys(f).forEach((c) => {
        ["__proto__", "constructor", "prototype"].includes(c) || (Array.isArray(a[c]) && Array.isArray(f[c]) ? a[c] = e.mergeDeepObject.options.mergeArrays ? Array.from(new Set(a[c].concat(f[c]))) : f[c] : t(a[c]) && t(f[c]) ? a[c] = (0, e.mergeDeepObject)(a[c], f[c]) : a[c] = f[c]);
      }), a;
    }, {});
    e.mergeDeepObject = r;
    const i = {
      mergeArrays: !0
    };
    e.mergeDeepObject.options = i, e.mergeDeepObject.withOptions = (u, ...a) => {
      e.mergeDeepObject.options = Object.assign({ mergeArrays: !0 }, u);
      const f = (0, e.mergeDeepObject)(...a);
      return e.mergeDeepObject.options = i, f;
    };
  }(pn)), pn;
}
var xt = {}, ho;
function Bu() {
  if (ho)
    return xt;
  ho = 1;
  var e = pe && pe.__rest || function(r, i) {
    var u = {};
    for (var a in r)
      Object.prototype.hasOwnProperty.call(r, a) && i.indexOf(a) < 0 && (u[a] = r[a]);
    if (r != null && typeof Object.getOwnPropertySymbols == "function")
      for (var f = 0, a = Object.getOwnPropertySymbols(r); f < a.length; f++)
        i.indexOf(a[f]) < 0 && Object.prototype.propertyIsEnumerable.call(r, a[f]) && (u[a[f]] = r[a[f]]);
    return u;
  };
  Object.defineProperty(xt, "__esModule", { value: !0 }), xt.objectPartition = void 0;
  const t = (r, i) => i.reduce(([u, a], f) => {
    const c = a, p = f, d = c[p], g = e(c, [typeof p == "symbol" ? p : p + ""]);
    return typeof d < "u" ? [Object.assign(Object.assign({}, u), { [f]: d }), g] : [u, a];
  }, [{}, r]);
  return xt.objectPartition = t, xt;
}
var Ft = {}, po;
function Uu() {
  if (po)
    return Ft;
  po = 1, Object.defineProperty(Ft, "__esModule", { value: !0 }), Ft.parseHostname = void 0;
  const e = /^([a-z0-9.+-]+:\/\/)?([a-z0-9.-]+)([:/][^:/]+)*\/?$/i, t = (r) => {
    var i, u;
    return (u = (i = r.match(e)) === null || i === void 0 ? void 0 : i[2]) === null || u === void 0 ? void 0 : u.toLowerCase();
  };
  return Ft.parseHostname = t, Ft;
}
var kt = {}, _o;
function Mu() {
  if (_o)
    return kt;
  _o = 1;
  var e = pe && pe.__awaiter || function(r, i, u, a) {
    function f(c) {
      return c instanceof u ? c : new u(function(p) {
        p(c);
      });
    }
    return new (u || (u = Promise))(function(c, p) {
      function d(A) {
        try {
          S(a.next(A));
        } catch (I) {
          p(I);
        }
      }
      function g(A) {
        try {
          S(a.throw(A));
        } catch (I) {
          p(I);
        }
      }
      function S(A) {
        A.done ? c(A.value) : f(A.value).then(d, g);
      }
      S((a = a.apply(r, i || [])).next());
    });
  };
  Object.defineProperty(kt, "__esModule", { value: !0 }), kt.promiseAllSequence = void 0;
  const t = (r) => e(void 0, void 0, void 0, function* () {
    const i = [];
    for (let u = 0; u < r.length; ++u) {
      const a = yield r[u]();
      i.push(a);
    }
    return i;
  });
  return kt.promiseAllSequence = t, kt;
}
var _n = {}, Eo;
function Cu() {
  return Eo || (Eo = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.redactUserPathFromString = e.startOfUserPathRegex = void 0, e.startOfUserPathRegex = /([/\\][Uu]sers[/\\]{1,4})([^"^'^[^\]^/^\\]*)/g;
    const t = (r) => r.replace(e.startOfUserPathRegex, "$1[*]");
    e.redactUserPathFromString = t;
  }(_n)), _n;
}
var qt = {}, vo;
function Du() {
  if (vo)
    return qt;
  vo = 1;
  var e = pe && pe.__awaiter || function(S, A, I, _) {
    function B(U) {
      return U instanceof I ? U : new I(function(w) {
        w(U);
      });
    }
    return new (I || (I = Promise))(function(U, w) {
      function P(D) {
        try {
          C(_.next(D));
        } catch (F) {
          w(F);
        }
      }
      function M(D) {
        try {
          C(_.throw(D));
        } catch (F) {
          w(F);
        }
      }
      function C(D) {
        D.done ? U(D.value) : B(D.value).then(P, M);
      }
      C((_ = _.apply(S, A || [])).next());
    });
  };
  Object.defineProperty(qt, "__esModule", { value: !0 }), qt.scheduleAction = void 0;
  const t = (S) => Array.isArray(S), r = () => new Error("Aborted by signal"), i = () => new Error("Aborted by deadline"), u = () => new Error("Aborted by timeout"), a = (S, A) => new Promise((I, _) => {
    if (A.aborted)
      return _();
    if (S === void 0)
      return I();
    const B = setTimeout(I, S), U = () => {
      clearTimeout(B), A.removeEventListener("abort", U), _();
    };
    A.addEventListener("abort", U);
  }), f = (S, A, I) => new Promise((_, B) => {
    if (I.aborted)
      return B();
    const U = S !== void 0 ? setTimeout(() => B(A()), S) : void 0, w = () => {
      clearTimeout(U), I.removeEventListener("abort", w), B();
    };
    I.addEventListener("abort", w);
  }), c = (S, A) => new Promise((I, _) => {
    if (A.aborted)
      return _();
    if (S != null && S.aborted)
      return _(r());
    const B = () => _(r());
    S == null || S.addEventListener("abort", B);
    const U = () => {
      S == null || S.removeEventListener("abort", B), A.removeEventListener("abort", U), _();
    };
    A.addEventListener("abort", U);
  }), p = (S, A) => e(void 0, void 0, void 0, function* () {
    const I = new AbortController(), _ = () => I.abort();
    A.aborted && _(), A.addEventListener("abort", _);
    try {
      return yield new Promise((B) => B(S(I.signal)));
    } finally {
      A.removeEventListener("abort", _);
    }
  }), d = (S, A, I, _) => e(void 0, void 0, void 0, function* () {
    for (let B = 0; B < S - 1 && !_.aborted; B++) {
      const U = new AbortController(), w = () => U.abort();
      _.addEventListener("abort", w);
      try {
        return yield A(B, U.signal);
      } catch {
        w(), yield I(B);
      } finally {
        _.removeEventListener("abort", w);
      }
    }
    return _.aborted ? Promise.reject() : A(S - 1, _);
  }), g = (S, A) => e(void 0, void 0, void 0, function* () {
    const { signal: I, delay: _, attempts: B, timeout: U, deadline: w, gap: P } = A, M = w && w - Date.now(), C = t(B) ? B.length : B ?? (w ? 1 / 0 : 1), D = new AbortController(), F = D.signal, W = t(B) ? (k) => B[k] : () => ({ timeout: U, gap: P });
    try {
      return yield Promise.race([
        c(I, F),
        f(M, i, F),
        a(_, F).then(() => d(C, (k, j) => Promise.race([
          f(W(k).timeout, u, F),
          p(S, j)
        ]), (k) => {
          var j;
          return a((j = W(k).gap) !== null && j !== void 0 ? j : 0, F);
        }, F))
      ]);
    } finally {
      D.abort();
    }
  });
  return qt.scheduleAction = g, qt;
}
var Gt = {}, go;
function Lu() {
  if (go)
    return Gt;
  go = 1, Object.defineProperty(Gt, "__esModule", { value: !0 }), Gt.throwError = void 0;
  const e = (t) => {
    throw new Error(t);
  };
  return Gt.throwError = e, Gt;
}
var Ht = {}, yo;
function xu() {
  if (yo)
    return Ht;
  yo = 1, Object.defineProperty(Ht, "__esModule", { value: !0 }), Ht.truncateMiddle = void 0;
  const e = (t, r, i) => {
    if (t.length <= r + i)
      return t;
    const u = t.substring(0, r), a = t.substring(t.length - i, t.length);
    return `${u}…${a}`;
  };
  return Ht.truncateMiddle = e, Ht;
}
var jt = {}, bo;
function Fu() {
  if (bo)
    return jt;
  bo = 1, Object.defineProperty(jt, "__esModule", { value: !0 }), jt.topologicalSort = void 0;
  const e = _a(), t = (r, i, u) => {
    const a = [], f = (p) => (0, e.arrayPartition)(p, (d) => !p.some((g) => i(g, d)));
    let c = r;
    for (; c.length; ) {
      const [p, d] = f(c);
      if (!p.length)
        throw new Error("Cycle detected");
      a.push(...u ? p.sort(u) : p), c = d;
    }
    return a;
  };
  return jt.topologicalSort = t, jt;
}
var En = {}, mo;
function ku() {
  return mo || (mo = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.normalizeVersion = e.isNewerOrEqual = e.isEqual = e.isNewer = e.isVersionArray = void 0;
    const t = (d) => ({
      major: d[0],
      minor: d[1],
      patch: d[2]
    }), r = (d) => {
      const g = d.split(".");
      if (g.length !== 3)
        throw new Error("version string is in wrong format");
      return g;
    }, i = (d) => `${d[0]}.${d[1]}.${d[2]}`, u = (d) => d.length === 3;
    e.isVersionArray = u;
    const a = (d, g) => {
      const S = t(typeof d == "string" ? r(d) : d), A = t(typeof g == "string" ? r(g) : g);
      return S.major - A.major !== 0 ? S.major > A.major : S.minor - A.minor !== 0 ? S.minor > A.minor : S.patch - A.patch !== 0 ? S.patch > A.patch : !1;
    };
    e.isNewer = a;
    const f = (d, g) => {
      const S = typeof d == "string" ? d : i(d), A = typeof g == "string" ? g : i(g);
      return S === A;
    };
    e.isEqual = f;
    const c = (d, g) => (0, e.isNewer)(d, g) || (0, e.isEqual)(d, g);
    e.isNewerOrEqual = c;
    const p = (d) => d.replace(/\b0+(\d)/g, "$1");
    e.normalizeVersion = p;
  }(En)), En;
}
var We = {}, wo;
function qu() {
  if (wo)
    return We;
  wo = 1, Object.defineProperty(We, "__esModule", { value: !0 }), We.inDoubleQuotes = We.inSingleQuotes = We.inHTML = void 0;
  const e = /</g, t = /'/g, r = /"/g, i = (f) => f.replace(e, "&lt;");
  We.inHTML = i;
  const u = (f) => f.replace(t, "&#39;");
  We.inSingleQuotes = u;
  const a = (f) => f.replace(r, "&quot;");
  return We.inDoubleQuotes = a, We;
}
var Vt = {}, So;
function Gu() {
  if (So)
    return Vt;
  So = 1, Object.defineProperty(Vt, "__esModule", { value: !0 }), Vt.getLocaleSeparators = void 0;
  const e = (t) => {
    var r, i;
    const a = new Intl.NumberFormat(t).formatToParts(10000.1), f = (r = a.find(({ type: p }) => p === "decimal")) === null || r === void 0 ? void 0 : r.value, c = (i = a.find(({ type: p }) => p === "group")) === null || i === void 0 ? void 0 : i.value;
    return { decimalSeparator: f, thousandsSeparator: c };
  };
  return Vt.getLocaleSeparators = e, Vt;
}
var Ro;
function Ea() {
  return Ro || (Ro = 1, function(e) {
    var t = pe && pe.__createBinding || (Object.create ? function(a, f, c, p) {
      p === void 0 && (p = c);
      var d = Object.getOwnPropertyDescriptor(f, c);
      (!d || ("get" in d ? !f.__esModule : d.writable || d.configurable)) && (d = { enumerable: !0, get: function() {
        return f[c];
      } }), Object.defineProperty(a, p, d);
    } : function(a, f, c, p) {
      p === void 0 && (p = c), a[p] = f[c];
    }), r = pe && pe.__setModuleDefault || (Object.create ? function(a, f) {
      Object.defineProperty(a, "default", { enumerable: !0, value: f });
    } : function(a, f) {
      a.default = f;
    }), i = pe && pe.__exportStar || function(a, f) {
      for (var c in a)
        c !== "default" && !Object.prototype.hasOwnProperty.call(f, c) && t(f, a, c);
    }, u = pe && pe.__importStar || function(a) {
      if (a && a.__esModule)
        return a;
      var f = {};
      if (a != null)
        for (var c in a)
          c !== "default" && Object.prototype.hasOwnProperty.call(a, c) && t(f, a, c);
      return r(f, a), f;
    };
    Object.defineProperty(e, "__esModule", { value: !0 }), e.xssFilters = e.versionUtils = e.enumUtils = e.bufferUtils = void 0, i(cu(), e), i(_a(), e), i(fu(), e), i(lu(), e), e.bufferUtils = u(hu()), i(du(), e), i(pu(), e), i(_u(), e), i(Eu(), e), i(vu(), e), i(gu(), e), i(yu(), e), e.enumUtils = u(bu()), i(mu(), e), i(wu(), e), i(Su(), e), i(Ru(), e), i(Iu(), e), i(Au(), e), i(Tu(), e), i(Nu(), e), i(Ou(), e), i(Pu(), e), i(Bu(), e), i(Uu(), e), i(Mu(), e), i(Cu(), e), i(Du(), e), i(Lu(), e), i(xu(), e), i(Fu(), e), e.versionUtils = u(ku()), e.xssFilters = u(qu()), i(Gu(), e);
  }(dn)), dn;
}
var vn = {}, Io;
function va() {
  return Io || (Io = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.getOnionDomain = e.getHost = e.getOrigin = void 0;
    const t = (u) => {
      var a;
      if (typeof u != "string")
        return "unknown";
      if (u.indexOf("file://") === 0)
        return "file://";
      const [f] = (a = u.match(/^https?:\/\/[^/]+/)) !== null && a !== void 0 ? a : [];
      return f ?? "unknown";
    };
    e.getOrigin = t;
    const r = (u) => {
      var a;
      if (typeof u != "string")
        return;
      const [, , f] = (a = u.match(/^(https?):\/\/([^:/]+)?/i)) !== null && a !== void 0 ? a : [];
      if (f) {
        const c = f.split(".");
        return c.length > 2 ? c.slice(c.length - 2, c.length).join(".") : f;
      }
    };
    e.getHost = r;
    const i = (u, a) => {
      var f;
      if (Array.isArray(u))
        return u.map((c) => (0, e.getOnionDomain)(c, a));
      if (typeof u == "string") {
        const [, c, p, d, g] = (f = u.match(/^(http|ws)s?:\/\/([^:/]+\.)?([^/.]+\.[^/.]+)(\/.*)?$/i)) !== null && f !== void 0 ? f : [];
        return !d || !a[d] ? u : `${c}://${p || ""}${a[d]}${g || ""}`;
      }
      return u;
    };
    e.getOnionDomain = i;
  }(vn)), vn;
}
var cr = {}, Ao;
function Hu() {
  if (Ao)
    return cr;
  Ao = 1, Object.defineProperty(cr, "__esModule", { value: !0 });
  const e = '.trezorconnect-container{position:fixed!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-webkit-flex-direction:column!important;-ms-flex-direction:column!important;flex-direction:column!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important;z-index:10000!important;width:100%!important;height:100%!important;top:0!important;left:0!important;background:rgba(0,0,0,.35)!important;overflow:auto!important;padding:20px!important;margin:0!important}.trezorconnect-container .trezorconnect-window{position:relative!important;display:block!important;width:370px!important;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif!important;margin:auto!important;border-radius:3px!important;background-color:#fff!important;text-align:center!important;overflow:hidden!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head{text-align:left;padding:12px 24px!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-logo{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close{cursor:pointer!important;height:24px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close svg{fill:#757575;-webkit-transition:fill .3s ease-in-out!important;transition:fill .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close:hover svg{fill:#494949}.trezorconnect-container .trezorconnect-window .trezorconnect-body{padding:24px 24px 32px!important;background:#FBFBFB!important;border-top:1px solid #EBEBEB}.trezorconnect-container .trezorconnect-window .trezorconnect-body h3{color:#505050!important;font-size:16px!important;font-weight:500!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body p{margin:8px 0 24px!important;font-weight:400!important;color:#A9A9A9!important;font-size:12px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button{width:100%!important;padding:12px 24px!important;margin:0!important;border-radius:3px!important;font-size:14px!important;font-weight:300!important;cursor:pointer!important;background:#01B757!important;color:#fff!important;border:0!important;-webkit-transition:background-color .3s ease-in-out!important;transition:background-color .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:hover{background-color:#00AB51!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:active{background-color:#009546!important}/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0IiwiJHN0ZGluIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNBLHlCQUNJLFNBQUEsZ0JBQ0EsUUFBQSxzQkFDQSxRQUFBLHVCQUNBLFFBQUEsc0JBRUEsUUFBQSxlQUNBLG1CQUFBLG1CQUNBLHNCQUFBLGlCQUNBLHVCQUFBLGlCQUNBLG1CQUFBLGlCQUNBLGVBQUEsaUJBRUEsa0JBQUEsaUJBQ0Esb0JBQUEsaUJBQ0EsZUFBQSxpQkNmTSxZQUFhLGlCREFyQixRQUFTLGdCQWtCSCxNQUFBLGVBQ0EsT0FBQSxlQUNBLElBQUEsWUFDQSxLQUFBLFlBQ0EsV0FBQSwwQkFDQSxTQUFBLGVBQ0EsUUFBQSxlQUNBLE9BQUEsWUNkUiwrQ0RYRSxTQUFVLG1CQTZCQSxRQUFBLGdCQUNBLE1BQUEsZ0JBQ0EsWUFBQSxjQUFBLG1CQUFBLFdBQUEsT0FBQSxpQkFBQSxNQUFBLHFCQUNBLE9BQUEsZUNmVixjQUFlLGNEakJmLGlCQWlCRSxlQWtCWSxXQUFBLGlCQ2ZkLFNBQVUsaUJEbUJJLG1FQUNBLFdBQUEsS0NoQmQsUUFBUyxLQUFLLGVEeEJkLFFBQVMsc0JBMENTLFFBQUEsdUJBQ0EsUUFBQSxzQkNmbEIsUUFBUyxlRGlCSyxrQkE1QlosaUJBOEJvQixvQkFBQSxpQkNoQmxCLGVBQWdCLGlCRC9CWixZQWlCTixpQkFzQ1EsdUZBQ0EsaUJBQUEsRUNwQlYsYUFBYyxFRHBDVixTQUFVLEVBMkRBLEtBQUEsRUFFQSx3RkNwQmQsT0FBUSxrQkR6Q1IsT0FBUSxlQWlFTSw0RkFDQSxLQUFBLFFBQ0EsbUJBQUEsS0FBQSxJQUFBLHNCQ3BCZCxXQUFZLEtBQUssSUFBSyxzQkR3QlIsa0dBQ0EsS0FBQSxRQUVBLG1FQUNBLFFBQUEsS0FBQSxLQUFBLGVBQ0EsV0FBQSxrQkFDQSxXQUFBLElBQUEsTUFBQSxRQUVBLHNFQUNBLE1BQUEsa0JBQ0EsVUFBQSxlQ3JCZCxZQUFhLGNEd0JLLHFFQ3JCbEIsT0FBUSxJQUFJLEVBQUksZUR3QkYsWUFBQSxjQUNJLE1BQUEsa0JDdEJsQixVQUFXLGVBRWIsMEVBQ0UsTUFBTyxlQUNQLFFBQVMsS0FBSyxlQUNkLE9BQVEsWUFDUixjQUFlLGNBQ2YsVUFBVyxlQUNYLFlBQWEsY0FDYixPQUFRLGtCQUNSLFdBQVksa0JBQ1osTUFBTyxlQUNQLE9BQVEsWUFDUixtQkFBb0IsaUJBQWlCLElBQUssc0JBQzFDLFdBQVksaUJBQWlCLElBQUssc0JBRXBDLGdGQUNFLGlCQUFrQixrQkFFcEIsaUZBQ0UsaUJBQWtCIn0= */';
  return cr.default = e, cr;
}
var To;
function ju() {
  return To || (To = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.clearTimeout = e.postMessage = e.init = e.dispose = e.messagePromises = e.error = e.timeout = e.initPromise = e.origin = e.instance = void 0;
    const t = ot, r = Ea(), i = rr(), u = va(), a = t.__importDefault(Hu());
    e.initPromise = (0, r.createDeferred)(), e.timeout = 0;
    let f = 0;
    e.messagePromises = {};
    const c = () => {
      if (e.instance && e.instance.parentNode)
        try {
          e.instance.parentNode.removeChild(e.instance);
        } catch {
        }
      e.instance = null, e.timeout = 0;
    };
    e.dispose = c;
    const p = () => {
      window.clearTimeout(e.timeout), e.error = i.ERRORS.TypedError("Init_IframeBlocked"), (0, e.dispose)(), e.initPromise.reject(e.error);
    }, d = () => {
      if (!e.instance)
        throw i.ERRORS.TypedError("Init_IframeBlocked");
      const I = e.instance.ownerDocument, _ = I.head || I.getElementsByTagName("head")[0], B = document.createElement("style");
      B.setAttribute("type", "text/css"), B.setAttribute("id", "TrezorConnectStylesheet"), B.styleSheet ? (B.styleSheet.cssText = a.default, _.appendChild(B)) : (B.appendChild(document.createTextNode(a.default)), _.append(B));
    }, g = async (I) => {
      e.initPromise = (0, r.createDeferred)();
      const _ = document.getElementById("trezorconnect");
      _ ? e.instance = _ : (e.instance = document.createElement("iframe"), e.instance.frameBorder = "0", e.instance.width = "0px", e.instance.height = "0px", e.instance.style.position = "absolute", e.instance.style.display = "none", e.instance.style.border = "0px", e.instance.style.width = "0px", e.instance.style.height = "0px", e.instance.id = "trezorconnect");
      let B;
      if (I.env === "web") {
        const w = I.manifest ? JSON.stringify(I.manifest) : "undefined", P = `version=${I.version}&manifest=${encodeURIComponent(btoa(JSON.stringify(w)))}`;
        B = `${I.iframeSrc}?${P}`;
      } else
        B = I.iframeSrc;
      e.instance.setAttribute("src", B), I.webusb && console.warn('webusb option is deprecated. use `transports: ["WebUsbTransport"] instead`'), navigator.usb && e.instance.setAttribute("allow", "usb"), e.origin = (0, u.getOrigin)(e.instance.src), e.timeout = window.setTimeout(() => {
        e.initPromise.reject(i.ERRORS.TypedError("Init_IframeTimeout"));
      }, 1e4);
      const U = () => {
        var w, P;
        if (!e.instance) {
          e.initPromise.reject(i.ERRORS.TypedError("Init_IframeBlocked"));
          return;
        }
        try {
          const C = (w = e.instance.contentWindow) === null || w === void 0 ? void 0 : w.location.origin;
          if (!C || C === "null") {
            p();
            return;
          }
        } catch {
        }
        let M;
        typeof chrome < "u" && chrome.runtime && typeof chrome.runtime.onConnect < "u" && (chrome.runtime.onConnect.addListener(() => {
        }), M = chrome.runtime.id), (P = e.instance.contentWindow) === null || P === void 0 || P.postMessage({
          type: i.IFRAME.INIT,
          payload: {
            settings: I,
            extension: M
          }
        }, e.origin), e.instance.onload = null;
      };
      e.instance.attachEvent ? e.instance.attachEvent("onload", U) : e.instance.onload = U, document.body && (document.body.appendChild(e.instance), d());
      try {
        await e.initPromise.promise;
      } catch (w) {
        throw e.instance && (e.instance.parentNode && e.instance.parentNode.removeChild(e.instance), e.instance = null), w;
      } finally {
        window.clearTimeout(e.timeout), e.timeout = 0;
      }
    };
    e.init = g;
    const S = (I, _ = !0) => {
      var B, U;
      if (!e.instance)
        throw i.ERRORS.TypedError("Init_IframeBlocked");
      if (_) {
        f++, I.id = f, e.messagePromises[f] = (0, r.createDeferred)();
        const { promise: w } = e.messagePromises[f];
        return (B = e.instance.contentWindow) === null || B === void 0 || B.postMessage(I, e.origin), w;
      }
      return (U = e.instance.contentWindow) === null || U === void 0 || U.postMessage(I, e.origin), null;
    };
    e.postMessage = S;
    const A = () => {
      window.clearTimeout(e.timeout);
    };
    e.clearTimeout = A;
  }(hn)), hn;
}
var zt = {}, Wt = {}, No;
function Vu() {
  if (No)
    return Wt;
  No = 1, Object.defineProperty(Wt, "__esModule", { value: !0 }), Wt.showPopupRequest = void 0;
  const e = "TrezorConnectInteractionLayer", t = `
    <div class="trezorconnect-container" id="${e}">
        <div class="trezorconnect-window">
            <div class="trezorconnect-head">
                <svg class="trezorconnect-logo" x="0px" y="0px" viewBox="0 0 163.7 41.9" width="78px" height="20px" preserveAspectRatio="xMinYMin meet">
                    <polygon points="101.1,12.8 118.2,12.8 118.2,17.3 108.9,29.9 118.2,29.9 118.2,35.2 101.1,35.2 101.1,30.7 110.4,18.1 101.1,18.1"/>
                    <path d="M158.8,26.9c2.1-0.8,4.3-2.9,4.3-6.6c0-4.5-3.1-7.4-7.7-7.4h-10.5v22.3h5.8v-7.5h2.2l4.1,7.5h6.7L158.8,26.9z M154.7,22.5 h-4V18h4c1.5,0,2.5,0.9,2.5,2.2C157.2,21.6,156.2,22.5,154.7,22.5z"/>
                    <path d="M130.8,12.5c-6.8,0-11.6,4.9-11.6,11.5s4.9,11.5,11.6,11.5s11.7-4.9,11.7-11.5S137.6,12.5,130.8,12.5z M130.8,30.3 c-3.4,0-5.7-2.6-5.7-6.3c0-3.8,2.3-6.3,5.7-6.3c3.4,0,5.8,2.6,5.8,6.3C136.6,27.7,134.2,30.3,130.8,30.3z"/>
                    <polygon points="82.1,12.8 98.3,12.8 98.3,18 87.9,18 87.9,21.3 98,21.3 98,26.4 87.9,26.4 87.9,30 98.3,30 98.3,35.2 82.1,35.2 "/>
                    <path d="M24.6,9.7C24.6,4.4,20,0,14.4,0S4.2,4.4,4.2,9.7v3.1H0v22.3h0l14.4,6.7l14.4-6.7h0V12.9h-4.2V9.7z M9.4,9.7 c0-2.5,2.2-4.5,5-4.5s5,2,5,4.5v3.1H9.4V9.7z M23,31.5l-8.6,4l-8.6-4V18.1H23V31.5z"/>
                    <path d="M79.4,20.3c0-4.5-3.1-7.4-7.7-7.4H61.2v22.3H67v-7.5h2.2l4.1,7.5H80l-4.9-8.3C77.2,26.1,79.4,24,79.4,20.3z M71,22.5h-4V18 h4c1.5,0,2.5,0.9,2.5,2.2C73.5,21.6,72.5,22.5,71,22.5z"/>
                    <polygon points="40.5,12.8 58.6,12.8 58.6,18.1 52.4,18.1 52.4,35.2 46.6,35.2 46.6,18.1 40.5,18.1 "/>
                </svg>
                <div class="trezorconnect-close">
                    <svg x="0px" y="0px" viewBox="24 24 60 60" width="24px" height="24px" preserveAspectRatio="xMinYMin meet">
                        <polygon class="st0" points="40,67.9 42.1,70 55,57.1 67.9,70 70,67.9 57.1,55 70,42.1 67.9,40 55,52.9 42.1,40 40,42.1 52.9,55 "/>
                    </svg>
                </div>
            </div>
            <div class="trezorconnect-body">
                <h3>Popup was blocked</h3>
                <p>Please click to "Continue" to open popup manually</p>
                <button class="trezorconnect-open">Continue</button>
            </div>
        </div>
    </div>
`, r = (i, u) => {
    if (document.getElementById(e))
      return;
    const a = document.createElement("div");
    a.id = e, a.className = "trezorconnect-container", a.innerHTML = t, document.body && document.body.appendChild(a);
    const f = a.getElementsByClassName("trezorconnect-open")[0];
    f.onclick = () => {
      i(), document.body && document.body.removeChild(a);
    };
    const c = a.getElementsByClassName("trezorconnect-close")[0];
    c.onclick = () => {
      u(), document.body && document.body.removeChild(a);
    };
  };
  return Wt.showPopupRequest = r, Wt;
}
var Oo;
function zu() {
  if (Oo)
    return zt;
  Oo = 1, Object.defineProperty(zt, "__esModule", { value: !0 }), zt.PopupManager = void 0;
  const t = ot.__importDefault(gr), r = Ea(), i = rr(), u = va(), a = Vu(), f = 850, c = 500, p = 3e3;
  class d extends t.default {
    constructor(S) {
      super(), this.locked = !1, this.requestTimeout = 0, this.closeInterval = 0, this.extensionTabId = 0, this.settings = S, this.origin = (0, u.getOrigin)(S.popupSrc), this.handleMessage = this.handleMessage.bind(this), this.iframeHandshake = (0, r.createDeferred)(i.IFRAME.LOADED), this.settings.env === "webextension" && (this.handleExtensionConnect = this.handleExtensionConnect.bind(this), this.handleExtensionMessage = this.handleExtensionMessage.bind(this), chrome.runtime.onConnect.addListener(this.handleExtensionConnect)), window.addEventListener("message", this.handleMessage, !1);
    }
    request() {
      if (this.locked) {
        this.popupWindow && (this.settings.env === "webextension" ? chrome.tabs.update(this.popupWindow.id, { active: !0 }) : this.popupWindow.focus());
        return;
      }
      this.popupWindow && !this.locked && this.close();
      const S = this.open.bind(this);
      this.locked = !0;
      const A = this.settings.env === "webextension" ? 1 : f;
      this.requestTimeout = window.setTimeout(() => {
        this.requestTimeout = 0, S();
      }, A);
    }
    unlock() {
      this.locked = !1;
    }
    open() {
      const S = this.settings.popupSrc;
      this.popupPromise = (0, r.createDeferred)(i.POPUP.LOADED), this.openWrapper(S), this.closeInterval = window.setInterval(() => {
        this.popupWindow && (this.settings.env === "webextension" ? chrome.tabs.get(this.popupWindow.id, (A) => {
          A || (this.emit(i.POPUP.CLOSED), this.clear());
        }) : this.popupWindow.closed && (this.clear(), this.emit(i.POPUP.CLOSED)));
      }, c), this.openTimeout = setTimeout(() => {
        this.clear(), (0, a.showPopupRequest)(this.open.bind(this), () => {
          this.emit(i.POPUP.CLOSED);
        });
      }, p);
    }
    openWrapper(S) {
      this.settings.env === "webextension" ? chrome.windows.getCurrent((A) => {
        A.type !== "normal" ? chrome.windows.create({ url: S }, (I) => {
          chrome.tabs.query({
            windowId: I == null ? void 0 : I.id,
            active: !0
          }, (_) => {
            this.popupWindow = _[0];
          });
        }) : chrome.tabs.query({
          currentWindow: !0,
          active: !0
        }, (I) => {
          this.extensionTabId = I[0].id, chrome.tabs.create({
            url: S,
            index: I[0].index + 1
          }, (_) => {
            this.popupWindow = _;
          });
        });
      }) : this.settings.env === "electron" ? this.popupWindow = window.open(S, "modal") : (this.popupWindow = window.open("", "_blank"), this.popupWindow && (this.popupWindow.location.href = S));
    }
    handleExtensionConnect(S) {
      var A, I;
      S.name === "trezor-connect" && (!this.popupWindow || this.popupWindow && this.popupWindow.id !== ((I = (A = S.sender) === null || A === void 0 ? void 0 : A.tab) === null || I === void 0 ? void 0 : I.id) || (this.openTimeout && clearTimeout(this.openTimeout), this.extensionPort = S, this.extensionPort.onMessage.addListener(this.handleExtensionMessage)));
    }
    handleExtensionMessage(S) {
      if (!this.extensionPort)
        return;
      const A = this.extensionPort, { data: I } = S;
      if (!(!I || typeof I != "object"))
        if (I.type === i.POPUP.ERROR) {
          const _ = I.payload && typeof I.payload.error == "string" ? I.payload.error : null;
          this.emit(i.POPUP.CLOSED, _ ? `Popup error: ${_}` : null), this.clear();
        } else
          I.type === i.POPUP.LOADED ? (this.popupPromise && this.popupPromise.resolve(), this.iframeHandshake.promise.then((_) => {
            A.postMessage({
              type: i.POPUP.INIT,
              payload: Object.assign(Object.assign({}, _), { settings: this.settings })
            });
          })) : I.type === i.POPUP.EXTENSION_USB_PERMISSIONS ? chrome.tabs.query({
            currentWindow: !0,
            active: !0
          }, (_) => {
            chrome.tabs.create({
              url: "trezor-usb-permissions.html",
              index: _[0].index + 1
            }, (B) => {
            });
          }) : I.type === i.POPUP.CLOSE_WINDOW && this.clear();
    }
    handleMessage(S) {
      const { data: A } = S;
      if (!((0, u.getOrigin)(S.origin) !== this.origin || !A || typeof A != "object"))
        if (A.type === i.IFRAME.LOADED)
          this.iframeHandshake.resolve(A.payload);
        else if (A.type === i.POPUP.BOOTSTRAP)
          this.openTimeout && clearTimeout(this.openTimeout);
        else if (A.type === i.POPUP.ERROR && this.popupWindow) {
          const I = A.payload && typeof A.payload.error == "string" ? A.payload.error : null;
          this.emit(i.POPUP.CLOSED, I ? `Popup error: ${I}` : null), this.clear();
        } else
          A.type === i.POPUP.LOADED ? (this.popupPromise && this.popupPromise.resolve(), this.iframeHandshake.promise.then((I) => {
            this.popupWindow.postMessage({
              type: i.POPUP.INIT,
              payload: Object.assign(Object.assign({}, I), { settings: this.settings })
            }, this.origin);
          })) : (A.type === i.POPUP.CANCEL_POPUP_REQUEST || A.type === i.UI.CLOSE_UI_WINDOW) && this.clear(!1);
    }
    clear(S = !0) {
      this.locked = !1, this.popupPromise = void 0, this.requestTimeout && (window.clearTimeout(this.requestTimeout), this.requestTimeout = 0), this.openTimeout && (clearTimeout(this.openTimeout), this.openTimeout = void 0), this.closeInterval && (window.clearInterval(this.closeInterval), this.closeInterval = 0), this.extensionPort && (this.extensionPort.disconnect(), this.extensionPort = void 0), S && this.extensionTabId && (chrome.tabs.update(this.extensionTabId, { active: !0 }), this.extensionTabId = 0);
    }
    close() {
      if (this.popupWindow) {
        if (this.settings.env === "webextension") {
          chrome.runtime.lastError, chrome.tabs.remove(this.popupWindow.id, () => {
            chrome.runtime.lastError;
          });
          return;
        }
        this.popupWindow.close(), this.popupWindow = null;
      }
    }
    async postMessage(S) {
      if (!this.popupWindow && S.type !== i.UI.REQUEST_UI_WINDOW && this.openTimeout) {
        this.clear(), (0, a.showPopupRequest)(this.open.bind(this), () => {
          this.emit(i.POPUP.CLOSED);
        });
        return;
      }
      this.popupPromise && await this.popupPromise.promise, this.popupWindow && this.popupWindow.postMessage(S, this.origin);
    }
  }
  return zt.PopupManager = d, zt;
}
var fr = {}, Po;
function Wu() {
  if (Po)
    return fr;
  Po = 1, Object.defineProperty(fr, "__esModule", { value: !0 });
  const e = (t = "", r) => {
    const i = t || ".trezor-webusb-button", u = document.querySelectorAll(i), a = `${r}?${Date.now()}`;
    u.forEach((f) => {
      if (f.getElementsByTagName("iframe").length < 1) {
        const c = f.getBoundingClientRect(), p = document.createElement("iframe");
        p.frameBorder = "0", p.width = `${Math.round(c.width)}px`, p.height = `${Math.round(c.height)}px`, p.style.position = "absolute", p.style.top = "0px", p.style.left = "0px", p.style.zIndex = "1", p.setAttribute("allow", "usb"), p.setAttribute("scrolling", "no"), p.src = a, f.append(p);
      }
    });
  };
  return fr.default = e, fr;
}
var gn = {}, Bo;
function $u() {
  return Bo || (Bo = 1, function(e) {
    Object.defineProperty(e, "__esModule", { value: !0 }), e.parseConnectSettings = e.getEnv = void 0;
    const t = rr(), r = () => {
      var u;
      if (typeof chrome < "u" && typeof ((u = chrome.runtime) === null || u === void 0 ? void 0 : u.onConnect) < "u")
        return "webextension";
      if (typeof navigator < "u") {
        if (typeof navigator.product == "string" && navigator.product.toLowerCase() === "reactnative")
          return "react-native";
        if (navigator.userAgent.toLowerCase().indexOf(" electron/") > -1)
          return "electron";
      }
      return "web";
    };
    e.getEnv = r;
    const i = (u = {}) => {
      var a;
      const f = Object.assign({ popup: !0 }, u);
      let c;
      if (typeof window < "u" ? c = window.__TREZOR_CONNECT_SRC : typeof pe < "u" && (c = pe.__TREZOR_CONNECT_SRC), typeof c == "string" && (f.connectSrc = c, f.debug = !0), typeof window < "u" && typeof ((a = window.location) === null || a === void 0 ? void 0 : a.search) == "string") {
        const d = window.location.search.split("&").find((g) => g.indexOf("trezor-connect-src") >= 0);
        if (d) {
          const [, g] = d.split("=");
          f.connectSrc = decodeURIComponent(g), f.debug = !0;
        }
      }
      return typeof u.env != "string" && (f.env = (0, e.getEnv)()), (0, t.parseConnectSettings)(f);
    };
    e.parseConnectSettings = i;
  }(gn)), gn;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: !0 });
  const t = ot, r = t.__importDefault(gr), i = rr(), u = au(), a = su(), f = uu(), c = t.__importStar(ju()), p = t.__importStar(zu()), d = t.__importDefault(Wu()), g = $u(), S = new r.default(), A = (0, a.initLog)("@trezor/connect");
  let I = (0, g.parseConnectSettings)(), _;
  const B = () => {
    const ee = new p.PopupManager(I);
    return ee.on(i.POPUP.CLOSED, (q) => {
      c.postMessage({
        type: i.POPUP.CLOSED,
        payload: q ? { error: q } : null
      }, !1);
    }), ee;
  }, U = (ee) => {
    I = (0, g.parseConnectSettings)(Object.assign(Object.assign({}, I), { manifest: ee }));
  }, w = () => (S.removeAllListeners(), c.dispose(), I = (0, g.parseConnectSettings)(), _ && _.close(), Promise.resolve(void 0)), P = (ee) => {
    _ && _.emit(i.POPUP.CLOSED, ee);
  }, M = (ee) => {
    if (ee.origin !== c.origin)
      return;
    const q = (0, i.parseMessage)(ee.data), ue = q.id || 0;
    switch (A.log("handleMessage", q), q.event) {
      case i.RESPONSE_EVENT:
        c.messagePromises[ue] ? (c.messagePromises[ue].resolve({
          id: ue,
          success: q.success,
          payload: q.payload
        }), delete c.messagePromises[ue]) : A.warn(`Unknown message id ${ue}`);
        break;
      case i.DEVICE_EVENT:
        S.emit(q.event, q), S.emit(q.type, q.payload);
        break;
      case i.TRANSPORT_EVENT:
        S.emit(q.event, q), S.emit(q.type, q.payload);
        break;
      case i.BLOCKCHAIN_EVENT:
        S.emit(q.event, q), S.emit(q.type, q.payload);
        break;
      case i.UI_EVENT:
        if (q.type === i.IFRAME.BOOTSTRAP) {
          c.clearTimeout();
          break;
        }
        q.type === i.IFRAME.LOADED && c.initPromise.resolve(), q.type === i.IFRAME.ERROR && c.initPromise.reject(q.payload.error), S.emit(q.event, q), S.emit(q.type, q.payload);
        break;
      default:
        A.log("Undefined message", q.event, ee);
    }
  }, C = async (ee = {}) => {
    var q;
    if (c.instance)
      throw i.ERRORS.TypedError("Init_AlreadyInitialized");
    if (I = (0, g.parseConnectSettings)(Object.assign(Object.assign({}, I), ee)), !I.manifest)
      throw i.ERRORS.TypedError("Init_ManifestMissing");
    if (!((q = I.transports) === null || q === void 0) && q.length || (I.transports = ["BridgeTransport", "WebUsbTransport"]), I.lazyLoad) {
      I.lazyLoad = !1;
      return;
    }
    _ || (_ = B()), A.enabled = !!I.debug, window.addEventListener("message", M), window.addEventListener("unload", w), await c.init(I);
  }, D = async (ee) => {
    if (!c.instance && !c.timeout) {
      if (I = (0, g.parseConnectSettings)(I), !I.manifest)
        return (0, i.createErrorMessage)(i.ERRORS.TypedError("Init_ManifestMissing"));
      _ || (_ = B()), _.request();
      try {
        await C(I);
      } catch (q) {
        return _ && (["Init_IframeBlocked", "Init_IframeTimeout"].includes(q.code) ? _.postMessage((0, i.createUiMessage)(i.UI.IFRAME_FAILURE)) : _.clear()), (0, i.createErrorMessage)(q);
      }
    }
    if (c.timeout)
      return (0, i.createErrorMessage)(i.ERRORS.TypedError("Init_ManifestMissing"));
    if (c.error)
      return (0, i.createErrorMessage)(c.error);
    I.popup && _ && _.request();
    try {
      const q = await c.postMessage({ type: i.IFRAME.CALL, payload: ee });
      return q ? (!q.success && q.payload.code !== "Device_CallInProgress" && _ && _.unlock(), q) : (_ && _.unlock(), (0, i.createErrorMessage)(i.ERRORS.TypedError("Method_NoResponse")));
    } catch (q) {
      return A.error("__call error", q), _ && _.clear(), (0, i.createErrorMessage)(q);
    }
  }, F = (ee) => {
    if (!c.instance)
      throw i.ERRORS.TypedError("Init_NotInitialized");
    const { type: q, payload: ue } = ee;
    c.postMessage({ event: i.UI_EVENT, type: q, payload: ue });
  }, W = (ee) => {
    (0, d.default)(ee, I.webusbSrc);
  }, k = async (ee) => {
    if (typeof ee.callback == "function") {
      const { callback: q } = ee, ue = async (Ue) => {
        const { data: de } = Ue;
        if (de && de.type === i.UI.LOGIN_CHALLENGE_REQUEST)
          try {
            const ge = await q();
            c.postMessage({
              event: i.UI_EVENT,
              type: i.UI.LOGIN_CHALLENGE_RESPONSE,
              payload: ge
            });
          } catch (ge) {
            c.postMessage({
              event: i.UI_EVENT,
              type: i.UI.LOGIN_CHALLENGE_RESPONSE,
              payload: ge.message
            });
          }
      };
      window.addEventListener("message", ue, !1);
      const ye = await D(Object.assign(Object.assign({ method: "requestLogin" }, ee), { asyncChallenge: !0, callback: null }));
      return window.removeEventListener("message", ue), ye;
    }
    return D(Object.assign({ method: "requestLogin" }, ee));
  }, j = () => {
    if (!c.instance)
      throw i.ERRORS.TypedError("Init_NotInitialized");
    c.postMessage({
      event: i.UI_EVENT,
      type: i.TRANSPORT.DISABLE_WEBUSB
    });
  }, le = async () => {
    try {
      await window.navigator.usb.requestDevice({ filters: f.config.webusb }), c.postMessage({
        event: i.UI_EVENT,
        type: i.TRANSPORT.REQUEST_DEVICE
      });
    } catch {
    }
  }, Ae = (0, u.factory)({
    eventEmitter: S,
    manifest: U,
    init: C,
    call: D,
    requestLogin: k,
    uiResponse: F,
    renderWebUSBButton: W,
    disableWebUSB: j,
    requestWebUSBDevice: le,
    cancel: P,
    dispose: w
  });
  e.default = Ae, t.__exportStar(rr(), e);
})(fa);
const ft = /* @__PURE__ */ is(fa);
var Dn = { exports: {} };
typeof Object.create == "function" ? Dn.exports = function(t, r) {
  r && (t.super_ = r, t.prototype = Object.create(r.prototype, {
    constructor: {
      value: t,
      enumerable: !1,
      writable: !0,
      configurable: !0
    }
  }));
} : Dn.exports = function(t, r) {
  if (r) {
    t.super_ = r;
    var i = function() {
    };
    i.prototype = r.prototype, t.prototype = new i(), t.prototype.constructor = t;
  }
};
var Ie = Dn.exports, Ln = { exports: {} };
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
(function(e, t) {
  var r = ir, i = r.Buffer;
  function u(f, c) {
    for (var p in f)
      c[p] = f[p];
  }
  i.from && i.alloc && i.allocUnsafe && i.allocUnsafeSlow ? e.exports = r : (u(r, t), t.Buffer = a);
  function a(f, c, p) {
    return i(f, c, p);
  }
  a.prototype = Object.create(i.prototype), u(i, a), a.from = function(f, c, p) {
    if (typeof f == "number")
      throw new TypeError("Argument must not be a number");
    return i(f, c, p);
  }, a.alloc = function(f, c, p) {
    if (typeof f != "number")
      throw new TypeError("Argument must be a number");
    var d = i(f);
    return c !== void 0 ? typeof p == "string" ? d.fill(c, p) : d.fill(c) : d.fill(0), d;
  }, a.allocUnsafe = function(f) {
    if (typeof f != "number")
      throw new TypeError("Argument must be a number");
    return i(f);
  }, a.allocUnsafeSlow = function(f) {
    if (typeof f != "number")
      throw new TypeError("Argument must be a number");
    return r.SlowBuffer(f);
  };
})(Ln, Ln.exports);
var Be = Ln.exports, xn = { exports: {} }, ga = gr.EventEmitter, yn, Uo;
function Qu() {
  if (Uo)
    return yn;
  Uo = 1;
  function e(_, B) {
    var U = Object.keys(_);
    if (Object.getOwnPropertySymbols) {
      var w = Object.getOwnPropertySymbols(_);
      B && (w = w.filter(function(P) {
        return Object.getOwnPropertyDescriptor(_, P).enumerable;
      })), U.push.apply(U, w);
    }
    return U;
  }
  function t(_) {
    for (var B = 1; B < arguments.length; B++) {
      var U = arguments[B] != null ? arguments[B] : {};
      B % 2 ? e(Object(U), !0).forEach(function(w) {
        r(_, w, U[w]);
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(_, Object.getOwnPropertyDescriptors(U)) : e(Object(U)).forEach(function(w) {
        Object.defineProperty(_, w, Object.getOwnPropertyDescriptor(U, w));
      });
    }
    return _;
  }
  function r(_, B, U) {
    return B = f(B), B in _ ? Object.defineProperty(_, B, { value: U, enumerable: !0, configurable: !0, writable: !0 }) : _[B] = U, _;
  }
  function i(_, B) {
    if (!(_ instanceof B))
      throw new TypeError("Cannot call a class as a function");
  }
  function u(_, B) {
    for (var U = 0; U < B.length; U++) {
      var w = B[U];
      w.enumerable = w.enumerable || !1, w.configurable = !0, "value" in w && (w.writable = !0), Object.defineProperty(_, f(w.key), w);
    }
  }
  function a(_, B, U) {
    return B && u(_.prototype, B), U && u(_, U), Object.defineProperty(_, "prototype", { writable: !1 }), _;
  }
  function f(_) {
    var B = c(_, "string");
    return typeof B == "symbol" ? B : String(B);
  }
  function c(_, B) {
    if (typeof _ != "object" || _ === null)
      return _;
    var U = _[Symbol.toPrimitive];
    if (U !== void 0) {
      var w = U.call(_, B || "default");
      if (typeof w != "object")
        return w;
      throw new TypeError("@@toPrimitive must return a primitive value.");
    }
    return (B === "string" ? String : Number)(_);
  }
  var p = ir, d = p.Buffer, g = sa, S = g.inspect, A = S && S.custom || "inspect";
  function I(_, B, U) {
    d.prototype.copy.call(_, B, U);
  }
  return yn = /* @__PURE__ */ function() {
    function _() {
      i(this, _), this.head = null, this.tail = null, this.length = 0;
    }
    return a(_, [{
      key: "push",
      value: function(U) {
        var w = {
          data: U,
          next: null
        };
        this.length > 0 ? this.tail.next = w : this.head = w, this.tail = w, ++this.length;
      }
    }, {
      key: "unshift",
      value: function(U) {
        var w = {
          data: U,
          next: this.head
        };
        this.length === 0 && (this.tail = w), this.head = w, ++this.length;
      }
    }, {
      key: "shift",
      value: function() {
        if (this.length !== 0) {
          var U = this.head.data;
          return this.length === 1 ? this.head = this.tail = null : this.head = this.head.next, --this.length, U;
        }
      }
    }, {
      key: "clear",
      value: function() {
        this.head = this.tail = null, this.length = 0;
      }
    }, {
      key: "join",
      value: function(U) {
        if (this.length === 0)
          return "";
        for (var w = this.head, P = "" + w.data; w = w.next; )
          P += U + w.data;
        return P;
      }
    }, {
      key: "concat",
      value: function(U) {
        if (this.length === 0)
          return d.alloc(0);
        for (var w = d.allocUnsafe(U >>> 0), P = this.head, M = 0; P; )
          I(P.data, w, M), M += P.data.length, P = P.next;
        return w;
      }
      // Consumes a specified amount of bytes or characters from the buffered data.
    }, {
      key: "consume",
      value: function(U, w) {
        var P;
        return U < this.head.data.length ? (P = this.head.data.slice(0, U), this.head.data = this.head.data.slice(U)) : U === this.head.data.length ? P = this.shift() : P = w ? this._getString(U) : this._getBuffer(U), P;
      }
    }, {
      key: "first",
      value: function() {
        return this.head.data;
      }
      // Consumes a specified amount of characters from the buffered data.
    }, {
      key: "_getString",
      value: function(U) {
        var w = this.head, P = 1, M = w.data;
        for (U -= M.length; w = w.next; ) {
          var C = w.data, D = U > C.length ? C.length : U;
          if (D === C.length ? M += C : M += C.slice(0, U), U -= D, U === 0) {
            D === C.length ? (++P, w.next ? this.head = w.next : this.head = this.tail = null) : (this.head = w, w.data = C.slice(D));
            break;
          }
          ++P;
        }
        return this.length -= P, M;
      }
      // Consumes a specified amount of bytes from the buffered data.
    }, {
      key: "_getBuffer",
      value: function(U) {
        var w = d.allocUnsafe(U), P = this.head, M = 1;
        for (P.data.copy(w), U -= P.data.length; P = P.next; ) {
          var C = P.data, D = U > C.length ? C.length : U;
          if (C.copy(w, w.length - U, 0, D), U -= D, U === 0) {
            D === C.length ? (++M, P.next ? this.head = P.next : this.head = this.tail = null) : (this.head = P, P.data = C.slice(D));
            break;
          }
          ++M;
        }
        return this.length -= M, w;
      }
      // Make sure the linked list only shows the minimal necessary information.
    }, {
      key: A,
      value: function(U, w) {
        return S(this, t(t({}, w), {}, {
          // Only inspect one level.
          depth: 0,
          // It should not recurse.
          customInspect: !1
        }));
      }
    }]), _;
  }(), yn;
}
function Ku(e, t) {
  var r = this, i = this._readableState && this._readableState.destroyed, u = this._writableState && this._writableState.destroyed;
  return i || u ? (t ? t(e) : e && (this._writableState ? this._writableState.errorEmitted || (this._writableState.errorEmitted = !0, process.nextTick(Fn, this, e)) : process.nextTick(Fn, this, e)), this) : (this._readableState && (this._readableState.destroyed = !0), this._writableState && (this._writableState.destroyed = !0), this._destroy(e || null, function(a) {
    !t && a ? r._writableState ? r._writableState.errorEmitted ? process.nextTick(_r, r) : (r._writableState.errorEmitted = !0, process.nextTick(Mo, r, a)) : process.nextTick(Mo, r, a) : t ? (process.nextTick(_r, r), t(a)) : process.nextTick(_r, r);
  }), this);
}
function Mo(e, t) {
  Fn(e, t), _r(e);
}
function _r(e) {
  e._writableState && !e._writableState.emitClose || e._readableState && !e._readableState.emitClose || e.emit("close");
}
function Yu() {
  this._readableState && (this._readableState.destroyed = !1, this._readableState.reading = !1, this._readableState.ended = !1, this._readableState.endEmitted = !1), this._writableState && (this._writableState.destroyed = !1, this._writableState.ended = !1, this._writableState.ending = !1, this._writableState.finalCalled = !1, this._writableState.prefinished = !1, this._writableState.finished = !1, this._writableState.errorEmitted = !1);
}
function Fn(e, t) {
  e.emit("error", t);
}
function Xu(e, t) {
  var r = e._readableState, i = e._writableState;
  r && r.autoDestroy || i && i.autoDestroy ? e.destroy(t) : e.emit("error", t);
}
var ya = {
  destroy: Ku,
  undestroy: Yu,
  errorOrDestroy: Xu
}, at = {};
function Ju(e, t) {
  e.prototype = Object.create(t.prototype), e.prototype.constructor = e, e.__proto__ = t;
}
var ba = {};
function Le(e, t, r) {
  r || (r = Error);
  function i(a, f, c) {
    return typeof t == "string" ? t : t(a, f, c);
  }
  var u = /* @__PURE__ */ function(a) {
    Ju(f, a);
    function f(c, p, d) {
      return a.call(this, i(c, p, d)) || this;
    }
    return f;
  }(r);
  u.prototype.name = r.name, u.prototype.code = e, ba[e] = u;
}
function Co(e, t) {
  if (Array.isArray(e)) {
    var r = e.length;
    return e = e.map(function(i) {
      return String(i);
    }), r > 2 ? "one of ".concat(t, " ").concat(e.slice(0, r - 1).join(", "), ", or ") + e[r - 1] : r === 2 ? "one of ".concat(t, " ").concat(e[0], " or ").concat(e[1]) : "of ".concat(t, " ").concat(e[0]);
  } else
    return "of ".concat(t, " ").concat(String(e));
}
function Zu(e, t, r) {
  return e.substr(!r || r < 0 ? 0 : +r, t.length) === t;
}
function ec(e, t, r) {
  return (r === void 0 || r > e.length) && (r = e.length), e.substring(r - t.length, r) === t;
}
function tc(e, t, r) {
  return typeof r != "number" && (r = 0), r + t.length > e.length ? !1 : e.indexOf(t, r) !== -1;
}
Le("ERR_INVALID_OPT_VALUE", function(e, t) {
  return 'The value "' + t + '" is invalid for option "' + e + '"';
}, TypeError);
Le("ERR_INVALID_ARG_TYPE", function(e, t, r) {
  var i;
  typeof t == "string" && Zu(t, "not ") ? (i = "must not be", t = t.replace(/^not /, "")) : i = "must be";
  var u;
  if (ec(e, " argument"))
    u = "The ".concat(e, " ").concat(i, " ").concat(Co(t, "type"));
  else {
    var a = tc(e, ".") ? "property" : "argument";
    u = 'The "'.concat(e, '" ').concat(a, " ").concat(i, " ").concat(Co(t, "type"));
  }
  return u += ". Received type ".concat(typeof r), u;
}, TypeError);
Le("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF");
Le("ERR_METHOD_NOT_IMPLEMENTED", function(e) {
  return "The " + e + " method is not implemented";
});
Le("ERR_STREAM_PREMATURE_CLOSE", "Premature close");
Le("ERR_STREAM_DESTROYED", function(e) {
  return "Cannot call " + e + " after a stream was destroyed";
});
Le("ERR_MULTIPLE_CALLBACK", "Callback called multiple times");
Le("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable");
Le("ERR_STREAM_WRITE_AFTER_END", "write after end");
Le("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError);
Le("ERR_UNKNOWN_ENCODING", function(e) {
  return "Unknown encoding: " + e;
}, TypeError);
Le("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event");
at.codes = ba;
var rc = at.codes.ERR_INVALID_OPT_VALUE;
function nc(e, t, r) {
  return e.highWaterMark != null ? e.highWaterMark : t ? e[r] : null;
}
function ic(e, t, r, i) {
  var u = nc(t, i, r);
  if (u != null) {
    if (!(isFinite(u) && Math.floor(u) === u) || u < 0) {
      var a = i ? r : "highWaterMark";
      throw new rc(a, u);
    }
    return Math.floor(u);
  }
  return e.objectMode ? 16 : 16 * 1024;
}
var ma = {
  getHighWaterMark: ic
}, oc = ac;
function ac(e, t) {
  if (bn("noDeprecation"))
    return e;
  var r = !1;
  function i() {
    if (!r) {
      if (bn("throwDeprecation"))
        throw new Error(t);
      bn("traceDeprecation") ? console.trace(t) : console.warn(t), r = !0;
    }
    return e.apply(this, arguments);
  }
  return i;
}
function bn(e) {
  try {
    if (!pe.localStorage)
      return !1;
  } catch {
    return !1;
  }
  var t = pe.localStorage[e];
  return t == null ? !1 : String(t).toLowerCase() === "true";
}
var mn, Do;
function wa() {
  if (Do)
    return mn;
  Do = 1, mn = k;
  function e(N) {
    var O = this;
    this.next = null, this.entry = null, this.finish = function() {
      Oe(O, N);
    };
  }
  var t;
  k.WritableState = F;
  var r = {
    deprecate: oc
  }, i = ga, u = ir.Buffer, a = (typeof pe < "u" ? pe : typeof window < "u" ? window : typeof self < "u" ? self : {}).Uint8Array || function() {
  };
  function f(N) {
    return u.from(N);
  }
  function c(N) {
    return u.isBuffer(N) || N instanceof a;
  }
  var p = ya, d = ma, g = d.getHighWaterMark, S = at.codes, A = S.ERR_INVALID_ARG_TYPE, I = S.ERR_METHOD_NOT_IMPLEMENTED, _ = S.ERR_MULTIPLE_CALLBACK, B = S.ERR_STREAM_CANNOT_PIPE, U = S.ERR_STREAM_DESTROYED, w = S.ERR_STREAM_NULL_VALUES, P = S.ERR_STREAM_WRITE_AFTER_END, M = S.ERR_UNKNOWN_ENCODING, C = p.errorOrDestroy;
  Ie(k, i);
  function D() {
  }
  function F(N, O, x) {
    t = t || lt(), N = N || {}, typeof x != "boolean" && (x = O instanceof t), this.objectMode = !!N.objectMode, x && (this.objectMode = this.objectMode || !!N.writableObjectMode), this.highWaterMark = g(this, N, "writableHighWaterMark", x), this.finalCalled = !1, this.needDrain = !1, this.ending = !1, this.ended = !1, this.finished = !1, this.destroyed = !1;
    var z = N.decodeStrings === !1;
    this.decodeStrings = !z, this.defaultEncoding = N.defaultEncoding || "utf8", this.length = 0, this.writing = !1, this.corked = 0, this.sync = !0, this.bufferProcessing = !1, this.onwrite = function(X) {
      Ue(O, X);
    }, this.writecb = null, this.writelen = 0, this.bufferedRequest = null, this.lastBufferedRequest = null, this.pendingcb = 0, this.prefinished = !1, this.errorEmitted = !1, this.emitClose = N.emitClose !== !1, this.autoDestroy = !!N.autoDestroy, this.bufferedRequestCount = 0, this.corkedRequestsFree = new e(this);
  }
  F.prototype.getBuffer = function() {
    for (var O = this.bufferedRequest, x = []; O; )
      x.push(O), O = O.next;
    return x;
  }, function() {
    try {
      Object.defineProperty(F.prototype, "buffer", {
        get: r.deprecate(function() {
          return this.getBuffer();
        }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003")
      });
    } catch {
    }
  }();
  var W;
  typeof Symbol == "function" && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] == "function" ? (W = Function.prototype[Symbol.hasInstance], Object.defineProperty(k, Symbol.hasInstance, {
    value: function(O) {
      return W.call(this, O) ? !0 : this !== k ? !1 : O && O._writableState instanceof F;
    }
  })) : W = function(O) {
    return O instanceof this;
  };
  function k(N) {
    t = t || lt();
    var O = this instanceof t;
    if (!O && !W.call(k, this))
      return new k(N);
    this._writableState = new F(N, this, O), this.writable = !0, N && (typeof N.write == "function" && (this._write = N.write), typeof N.writev == "function" && (this._writev = N.writev), typeof N.destroy == "function" && (this._destroy = N.destroy), typeof N.final == "function" && (this._final = N.final)), i.call(this);
  }
  k.prototype.pipe = function() {
    C(this, new B());
  };
  function j(N, O) {
    var x = new P();
    C(N, x), process.nextTick(O, x);
  }
  function le(N, O, x, z) {
    var X;
    return x === null ? X = new w() : typeof x != "string" && !O.objectMode && (X = new A("chunk", ["string", "Buffer"], x)), X ? (C(N, X), process.nextTick(z, X), !1) : !0;
  }
  k.prototype.write = function(N, O, x) {
    var z = this._writableState, X = !1, y = !z.objectMode && c(N);
    return y && !u.isBuffer(N) && (N = f(N)), typeof O == "function" && (x = O, O = null), y ? O = "buffer" : O || (O = z.defaultEncoding), typeof x != "function" && (x = D), z.ending ? j(this, x) : (y || le(this, z, N, x)) && (z.pendingcb++, X = ee(this, z, y, N, O, x)), X;
  }, k.prototype.cork = function() {
    this._writableState.corked++;
  }, k.prototype.uncork = function() {
    var N = this._writableState;
    N.corked && (N.corked--, !N.writing && !N.corked && !N.bufferProcessing && N.bufferedRequest && Ne(this, N));
  }, k.prototype.setDefaultEncoding = function(O) {
    if (typeof O == "string" && (O = O.toLowerCase()), !(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((O + "").toLowerCase()) > -1))
      throw new M(O);
    return this._writableState.defaultEncoding = O, this;
  }, Object.defineProperty(k.prototype, "writableBuffer", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._writableState && this._writableState.getBuffer();
    }
  });
  function Ae(N, O, x) {
    return !N.objectMode && N.decodeStrings !== !1 && typeof O == "string" && (O = u.from(O, x)), O;
  }
  Object.defineProperty(k.prototype, "writableHighWaterMark", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._writableState.highWaterMark;
    }
  });
  function ee(N, O, x, z, X, y) {
    if (!x) {
      var b = Ae(O, z, X);
      z !== b && (x = !0, X = "buffer", z = b);
    }
    var L = O.objectMode ? 1 : z.length;
    O.length += L;
    var G = O.length < O.highWaterMark;
    if (G || (O.needDrain = !0), O.writing || O.corked) {
      var fe = O.lastBufferedRequest;
      O.lastBufferedRequest = {
        chunk: z,
        encoding: X,
        isBuf: x,
        callback: y,
        next: null
      }, fe ? fe.next = O.lastBufferedRequest : O.bufferedRequest = O.lastBufferedRequest, O.bufferedRequestCount += 1;
    } else
      q(N, O, !1, L, z, X, y);
    return G;
  }
  function q(N, O, x, z, X, y, b) {
    O.writelen = z, O.writecb = b, O.writing = !0, O.sync = !0, O.destroyed ? O.onwrite(new U("write")) : x ? N._writev(X, O.onwrite) : N._write(X, y, O.onwrite), O.sync = !1;
  }
  function ue(N, O, x, z, X) {
    --O.pendingcb, x ? (process.nextTick(X, z), process.nextTick(Ee, N, O), N._writableState.errorEmitted = !0, C(N, z)) : (X(z), N._writableState.errorEmitted = !0, C(N, z), Ee(N, O));
  }
  function ye(N) {
    N.writing = !1, N.writecb = null, N.length -= N.writelen, N.writelen = 0;
  }
  function Ue(N, O) {
    var x = N._writableState, z = x.sync, X = x.writecb;
    if (typeof X != "function")
      throw new _();
    if (ye(x), O)
      ue(N, x, z, O, X);
    else {
      var y = Me(x) || N.destroyed;
      !y && !x.corked && !x.bufferProcessing && x.bufferedRequest && Ne(N, x), z ? process.nextTick(de, N, x, y, X) : de(N, x, y, X);
    }
  }
  function de(N, O, x, z) {
    x || ge(N, O), O.pendingcb--, z(), Ee(N, O);
  }
  function ge(N, O) {
    O.length === 0 && O.needDrain && (O.needDrain = !1, N.emit("drain"));
  }
  function Ne(N, O) {
    O.bufferProcessing = !0;
    var x = O.bufferedRequest;
    if (N._writev && x && x.next) {
      var z = O.bufferedRequestCount, X = new Array(z), y = O.corkedRequestsFree;
      y.entry = x;
      for (var b = 0, L = !0; x; )
        X[b] = x, x.isBuf || (L = !1), x = x.next, b += 1;
      X.allBuffers = L, q(N, O, !0, O.length, X, "", y.finish), O.pendingcb++, O.lastBufferedRequest = null, y.next ? (O.corkedRequestsFree = y.next, y.next = null) : O.corkedRequestsFree = new e(O), O.bufferedRequestCount = 0;
    } else {
      for (; x; ) {
        var G = x.chunk, fe = x.encoding, J = x.callback, ne = O.objectMode ? 1 : G.length;
        if (q(N, O, !1, ne, G, fe, J), x = x.next, O.bufferedRequestCount--, O.writing)
          break;
      }
      x === null && (O.lastBufferedRequest = null);
    }
    O.bufferedRequest = x, O.bufferProcessing = !1;
  }
  k.prototype._write = function(N, O, x) {
    x(new I("_write()"));
  }, k.prototype._writev = null, k.prototype.end = function(N, O, x) {
    var z = this._writableState;
    return typeof N == "function" ? (x = N, N = null, O = null) : typeof O == "function" && (x = O, O = null), N != null && this.write(N, O), z.corked && (z.corked = 1, this.uncork()), z.ending || xe(this, z, x), this;
  }, Object.defineProperty(k.prototype, "writableLength", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._writableState.length;
    }
  });
  function Me(N) {
    return N.ending && N.length === 0 && N.bufferedRequest === null && !N.finished && !N.writing;
  }
  function re(N, O) {
    N._final(function(x) {
      O.pendingcb--, x && C(N, x), O.prefinished = !0, N.emit("prefinish"), Ee(N, O);
    });
  }
  function ce(N, O) {
    !O.prefinished && !O.finalCalled && (typeof N._final == "function" && !O.destroyed ? (O.pendingcb++, O.finalCalled = !0, process.nextTick(re, N, O)) : (O.prefinished = !0, N.emit("prefinish")));
  }
  function Ee(N, O) {
    var x = Me(O);
    if (x && (ce(N, O), O.pendingcb === 0 && (O.finished = !0, N.emit("finish"), O.autoDestroy))) {
      var z = N._readableState;
      (!z || z.autoDestroy && z.endEmitted) && N.destroy();
    }
    return x;
  }
  function xe(N, O, x) {
    O.ending = !0, Ee(N, O), x && (O.finished ? process.nextTick(x) : N.once("finish", x)), O.ended = !0, N.writable = !1;
  }
  function Oe(N, O, x) {
    var z = N.entry;
    for (N.entry = null; z; ) {
      var X = z.callback;
      O.pendingcb--, X(x), z = z.next;
    }
    O.corkedRequestsFree.next = N;
  }
  return Object.defineProperty(k.prototype, "destroyed", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._writableState === void 0 ? !1 : this._writableState.destroyed;
    },
    set: function(O) {
      this._writableState && (this._writableState.destroyed = O);
    }
  }), k.prototype.destroy = p.destroy, k.prototype._undestroy = p.undestroy, k.prototype._destroy = function(N, O) {
    O(N);
  }, mn;
}
var wn, Lo;
function lt() {
  if (Lo)
    return wn;
  Lo = 1;
  var e = Object.keys || function(d) {
    var g = [];
    for (var S in d)
      g.push(S);
    return g;
  };
  wn = f;
  var t = Ra(), r = wa();
  Ie(f, t);
  for (var i = e(r.prototype), u = 0; u < i.length; u++) {
    var a = i[u];
    f.prototype[a] || (f.prototype[a] = r.prototype[a]);
  }
  function f(d) {
    if (!(this instanceof f))
      return new f(d);
    t.call(this, d), r.call(this, d), this.allowHalfOpen = !0, d && (d.readable === !1 && (this.readable = !1), d.writable === !1 && (this.writable = !1), d.allowHalfOpen === !1 && (this.allowHalfOpen = !1, this.once("end", c)));
  }
  Object.defineProperty(f.prototype, "writableHighWaterMark", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._writableState.highWaterMark;
    }
  }), Object.defineProperty(f.prototype, "writableBuffer", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._writableState && this._writableState.getBuffer();
    }
  }), Object.defineProperty(f.prototype, "writableLength", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._writableState.length;
    }
  });
  function c() {
    this._writableState.ended || process.nextTick(p, this);
  }
  function p(d) {
    d.end();
  }
  return Object.defineProperty(f.prototype, "destroyed", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._readableState === void 0 || this._writableState === void 0 ? !1 : this._readableState.destroyed && this._writableState.destroyed;
    },
    set: function(g) {
      this._readableState === void 0 || this._writableState === void 0 || (this._readableState.destroyed = g, this._writableState.destroyed = g);
    }
  }), wn;
}
var Sn = {}, xo;
function Fo() {
  if (xo)
    return Sn;
  xo = 1;
  var e = Be.Buffer, t = e.isEncoding || function(w) {
    switch (w = "" + w, w && w.toLowerCase()) {
      case "hex":
      case "utf8":
      case "utf-8":
      case "ascii":
      case "binary":
      case "base64":
      case "ucs2":
      case "ucs-2":
      case "utf16le":
      case "utf-16le":
      case "raw":
        return !0;
      default:
        return !1;
    }
  };
  function r(w) {
    if (!w)
      return "utf8";
    for (var P; ; )
      switch (w) {
        case "utf8":
        case "utf-8":
          return "utf8";
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return "utf16le";
        case "latin1":
        case "binary":
          return "latin1";
        case "base64":
        case "ascii":
        case "hex":
          return w;
        default:
          if (P)
            return;
          w = ("" + w).toLowerCase(), P = !0;
      }
  }
  function i(w) {
    var P = r(w);
    if (typeof P != "string" && (e.isEncoding === t || !t(w)))
      throw new Error("Unknown encoding: " + w);
    return P || w;
  }
  Sn.StringDecoder = u;
  function u(w) {
    this.encoding = i(w);
    var P;
    switch (this.encoding) {
      case "utf16le":
        this.text = S, this.end = A, P = 4;
        break;
      case "utf8":
        this.fillLast = p, P = 4;
        break;
      case "base64":
        this.text = I, this.end = _, P = 3;
        break;
      default:
        this.write = B, this.end = U;
        return;
    }
    this.lastNeed = 0, this.lastTotal = 0, this.lastChar = e.allocUnsafe(P);
  }
  u.prototype.write = function(w) {
    if (w.length === 0)
      return "";
    var P, M;
    if (this.lastNeed) {
      if (P = this.fillLast(w), P === void 0)
        return "";
      M = this.lastNeed, this.lastNeed = 0;
    } else
      M = 0;
    return M < w.length ? P ? P + this.text(w, M) : this.text(w, M) : P || "";
  }, u.prototype.end = g, u.prototype.text = d, u.prototype.fillLast = function(w) {
    if (this.lastNeed <= w.length)
      return w.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal);
    w.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, w.length), this.lastNeed -= w.length;
  };
  function a(w) {
    return w <= 127 ? 0 : w >> 5 === 6 ? 2 : w >> 4 === 14 ? 3 : w >> 3 === 30 ? 4 : w >> 6 === 2 ? -1 : -2;
  }
  function f(w, P, M) {
    var C = P.length - 1;
    if (C < M)
      return 0;
    var D = a(P[C]);
    return D >= 0 ? (D > 0 && (w.lastNeed = D - 1), D) : --C < M || D === -2 ? 0 : (D = a(P[C]), D >= 0 ? (D > 0 && (w.lastNeed = D - 2), D) : --C < M || D === -2 ? 0 : (D = a(P[C]), D >= 0 ? (D > 0 && (D === 2 ? D = 0 : w.lastNeed = D - 3), D) : 0));
  }
  function c(w, P, M) {
    if ((P[0] & 192) !== 128)
      return w.lastNeed = 0, "�";
    if (w.lastNeed > 1 && P.length > 1) {
      if ((P[1] & 192) !== 128)
        return w.lastNeed = 1, "�";
      if (w.lastNeed > 2 && P.length > 2 && (P[2] & 192) !== 128)
        return w.lastNeed = 2, "�";
    }
  }
  function p(w) {
    var P = this.lastTotal - this.lastNeed, M = c(this, w);
    if (M !== void 0)
      return M;
    if (this.lastNeed <= w.length)
      return w.copy(this.lastChar, P, 0, this.lastNeed), this.lastChar.toString(this.encoding, 0, this.lastTotal);
    w.copy(this.lastChar, P, 0, w.length), this.lastNeed -= w.length;
  }
  function d(w, P) {
    var M = f(this, w, P);
    if (!this.lastNeed)
      return w.toString("utf8", P);
    this.lastTotal = M;
    var C = w.length - (M - this.lastNeed);
    return w.copy(this.lastChar, 0, C), w.toString("utf8", P, C);
  }
  function g(w) {
    var P = w && w.length ? this.write(w) : "";
    return this.lastNeed ? P + "�" : P;
  }
  function S(w, P) {
    if ((w.length - P) % 2 === 0) {
      var M = w.toString("utf16le", P);
      if (M) {
        var C = M.charCodeAt(M.length - 1);
        if (C >= 55296 && C <= 56319)
          return this.lastNeed = 2, this.lastTotal = 4, this.lastChar[0] = w[w.length - 2], this.lastChar[1] = w[w.length - 1], M.slice(0, -1);
      }
      return M;
    }
    return this.lastNeed = 1, this.lastTotal = 2, this.lastChar[0] = w[w.length - 1], w.toString("utf16le", P, w.length - 1);
  }
  function A(w) {
    var P = w && w.length ? this.write(w) : "";
    if (this.lastNeed) {
      var M = this.lastTotal - this.lastNeed;
      return P + this.lastChar.toString("utf16le", 0, M);
    }
    return P;
  }
  function I(w, P) {
    var M = (w.length - P) % 3;
    return M === 0 ? w.toString("base64", P) : (this.lastNeed = 3 - M, this.lastTotal = 3, M === 1 ? this.lastChar[0] = w[w.length - 1] : (this.lastChar[0] = w[w.length - 2], this.lastChar[1] = w[w.length - 1]), w.toString("base64", P, w.length - M));
  }
  function _(w) {
    var P = w && w.length ? this.write(w) : "";
    return this.lastNeed ? P + this.lastChar.toString("base64", 0, 3 - this.lastNeed) : P;
  }
  function B(w) {
    return w.toString(this.encoding);
  }
  function U(w) {
    return w && w.length ? this.write(w) : "";
  }
  return Sn;
}
var ko = at.codes.ERR_STREAM_PREMATURE_CLOSE;
function sc(e) {
  var t = !1;
  return function() {
    if (!t) {
      t = !0;
      for (var r = arguments.length, i = new Array(r), u = 0; u < r; u++)
        i[u] = arguments[u];
      e.apply(this, i);
    }
  };
}
function uc() {
}
function cc(e) {
  return e.setHeader && typeof e.abort == "function";
}
function Sa(e, t, r) {
  if (typeof t == "function")
    return Sa(e, null, t);
  t || (t = {}), r = sc(r || uc);
  var i = t.readable || t.readable !== !1 && e.readable, u = t.writable || t.writable !== !1 && e.writable, a = function() {
    e.writable || c();
  }, f = e._writableState && e._writableState.finished, c = function() {
    u = !1, f = !0, i || r.call(e);
  }, p = e._readableState && e._readableState.endEmitted, d = function() {
    i = !1, p = !0, u || r.call(e);
  }, g = function(_) {
    r.call(e, _);
  }, S = function() {
    var _;
    if (i && !p)
      return (!e._readableState || !e._readableState.ended) && (_ = new ko()), r.call(e, _);
    if (u && !f)
      return (!e._writableState || !e._writableState.ended) && (_ = new ko()), r.call(e, _);
  }, A = function() {
    e.req.on("finish", c);
  };
  return cc(e) ? (e.on("complete", c), e.on("abort", S), e.req ? A() : e.on("request", A)) : u && !e._writableState && (e.on("end", a), e.on("close", a)), e.on("end", d), e.on("finish", c), t.error !== !1 && e.on("error", g), e.on("close", S), function() {
    e.removeListener("complete", c), e.removeListener("abort", S), e.removeListener("request", A), e.req && e.req.removeListener("finish", c), e.removeListener("end", a), e.removeListener("close", a), e.removeListener("finish", c), e.removeListener("end", d), e.removeListener("error", g), e.removeListener("close", S);
  };
}
var Hn = Sa, Rn, qo;
function fc() {
  if (qo)
    return Rn;
  qo = 1;
  var e;
  function t(M, C, D) {
    return C = r(C), C in M ? Object.defineProperty(M, C, { value: D, enumerable: !0, configurable: !0, writable: !0 }) : M[C] = D, M;
  }
  function r(M) {
    var C = i(M, "string");
    return typeof C == "symbol" ? C : String(C);
  }
  function i(M, C) {
    if (typeof M != "object" || M === null)
      return M;
    var D = M[Symbol.toPrimitive];
    if (D !== void 0) {
      var F = D.call(M, C || "default");
      if (typeof F != "object")
        return F;
      throw new TypeError("@@toPrimitive must return a primitive value.");
    }
    return (C === "string" ? String : Number)(M);
  }
  var u = Hn, a = Symbol("lastResolve"), f = Symbol("lastReject"), c = Symbol("error"), p = Symbol("ended"), d = Symbol("lastPromise"), g = Symbol("handlePromise"), S = Symbol("stream");
  function A(M, C) {
    return {
      value: M,
      done: C
    };
  }
  function I(M) {
    var C = M[a];
    if (C !== null) {
      var D = M[S].read();
      D !== null && (M[d] = null, M[a] = null, M[f] = null, C(A(D, !1)));
    }
  }
  function _(M) {
    process.nextTick(I, M);
  }
  function B(M, C) {
    return function(D, F) {
      M.then(function() {
        if (C[p]) {
          D(A(void 0, !0));
          return;
        }
        C[g](D, F);
      }, F);
    };
  }
  var U = Object.getPrototypeOf(function() {
  }), w = Object.setPrototypeOf((e = {
    get stream() {
      return this[S];
    },
    next: function() {
      var C = this, D = this[c];
      if (D !== null)
        return Promise.reject(D);
      if (this[p])
        return Promise.resolve(A(void 0, !0));
      if (this[S].destroyed)
        return new Promise(function(j, le) {
          process.nextTick(function() {
            C[c] ? le(C[c]) : j(A(void 0, !0));
          });
        });
      var F = this[d], W;
      if (F)
        W = new Promise(B(F, this));
      else {
        var k = this[S].read();
        if (k !== null)
          return Promise.resolve(A(k, !1));
        W = new Promise(this[g]);
      }
      return this[d] = W, W;
    }
  }, t(e, Symbol.asyncIterator, function() {
    return this;
  }), t(e, "return", function() {
    var C = this;
    return new Promise(function(D, F) {
      C[S].destroy(null, function(W) {
        if (W) {
          F(W);
          return;
        }
        D(A(void 0, !0));
      });
    });
  }), e), U), P = function(C) {
    var D, F = Object.create(w, (D = {}, t(D, S, {
      value: C,
      writable: !0
    }), t(D, a, {
      value: null,
      writable: !0
    }), t(D, f, {
      value: null,
      writable: !0
    }), t(D, c, {
      value: null,
      writable: !0
    }), t(D, p, {
      value: C._readableState.endEmitted,
      writable: !0
    }), t(D, g, {
      value: function(k, j) {
        var le = F[S].read();
        le ? (F[d] = null, F[a] = null, F[f] = null, k(A(le, !1))) : (F[a] = k, F[f] = j);
      },
      writable: !0
    }), D));
    return F[d] = null, u(C, function(W) {
      if (W && W.code !== "ERR_STREAM_PREMATURE_CLOSE") {
        var k = F[f];
        k !== null && (F[d] = null, F[a] = null, F[f] = null, k(W)), F[c] = W;
        return;
      }
      var j = F[a];
      j !== null && (F[d] = null, F[a] = null, F[f] = null, j(A(void 0, !0))), F[p] = !0;
    }), C.on("readable", _.bind(null, F)), F;
  };
  return Rn = P, Rn;
}
var In, Go;
function lc() {
  return Go || (Go = 1, In = function() {
    throw new Error("Readable.from is not available in the browser");
  }), In;
}
var An, Ho;
function Ra() {
  if (Ho)
    return An;
  Ho = 1, An = j;
  var e;
  j.ReadableState = k, gr.EventEmitter;
  var t = function(b, L) {
    return b.listeners(L).length;
  }, r = ga, i = ir.Buffer, u = (typeof pe < "u" ? pe : typeof window < "u" ? window : typeof self < "u" ? self : {}).Uint8Array || function() {
  };
  function a(y) {
    return i.from(y);
  }
  function f(y) {
    return i.isBuffer(y) || y instanceof u;
  }
  var c = sa, p;
  c && c.debuglog ? p = c.debuglog("stream") : p = function() {
  };
  var d = Qu(), g = ya, S = ma, A = S.getHighWaterMark, I = at.codes, _ = I.ERR_INVALID_ARG_TYPE, B = I.ERR_STREAM_PUSH_AFTER_EOF, U = I.ERR_METHOD_NOT_IMPLEMENTED, w = I.ERR_STREAM_UNSHIFT_AFTER_END_EVENT, P, M, C;
  Ie(j, r);
  var D = g.errorOrDestroy, F = ["error", "close", "destroy", "pause", "resume"];
  function W(y, b, L) {
    if (typeof y.prependListener == "function")
      return y.prependListener(b, L);
    !y._events || !y._events[b] ? y.on(b, L) : Array.isArray(y._events[b]) ? y._events[b].unshift(L) : y._events[b] = [L, y._events[b]];
  }
  function k(y, b, L) {
    e = e || lt(), y = y || {}, typeof L != "boolean" && (L = b instanceof e), this.objectMode = !!y.objectMode, L && (this.objectMode = this.objectMode || !!y.readableObjectMode), this.highWaterMark = A(this, y, "readableHighWaterMark", L), this.buffer = new d(), this.length = 0, this.pipes = null, this.pipesCount = 0, this.flowing = null, this.ended = !1, this.endEmitted = !1, this.reading = !1, this.sync = !0, this.needReadable = !1, this.emittedReadable = !1, this.readableListening = !1, this.resumeScheduled = !1, this.paused = !0, this.emitClose = y.emitClose !== !1, this.autoDestroy = !!y.autoDestroy, this.destroyed = !1, this.defaultEncoding = y.defaultEncoding || "utf8", this.awaitDrain = 0, this.readingMore = !1, this.decoder = null, this.encoding = null, y.encoding && (P || (P = Fo().StringDecoder), this.decoder = new P(y.encoding), this.encoding = y.encoding);
  }
  function j(y) {
    if (e = e || lt(), !(this instanceof j))
      return new j(y);
    var b = this instanceof e;
    this._readableState = new k(y, this, b), this.readable = !0, y && (typeof y.read == "function" && (this._read = y.read), typeof y.destroy == "function" && (this._destroy = y.destroy)), r.call(this);
  }
  Object.defineProperty(j.prototype, "destroyed", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._readableState === void 0 ? !1 : this._readableState.destroyed;
    },
    set: function(b) {
      this._readableState && (this._readableState.destroyed = b);
    }
  }), j.prototype.destroy = g.destroy, j.prototype._undestroy = g.undestroy, j.prototype._destroy = function(y, b) {
    b(y);
  }, j.prototype.push = function(y, b) {
    var L = this._readableState, G;
    return L.objectMode ? G = !0 : typeof y == "string" && (b = b || L.defaultEncoding, b !== L.encoding && (y = i.from(y, b), b = ""), G = !0), le(this, y, b, !1, G);
  }, j.prototype.unshift = function(y) {
    return le(this, y, null, !0, !1);
  };
  function le(y, b, L, G, fe) {
    p("readableAddChunk", b);
    var J = y._readableState;
    if (b === null)
      J.reading = !1, Ue(y, J);
    else {
      var ne;
      if (fe || (ne = ee(J, b)), ne)
        D(y, ne);
      else if (J.objectMode || b && b.length > 0)
        if (typeof b != "string" && !J.objectMode && Object.getPrototypeOf(b) !== i.prototype && (b = a(b)), G)
          J.endEmitted ? D(y, new w()) : Ae(y, J, b, !0);
        else if (J.ended)
          D(y, new B());
        else {
          if (J.destroyed)
            return !1;
          J.reading = !1, J.decoder && !L ? (b = J.decoder.write(b), J.objectMode || b.length !== 0 ? Ae(y, J, b, !1) : Ne(y, J)) : Ae(y, J, b, !1);
        }
      else
        G || (J.reading = !1, Ne(y, J));
    }
    return !J.ended && (J.length < J.highWaterMark || J.length === 0);
  }
  function Ae(y, b, L, G) {
    b.flowing && b.length === 0 && !b.sync ? (b.awaitDrain = 0, y.emit("data", L)) : (b.length += b.objectMode ? 1 : L.length, G ? b.buffer.unshift(L) : b.buffer.push(L), b.needReadable && de(y)), Ne(y, b);
  }
  function ee(y, b) {
    var L;
    return !f(b) && typeof b != "string" && b !== void 0 && !y.objectMode && (L = new _("chunk", ["string", "Buffer", "Uint8Array"], b)), L;
  }
  j.prototype.isPaused = function() {
    return this._readableState.flowing === !1;
  }, j.prototype.setEncoding = function(y) {
    P || (P = Fo().StringDecoder);
    var b = new P(y);
    this._readableState.decoder = b, this._readableState.encoding = this._readableState.decoder.encoding;
    for (var L = this._readableState.buffer.head, G = ""; L !== null; )
      G += b.write(L.data), L = L.next;
    return this._readableState.buffer.clear(), G !== "" && this._readableState.buffer.push(G), this._readableState.length = G.length, this;
  };
  var q = 1073741824;
  function ue(y) {
    return y >= q ? y = q : (y--, y |= y >>> 1, y |= y >>> 2, y |= y >>> 4, y |= y >>> 8, y |= y >>> 16, y++), y;
  }
  function ye(y, b) {
    return y <= 0 || b.length === 0 && b.ended ? 0 : b.objectMode ? 1 : y !== y ? b.flowing && b.length ? b.buffer.head.data.length : b.length : (y > b.highWaterMark && (b.highWaterMark = ue(y)), y <= b.length ? y : b.ended ? b.length : (b.needReadable = !0, 0));
  }
  j.prototype.read = function(y) {
    p("read", y), y = parseInt(y, 10);
    var b = this._readableState, L = y;
    if (y !== 0 && (b.emittedReadable = !1), y === 0 && b.needReadable && ((b.highWaterMark !== 0 ? b.length >= b.highWaterMark : b.length > 0) || b.ended))
      return p("read: emitReadable", b.length, b.ended), b.length === 0 && b.ended ? x(this) : de(this), null;
    if (y = ye(y, b), y === 0 && b.ended)
      return b.length === 0 && x(this), null;
    var G = b.needReadable;
    p("need readable", G), (b.length === 0 || b.length - y < b.highWaterMark) && (G = !0, p("length less than watermark", G)), b.ended || b.reading ? (G = !1, p("reading or ended", G)) : G && (p("do read"), b.reading = !0, b.sync = !0, b.length === 0 && (b.needReadable = !0), this._read(b.highWaterMark), b.sync = !1, b.reading || (y = ye(L, b)));
    var fe;
    return y > 0 ? fe = O(y, b) : fe = null, fe === null ? (b.needReadable = b.length <= b.highWaterMark, y = 0) : (b.length -= y, b.awaitDrain = 0), b.length === 0 && (b.ended || (b.needReadable = !0), L !== y && b.ended && x(this)), fe !== null && this.emit("data", fe), fe;
  };
  function Ue(y, b) {
    if (p("onEofChunk"), !b.ended) {
      if (b.decoder) {
        var L = b.decoder.end();
        L && L.length && (b.buffer.push(L), b.length += b.objectMode ? 1 : L.length);
      }
      b.ended = !0, b.sync ? de(y) : (b.needReadable = !1, b.emittedReadable || (b.emittedReadable = !0, ge(y)));
    }
  }
  function de(y) {
    var b = y._readableState;
    p("emitReadable", b.needReadable, b.emittedReadable), b.needReadable = !1, b.emittedReadable || (p("emitReadable", b.flowing), b.emittedReadable = !0, process.nextTick(ge, y));
  }
  function ge(y) {
    var b = y._readableState;
    p("emitReadable_", b.destroyed, b.length, b.ended), !b.destroyed && (b.length || b.ended) && (y.emit("readable"), b.emittedReadable = !1), b.needReadable = !b.flowing && !b.ended && b.length <= b.highWaterMark, N(y);
  }
  function Ne(y, b) {
    b.readingMore || (b.readingMore = !0, process.nextTick(Me, y, b));
  }
  function Me(y, b) {
    for (; !b.reading && !b.ended && (b.length < b.highWaterMark || b.flowing && b.length === 0); ) {
      var L = b.length;
      if (p("maybeReadMore read 0"), y.read(0), L === b.length)
        break;
    }
    b.readingMore = !1;
  }
  j.prototype._read = function(y) {
    D(this, new U("_read()"));
  }, j.prototype.pipe = function(y, b) {
    var L = this, G = this._readableState;
    switch (G.pipesCount) {
      case 0:
        G.pipes = y;
        break;
      case 1:
        G.pipes = [G.pipes, y];
        break;
      default:
        G.pipes.push(y);
        break;
    }
    G.pipesCount += 1, p("pipe count=%d opts=%j", G.pipesCount, b);
    var fe = (!b || b.end !== !1) && y !== process.stdout && y !== process.stderr, J = fe ? Ce : R;
    G.endEmitted ? process.nextTick(J) : L.once("end", J), y.on("unpipe", ne);
    function ne(s, n) {
      p("onunpipe"), s === L && n && n.hasUnpiped === !1 && (n.hasUnpiped = !0, Ke());
    }
    function Ce() {
      p("onend"), y.end();
    }
    var Ve = re(L);
    y.on("drain", Ve);
    var Qe = !1;
    function Ke() {
      p("cleanup"), y.removeListener("close", l), y.removeListener("finish", E), y.removeListener("drain", Ve), y.removeListener("error", Te), y.removeListener("unpipe", ne), L.removeListener("end", Ce), L.removeListener("end", R), L.removeListener("data", Q), Qe = !0, G.awaitDrain && (!y._writableState || y._writableState.needDrain) && Ve();
    }
    L.on("data", Q);
    function Q(s) {
      p("ondata");
      var n = y.write(s);
      p("dest.write", n), n === !1 && ((G.pipesCount === 1 && G.pipes === y || G.pipesCount > 1 && X(G.pipes, y) !== -1) && !Qe && (p("false write response, pause", G.awaitDrain), G.awaitDrain++), L.pause());
    }
    function Te(s) {
      p("onerror", s), R(), y.removeListener("error", Te), t(y, "error") === 0 && D(y, s);
    }
    W(y, "error", Te);
    function l() {
      y.removeListener("finish", E), R();
    }
    y.once("close", l);
    function E() {
      p("onfinish"), y.removeListener("close", l), R();
    }
    y.once("finish", E);
    function R() {
      p("unpipe"), L.unpipe(y);
    }
    return y.emit("pipe", L), G.flowing || (p("pipe resume"), L.resume()), y;
  };
  function re(y) {
    return function() {
      var L = y._readableState;
      p("pipeOnDrain", L.awaitDrain), L.awaitDrain && L.awaitDrain--, L.awaitDrain === 0 && t(y, "data") && (L.flowing = !0, N(y));
    };
  }
  j.prototype.unpipe = function(y) {
    var b = this._readableState, L = {
      hasUnpiped: !1
    };
    if (b.pipesCount === 0)
      return this;
    if (b.pipesCount === 1)
      return y && y !== b.pipes ? this : (y || (y = b.pipes), b.pipes = null, b.pipesCount = 0, b.flowing = !1, y && y.emit("unpipe", this, L), this);
    if (!y) {
      var G = b.pipes, fe = b.pipesCount;
      b.pipes = null, b.pipesCount = 0, b.flowing = !1;
      for (var J = 0; J < fe; J++)
        G[J].emit("unpipe", this, {
          hasUnpiped: !1
        });
      return this;
    }
    var ne = X(b.pipes, y);
    return ne === -1 ? this : (b.pipes.splice(ne, 1), b.pipesCount -= 1, b.pipesCount === 1 && (b.pipes = b.pipes[0]), y.emit("unpipe", this, L), this);
  }, j.prototype.on = function(y, b) {
    var L = r.prototype.on.call(this, y, b), G = this._readableState;
    return y === "data" ? (G.readableListening = this.listenerCount("readable") > 0, G.flowing !== !1 && this.resume()) : y === "readable" && !G.endEmitted && !G.readableListening && (G.readableListening = G.needReadable = !0, G.flowing = !1, G.emittedReadable = !1, p("on readable", G.length, G.reading), G.length ? de(this) : G.reading || process.nextTick(Ee, this)), L;
  }, j.prototype.addListener = j.prototype.on, j.prototype.removeListener = function(y, b) {
    var L = r.prototype.removeListener.call(this, y, b);
    return y === "readable" && process.nextTick(ce, this), L;
  }, j.prototype.removeAllListeners = function(y) {
    var b = r.prototype.removeAllListeners.apply(this, arguments);
    return (y === "readable" || y === void 0) && process.nextTick(ce, this), b;
  };
  function ce(y) {
    var b = y._readableState;
    b.readableListening = y.listenerCount("readable") > 0, b.resumeScheduled && !b.paused ? b.flowing = !0 : y.listenerCount("data") > 0 && y.resume();
  }
  function Ee(y) {
    p("readable nexttick read 0"), y.read(0);
  }
  j.prototype.resume = function() {
    var y = this._readableState;
    return y.flowing || (p("resume"), y.flowing = !y.readableListening, xe(this, y)), y.paused = !1, this;
  };
  function xe(y, b) {
    b.resumeScheduled || (b.resumeScheduled = !0, process.nextTick(Oe, y, b));
  }
  function Oe(y, b) {
    p("resume", b.reading), b.reading || y.read(0), b.resumeScheduled = !1, y.emit("resume"), N(y), b.flowing && !b.reading && y.read(0);
  }
  j.prototype.pause = function() {
    return p("call pause flowing=%j", this._readableState.flowing), this._readableState.flowing !== !1 && (p("pause"), this._readableState.flowing = !1, this.emit("pause")), this._readableState.paused = !0, this;
  };
  function N(y) {
    var b = y._readableState;
    for (p("flow", b.flowing); b.flowing && y.read() !== null; )
      ;
  }
  j.prototype.wrap = function(y) {
    var b = this, L = this._readableState, G = !1;
    y.on("end", function() {
      if (p("wrapped end"), L.decoder && !L.ended) {
        var ne = L.decoder.end();
        ne && ne.length && b.push(ne);
      }
      b.push(null);
    }), y.on("data", function(ne) {
      if (p("wrapped data"), L.decoder && (ne = L.decoder.write(ne)), !(L.objectMode && ne == null) && !(!L.objectMode && (!ne || !ne.length))) {
        var Ce = b.push(ne);
        Ce || (G = !0, y.pause());
      }
    });
    for (var fe in y)
      this[fe] === void 0 && typeof y[fe] == "function" && (this[fe] = function(Ce) {
        return function() {
          return y[Ce].apply(y, arguments);
        };
      }(fe));
    for (var J = 0; J < F.length; J++)
      y.on(F[J], this.emit.bind(this, F[J]));
    return this._read = function(ne) {
      p("wrapped _read", ne), G && (G = !1, y.resume());
    }, this;
  }, typeof Symbol == "function" && (j.prototype[Symbol.asyncIterator] = function() {
    return M === void 0 && (M = fc()), M(this);
  }), Object.defineProperty(j.prototype, "readableHighWaterMark", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._readableState.highWaterMark;
    }
  }), Object.defineProperty(j.prototype, "readableBuffer", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._readableState && this._readableState.buffer;
    }
  }), Object.defineProperty(j.prototype, "readableFlowing", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._readableState.flowing;
    },
    set: function(b) {
      this._readableState && (this._readableState.flowing = b);
    }
  }), j._fromList = O, Object.defineProperty(j.prototype, "readableLength", {
    // making it explicit this property is not enumerable
    // because otherwise some prototype manipulation in
    // userland will fail
    enumerable: !1,
    get: function() {
      return this._readableState.length;
    }
  });
  function O(y, b) {
    if (b.length === 0)
      return null;
    var L;
    return b.objectMode ? L = b.buffer.shift() : !y || y >= b.length ? (b.decoder ? L = b.buffer.join("") : b.buffer.length === 1 ? L = b.buffer.first() : L = b.buffer.concat(b.length), b.buffer.clear()) : L = b.buffer.consume(y, b.decoder), L;
  }
  function x(y) {
    var b = y._readableState;
    p("endReadable", b.endEmitted), b.endEmitted || (b.ended = !0, process.nextTick(z, b, y));
  }
  function z(y, b) {
    if (p("endReadableNT", y.endEmitted, y.length), !y.endEmitted && y.length === 0 && (y.endEmitted = !0, b.readable = !1, b.emit("end"), y.autoDestroy)) {
      var L = b._writableState;
      (!L || L.autoDestroy && L.finished) && b.destroy();
    }
  }
  typeof Symbol == "function" && (j.from = function(y, b) {
    return C === void 0 && (C = lc()), C(j, y, b);
  });
  function X(y, b) {
    for (var L = 0, G = y.length; L < G; L++)
      if (y[L] === b)
        return L;
    return -1;
  }
  return An;
}
var Ia = $e, br = at.codes, hc = br.ERR_METHOD_NOT_IMPLEMENTED, dc = br.ERR_MULTIPLE_CALLBACK, pc = br.ERR_TRANSFORM_ALREADY_TRANSFORMING, _c = br.ERR_TRANSFORM_WITH_LENGTH_0, mr = lt();
Ie($e, mr);
function Ec(e, t) {
  var r = this._transformState;
  r.transforming = !1;
  var i = r.writecb;
  if (i === null)
    return this.emit("error", new dc());
  r.writechunk = null, r.writecb = null, t != null && this.push(t), i(e);
  var u = this._readableState;
  u.reading = !1, (u.needReadable || u.length < u.highWaterMark) && this._read(u.highWaterMark);
}
function $e(e) {
  if (!(this instanceof $e))
    return new $e(e);
  mr.call(this, e), this._transformState = {
    afterTransform: Ec.bind(this),
    needTransform: !1,
    transforming: !1,
    writecb: null,
    writechunk: null,
    writeencoding: null
  }, this._readableState.needReadable = !0, this._readableState.sync = !1, e && (typeof e.transform == "function" && (this._transform = e.transform), typeof e.flush == "function" && (this._flush = e.flush)), this.on("prefinish", vc);
}
function vc() {
  var e = this;
  typeof this._flush == "function" && !this._readableState.destroyed ? this._flush(function(t, r) {
    jo(e, t, r);
  }) : jo(this, null, null);
}
$e.prototype.push = function(e, t) {
  return this._transformState.needTransform = !1, mr.prototype.push.call(this, e, t);
};
$e.prototype._transform = function(e, t, r) {
  r(new hc("_transform()"));
};
$e.prototype._write = function(e, t, r) {
  var i = this._transformState;
  if (i.writecb = r, i.writechunk = e, i.writeencoding = t, !i.transforming) {
    var u = this._readableState;
    (i.needTransform || u.needReadable || u.length < u.highWaterMark) && this._read(u.highWaterMark);
  }
};
$e.prototype._read = function(e) {
  var t = this._transformState;
  t.writechunk !== null && !t.transforming ? (t.transforming = !0, this._transform(t.writechunk, t.writeencoding, t.afterTransform)) : t.needTransform = !0;
};
$e.prototype._destroy = function(e, t) {
  mr.prototype._destroy.call(this, e, function(r) {
    t(r);
  });
};
function jo(e, t, r) {
  if (t)
    return e.emit("error", t);
  if (r != null && e.push(r), e._writableState.length)
    throw new _c();
  if (e._transformState.transforming)
    throw new pc();
  return e.push(null);
}
var gc = nr, Aa = Ia;
Ie(nr, Aa);
function nr(e) {
  if (!(this instanceof nr))
    return new nr(e);
  Aa.call(this, e);
}
nr.prototype._transform = function(e, t, r) {
  r(null, e);
};
var Tn;
function yc(e) {
  var t = !1;
  return function() {
    t || (t = !0, e.apply(void 0, arguments));
  };
}
var Ta = at.codes, bc = Ta.ERR_MISSING_ARGS, mc = Ta.ERR_STREAM_DESTROYED;
function Vo(e) {
  if (e)
    throw e;
}
function wc(e) {
  return e.setHeader && typeof e.abort == "function";
}
function Sc(e, t, r, i) {
  i = yc(i);
  var u = !1;
  e.on("close", function() {
    u = !0;
  }), Tn === void 0 && (Tn = Hn), Tn(e, {
    readable: t,
    writable: r
  }, function(f) {
    if (f)
      return i(f);
    u = !0, i();
  });
  var a = !1;
  return function(f) {
    if (!u && !a) {
      if (a = !0, wc(e))
        return e.abort();
      if (typeof e.destroy == "function")
        return e.destroy();
      i(f || new mc("pipe"));
    }
  };
}
function zo(e) {
  e();
}
function Rc(e, t) {
  return e.pipe(t);
}
function Ic(e) {
  return !e.length || typeof e[e.length - 1] != "function" ? Vo : e.pop();
}
function Ac() {
  for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++)
    t[r] = arguments[r];
  var i = Ic(t);
  if (Array.isArray(t[0]) && (t = t[0]), t.length < 2)
    throw new bc("streams");
  var u, a = t.map(function(f, c) {
    var p = c < t.length - 1, d = c > 0;
    return Sc(f, p, d, function(g) {
      u || (u = g), g && a.forEach(zo), !p && (a.forEach(zo), i(u));
    });
  });
  return t.reduce(Rc);
}
var Tc = Ac;
(function(e, t) {
  t = e.exports = Ra(), t.Stream = t, t.Readable = t, t.Writable = wa(), t.Duplex = lt(), t.Transform = Ia, t.PassThrough = gc, t.finished = Hn, t.pipeline = Tc;
})(xn, xn.exports);
var Na = xn.exports, Er = Be.Buffer, Oa = Na.Transform, Nc = Ie;
function Oc(e, t) {
  if (!Er.isBuffer(e) && typeof e != "string")
    throw new TypeError(t + " must be a string or a buffer");
}
function Ye(e) {
  Oa.call(this), this._block = Er.allocUnsafe(e), this._blockSize = e, this._blockOffset = 0, this._length = [0, 0, 0, 0], this._finalized = !1;
}
Nc(Ye, Oa);
Ye.prototype._transform = function(e, t, r) {
  var i = null;
  try {
    this.update(e, t);
  } catch (u) {
    i = u;
  }
  r(i);
};
Ye.prototype._flush = function(e) {
  var t = null;
  try {
    this.push(this.digest());
  } catch (r) {
    t = r;
  }
  e(t);
};
Ye.prototype.update = function(e, t) {
  if (Oc(e, "Data"), this._finalized)
    throw new Error("Digest already called");
  Er.isBuffer(e) || (e = Er.from(e, t));
  for (var r = this._block, i = 0; this._blockOffset + e.length - i >= this._blockSize; ) {
    for (var u = this._blockOffset; u < this._blockSize; )
      r[u++] = e[i++];
    this._update(), this._blockOffset = 0;
  }
  for (; i < e.length; )
    r[this._blockOffset++] = e[i++];
  for (var a = 0, f = e.length * 8; f > 0; ++a)
    this._length[a] += f, f = this._length[a] / 4294967296 | 0, f > 0 && (this._length[a] -= 4294967296 * f);
  return this;
};
Ye.prototype._update = function() {
  throw new Error("_update is not implemented");
};
Ye.prototype.digest = function(e) {
  if (this._finalized)
    throw new Error("Digest already called");
  this._finalized = !0;
  var t = this._digest();
  e !== void 0 && (t = t.toString(e)), this._block.fill(0), this._blockOffset = 0;
  for (var r = 0; r < 4; ++r)
    this._length[r] = 0;
  return t;
};
Ye.prototype._digest = function() {
  throw new Error("_digest is not implemented");
};
var Pa = Ye, Pc = Ie, Ba = Pa, Bc = Be.Buffer, Uc = new Array(16);
function wr() {
  Ba.call(this, 64), this._a = 1732584193, this._b = 4023233417, this._c = 2562383102, this._d = 271733878;
}
Pc(wr, Ba);
wr.prototype._update = function() {
  for (var e = Uc, t = 0; t < 16; ++t)
    e[t] = this._block.readInt32LE(t * 4);
  var r = this._a, i = this._b, u = this._c, a = this._d;
  r = me(r, i, u, a, e[0], 3614090360, 7), a = me(a, r, i, u, e[1], 3905402710, 12), u = me(u, a, r, i, e[2], 606105819, 17), i = me(i, u, a, r, e[3], 3250441966, 22), r = me(r, i, u, a, e[4], 4118548399, 7), a = me(a, r, i, u, e[5], 1200080426, 12), u = me(u, a, r, i, e[6], 2821735955, 17), i = me(i, u, a, r, e[7], 4249261313, 22), r = me(r, i, u, a, e[8], 1770035416, 7), a = me(a, r, i, u, e[9], 2336552879, 12), u = me(u, a, r, i, e[10], 4294925233, 17), i = me(i, u, a, r, e[11], 2304563134, 22), r = me(r, i, u, a, e[12], 1804603682, 7), a = me(a, r, i, u, e[13], 4254626195, 12), u = me(u, a, r, i, e[14], 2792965006, 17), i = me(i, u, a, r, e[15], 1236535329, 22), r = we(r, i, u, a, e[1], 4129170786, 5), a = we(a, r, i, u, e[6], 3225465664, 9), u = we(u, a, r, i, e[11], 643717713, 14), i = we(i, u, a, r, e[0], 3921069994, 20), r = we(r, i, u, a, e[5], 3593408605, 5), a = we(a, r, i, u, e[10], 38016083, 9), u = we(u, a, r, i, e[15], 3634488961, 14), i = we(i, u, a, r, e[4], 3889429448, 20), r = we(r, i, u, a, e[9], 568446438, 5), a = we(a, r, i, u, e[14], 3275163606, 9), u = we(u, a, r, i, e[3], 4107603335, 14), i = we(i, u, a, r, e[8], 1163531501, 20), r = we(r, i, u, a, e[13], 2850285829, 5), a = we(a, r, i, u, e[2], 4243563512, 9), u = we(u, a, r, i, e[7], 1735328473, 14), i = we(i, u, a, r, e[12], 2368359562, 20), r = Se(r, i, u, a, e[5], 4294588738, 4), a = Se(a, r, i, u, e[8], 2272392833, 11), u = Se(u, a, r, i, e[11], 1839030562, 16), i = Se(i, u, a, r, e[14], 4259657740, 23), r = Se(r, i, u, a, e[1], 2763975236, 4), a = Se(a, r, i, u, e[4], 1272893353, 11), u = Se(u, a, r, i, e[7], 4139469664, 16), i = Se(i, u, a, r, e[10], 3200236656, 23), r = Se(r, i, u, a, e[13], 681279174, 4), a = Se(a, r, i, u, e[0], 3936430074, 11), u = Se(u, a, r, i, e[3], 3572445317, 16), i = Se(i, u, a, r, e[6], 76029189, 23), r = Se(r, i, u, a, e[9], 3654602809, 4), a = Se(a, r, i, u, e[12], 3873151461, 11), u = Se(u, a, r, i, e[15], 530742520, 16), i = Se(i, u, a, r, e[2], 3299628645, 23), r = Re(r, i, u, a, e[0], 4096336452, 6), a = Re(a, r, i, u, e[7], 1126891415, 10), u = Re(u, a, r, i, e[14], 2878612391, 15), i = Re(i, u, a, r, e[5], 4237533241, 21), r = Re(r, i, u, a, e[12], 1700485571, 6), a = Re(a, r, i, u, e[3], 2399980690, 10), u = Re(u, a, r, i, e[10], 4293915773, 15), i = Re(i, u, a, r, e[1], 2240044497, 21), r = Re(r, i, u, a, e[8], 1873313359, 6), a = Re(a, r, i, u, e[15], 4264355552, 10), u = Re(u, a, r, i, e[6], 2734768916, 15), i = Re(i, u, a, r, e[13], 1309151649, 21), r = Re(r, i, u, a, e[4], 4149444226, 6), a = Re(a, r, i, u, e[11], 3174756917, 10), u = Re(u, a, r, i, e[2], 718787259, 15), i = Re(i, u, a, r, e[9], 3951481745, 21), this._a = this._a + r | 0, this._b = this._b + i | 0, this._c = this._c + u | 0, this._d = this._d + a | 0;
};
wr.prototype._digest = function() {
  this._block[this._blockOffset++] = 128, this._blockOffset > 56 && (this._block.fill(0, this._blockOffset, 64), this._update(), this._blockOffset = 0), this._block.fill(0, this._blockOffset, 56), this._block.writeUInt32LE(this._length[0], 56), this._block.writeUInt32LE(this._length[1], 60), this._update();
  var e = Bc.allocUnsafe(16);
  return e.writeInt32LE(this._a, 0), e.writeInt32LE(this._b, 4), e.writeInt32LE(this._c, 8), e.writeInt32LE(this._d, 12), e;
};
function Sr(e, t) {
  return e << t | e >>> 32 - t;
}
function me(e, t, r, i, u, a, f) {
  return Sr(e + (t & r | ~t & i) + u + a | 0, f) + t | 0;
}
function we(e, t, r, i, u, a, f) {
  return Sr(e + (t & i | r & ~i) + u + a | 0, f) + t | 0;
}
function Se(e, t, r, i, u, a, f) {
  return Sr(e + (t ^ r ^ i) + u + a | 0, f) + t | 0;
}
function Re(e, t, r, i, u, a, f) {
  return Sr(e + (r ^ (t | ~i)) + u + a | 0, f) + t | 0;
}
var Mc = wr, Nn = ir.Buffer, Cc = Ie, Ua = Pa, Dc = new Array(16), $t = [
  0,
  1,
  2,
  3,
  4,
  5,
  6,
  7,
  8,
  9,
  10,
  11,
  12,
  13,
  14,
  15,
  7,
  4,
  13,
  1,
  10,
  6,
  15,
  3,
  12,
  0,
  9,
  5,
  2,
  14,
  11,
  8,
  3,
  10,
  14,
  4,
  9,
  15,
  8,
  1,
  2,
  7,
  0,
  6,
  13,
  11,
  5,
  12,
  1,
  9,
  11,
  10,
  0,
  8,
  12,
  4,
  13,
  3,
  7,
  15,
  14,
  5,
  6,
  2,
  4,
  0,
  5,
  9,
  7,
  12,
  2,
  10,
  14,
  1,
  3,
  8,
  11,
  6,
  15,
  13
], Qt = [
  5,
  14,
  7,
  0,
  9,
  2,
  11,
  4,
  13,
  6,
  15,
  8,
  1,
  10,
  3,
  12,
  6,
  11,
  3,
  7,
  0,
  13,
  5,
  10,
  14,
  15,
  8,
  12,
  4,
  9,
  1,
  2,
  15,
  5,
  1,
  3,
  7,
  14,
  6,
  9,
  11,
  8,
  12,
  2,
  10,
  0,
  4,
  13,
  8,
  6,
  4,
  1,
  3,
  11,
  15,
  0,
  5,
  12,
  2,
  13,
  9,
  7,
  10,
  14,
  12,
  15,
  10,
  4,
  1,
  5,
  8,
  7,
  6,
  2,
  13,
  14,
  0,
  3,
  9,
  11
], Kt = [
  11,
  14,
  15,
  12,
  5,
  8,
  7,
  9,
  11,
  13,
  14,
  15,
  6,
  7,
  9,
  8,
  7,
  6,
  8,
  13,
  11,
  9,
  7,
  15,
  7,
  12,
  15,
  9,
  11,
  7,
  13,
  12,
  11,
  13,
  6,
  7,
  14,
  9,
  13,
  15,
  14,
  8,
  13,
  6,
  5,
  12,
  7,
  5,
  11,
  12,
  14,
  15,
  14,
  15,
  9,
  8,
  9,
  14,
  5,
  6,
  8,
  6,
  5,
  12,
  9,
  15,
  5,
  11,
  6,
  8,
  13,
  12,
  5,
  12,
  13,
  14,
  11,
  8,
  5,
  6
], Yt = [
  8,
  9,
  9,
  11,
  13,
  15,
  15,
  5,
  7,
  7,
  8,
  11,
  14,
  14,
  12,
  6,
  9,
  13,
  15,
  7,
  12,
  8,
  9,
  11,
  7,
  7,
  12,
  7,
  6,
  15,
  13,
  11,
  9,
  7,
  15,
  11,
  8,
  6,
  6,
  14,
  12,
  13,
  5,
  14,
  13,
  13,
  7,
  5,
  15,
  5,
  8,
  11,
  14,
  14,
  6,
  14,
  6,
  9,
  12,
  9,
  12,
  5,
  15,
  8,
  8,
  5,
  12,
  9,
  12,
  5,
  14,
  6,
  8,
  13,
  6,
  5,
  15,
  13,
  11,
  11
], Xt = [0, 1518500249, 1859775393, 2400959708, 2840853838], Jt = [1352829926, 1548603684, 1836072691, 2053994217, 0];
function Rr() {
  Ua.call(this, 64), this._a = 1732584193, this._b = 4023233417, this._c = 2562383102, this._d = 271733878, this._e = 3285377520;
}
Cc(Rr, Ua);
Rr.prototype._update = function() {
  for (var e = Dc, t = 0; t < 16; ++t)
    e[t] = this._block.readInt32LE(t * 4);
  for (var r = this._a | 0, i = this._b | 0, u = this._c | 0, a = this._d | 0, f = this._e | 0, c = this._a | 0, p = this._b | 0, d = this._c | 0, g = this._d | 0, S = this._e | 0, A = 0; A < 80; A += 1) {
    var I, _;
    A < 16 ? (I = Wo(r, i, u, a, f, e[$t[A]], Xt[0], Kt[A]), _ = Yo(c, p, d, g, S, e[Qt[A]], Jt[0], Yt[A])) : A < 32 ? (I = $o(r, i, u, a, f, e[$t[A]], Xt[1], Kt[A]), _ = Ko(c, p, d, g, S, e[Qt[A]], Jt[1], Yt[A])) : A < 48 ? (I = Qo(r, i, u, a, f, e[$t[A]], Xt[2], Kt[A]), _ = Qo(c, p, d, g, S, e[Qt[A]], Jt[2], Yt[A])) : A < 64 ? (I = Ko(r, i, u, a, f, e[$t[A]], Xt[3], Kt[A]), _ = $o(c, p, d, g, S, e[Qt[A]], Jt[3], Yt[A])) : (I = Yo(r, i, u, a, f, e[$t[A]], Xt[4], Kt[A]), _ = Wo(c, p, d, g, S, e[Qt[A]], Jt[4], Yt[A])), r = f, f = a, a = nt(u, 10), u = i, i = I, c = S, S = g, g = nt(d, 10), d = p, p = _;
  }
  var B = this._b + u + g | 0;
  this._b = this._c + a + S | 0, this._c = this._d + f + c | 0, this._d = this._e + r + p | 0, this._e = this._a + i + d | 0, this._a = B;
};
Rr.prototype._digest = function() {
  this._block[this._blockOffset++] = 128, this._blockOffset > 56 && (this._block.fill(0, this._blockOffset, 64), this._update(), this._blockOffset = 0), this._block.fill(0, this._blockOffset, 56), this._block.writeUInt32LE(this._length[0], 56), this._block.writeUInt32LE(this._length[1], 60), this._update();
  var e = Nn.alloc ? Nn.alloc(20) : new Nn(20);
  return e.writeInt32LE(this._a, 0), e.writeInt32LE(this._b, 4), e.writeInt32LE(this._c, 8), e.writeInt32LE(this._d, 12), e.writeInt32LE(this._e, 16), e;
};
function nt(e, t) {
  return e << t | e >>> 32 - t;
}
function Wo(e, t, r, i, u, a, f, c) {
  return nt(e + (t ^ r ^ i) + a + f | 0, c) + u | 0;
}
function $o(e, t, r, i, u, a, f, c) {
  return nt(e + (t & r | ~t & i) + a + f | 0, c) + u | 0;
}
function Qo(e, t, r, i, u, a, f, c) {
  return nt(e + ((t | ~r) ^ i) + a + f | 0, c) + u | 0;
}
function Ko(e, t, r, i, u, a, f, c) {
  return nt(e + (t & i | r & ~i) + a + f | 0, c) + u | 0;
}
function Yo(e, t, r, i, u, a, f, c) {
  return nt(e + (t ^ (r | ~i)) + a + f | 0, c) + u | 0;
}
var Lc = Rr, Ma = { exports: {} }, Ca = Be.Buffer;
function Ir(e, t) {
  this._block = Ca.alloc(e), this._finalSize = t, this._blockSize = e, this._len = 0;
}
Ir.prototype.update = function(e, t) {
  typeof e == "string" && (t = t || "utf8", e = Ca.from(e, t));
  for (var r = this._block, i = this._blockSize, u = e.length, a = this._len, f = 0; f < u; ) {
    for (var c = a % i, p = Math.min(u - f, i - c), d = 0; d < p; d++)
      r[c + d] = e[f + d];
    a += p, f += p, a % i === 0 && this._update(r);
  }
  return this._len += u, this;
};
Ir.prototype.digest = function(e) {
  var t = this._len % this._blockSize;
  this._block[t] = 128, this._block.fill(0, t + 1), t >= this._finalSize && (this._update(this._block), this._block.fill(0));
  var r = this._len * 8;
  if (r <= 4294967295)
    this._block.writeUInt32BE(r, this._blockSize - 4);
  else {
    var i = (r & 4294967295) >>> 0, u = (r - i) / 4294967296;
    this._block.writeUInt32BE(u, this._blockSize - 8), this._block.writeUInt32BE(i, this._blockSize - 4);
  }
  this._update(this._block);
  var a = this._hash();
  return e ? a.toString(e) : a;
};
Ir.prototype._update = function() {
  throw new Error("_update must be implemented by subclass");
};
var ht = Ir, xc = Ie, Da = ht, Fc = Be.Buffer, kc = [
  1518500249,
  1859775393,
  -1894007588,
  -899497514
], qc = new Array(80);
function or() {
  this.init(), this._w = qc, Da.call(this, 64, 56);
}
xc(or, Da);
or.prototype.init = function() {
  return this._a = 1732584193, this._b = 4023233417, this._c = 2562383102, this._d = 271733878, this._e = 3285377520, this;
};
function Gc(e) {
  return e << 5 | e >>> 27;
}
function Hc(e) {
  return e << 30 | e >>> 2;
}
function jc(e, t, r, i) {
  return e === 0 ? t & r | ~t & i : e === 2 ? t & r | t & i | r & i : t ^ r ^ i;
}
or.prototype._update = function(e) {
  for (var t = this._w, r = this._a | 0, i = this._b | 0, u = this._c | 0, a = this._d | 0, f = this._e | 0, c = 0; c < 16; ++c)
    t[c] = e.readInt32BE(c * 4);
  for (; c < 80; ++c)
    t[c] = t[c - 3] ^ t[c - 8] ^ t[c - 14] ^ t[c - 16];
  for (var p = 0; p < 80; ++p) {
    var d = ~~(p / 20), g = Gc(r) + jc(d, i, u, a) + f + t[p] + kc[d] | 0;
    f = a, a = u, u = Hc(i), i = r, r = g;
  }
  this._a = r + this._a | 0, this._b = i + this._b | 0, this._c = u + this._c | 0, this._d = a + this._d | 0, this._e = f + this._e | 0;
};
or.prototype._hash = function() {
  var e = Fc.allocUnsafe(20);
  return e.writeInt32BE(this._a | 0, 0), e.writeInt32BE(this._b | 0, 4), e.writeInt32BE(this._c | 0, 8), e.writeInt32BE(this._d | 0, 12), e.writeInt32BE(this._e | 0, 16), e;
};
var Vc = or, zc = Ie, La = ht, Wc = Be.Buffer, $c = [
  1518500249,
  1859775393,
  -1894007588,
  -899497514
], Qc = new Array(80);
function ar() {
  this.init(), this._w = Qc, La.call(this, 64, 56);
}
zc(ar, La);
ar.prototype.init = function() {
  return this._a = 1732584193, this._b = 4023233417, this._c = 2562383102, this._d = 271733878, this._e = 3285377520, this;
};
function Kc(e) {
  return e << 1 | e >>> 31;
}
function Yc(e) {
  return e << 5 | e >>> 27;
}
function Xc(e) {
  return e << 30 | e >>> 2;
}
function Jc(e, t, r, i) {
  return e === 0 ? t & r | ~t & i : e === 2 ? t & r | t & i | r & i : t ^ r ^ i;
}
ar.prototype._update = function(e) {
  for (var t = this._w, r = this._a | 0, i = this._b | 0, u = this._c | 0, a = this._d | 0, f = this._e | 0, c = 0; c < 16; ++c)
    t[c] = e.readInt32BE(c * 4);
  for (; c < 80; ++c)
    t[c] = Kc(t[c - 3] ^ t[c - 8] ^ t[c - 14] ^ t[c - 16]);
  for (var p = 0; p < 80; ++p) {
    var d = ~~(p / 20), g = Yc(r) + Jc(d, i, u, a) + f + t[p] + $c[d] | 0;
    f = a, a = u, u = Xc(i), i = r, r = g;
  }
  this._a = r + this._a | 0, this._b = i + this._b | 0, this._c = u + this._c | 0, this._d = a + this._d | 0, this._e = f + this._e | 0;
};
ar.prototype._hash = function() {
  var e = Wc.allocUnsafe(20);
  return e.writeInt32BE(this._a | 0, 0), e.writeInt32BE(this._b | 0, 4), e.writeInt32BE(this._c | 0, 8), e.writeInt32BE(this._d | 0, 12), e.writeInt32BE(this._e | 0, 16), e;
};
var Zc = ar, ef = Ie, xa = ht, tf = Be.Buffer, rf = [
  1116352408,
  1899447441,
  3049323471,
  3921009573,
  961987163,
  1508970993,
  2453635748,
  2870763221,
  3624381080,
  310598401,
  607225278,
  1426881987,
  1925078388,
  2162078206,
  2614888103,
  3248222580,
  3835390401,
  4022224774,
  264347078,
  604807628,
  770255983,
  1249150122,
  1555081692,
  1996064986,
  2554220882,
  2821834349,
  2952996808,
  3210313671,
  3336571891,
  3584528711,
  113926993,
  338241895,
  666307205,
  773529912,
  1294757372,
  1396182291,
  1695183700,
  1986661051,
  2177026350,
  2456956037,
  2730485921,
  2820302411,
  3259730800,
  3345764771,
  3516065817,
  3600352804,
  4094571909,
  275423344,
  430227734,
  506948616,
  659060556,
  883997877,
  958139571,
  1322822218,
  1537002063,
  1747873779,
  1955562222,
  2024104815,
  2227730452,
  2361852424,
  2428436474,
  2756734187,
  3204031479,
  3329325298
], nf = new Array(64);
function sr() {
  this.init(), this._w = nf, xa.call(this, 64, 56);
}
ef(sr, xa);
sr.prototype.init = function() {
  return this._a = 1779033703, this._b = 3144134277, this._c = 1013904242, this._d = 2773480762, this._e = 1359893119, this._f = 2600822924, this._g = 528734635, this._h = 1541459225, this;
};
function of(e, t, r) {
  return r ^ e & (t ^ r);
}
function af(e, t, r) {
  return e & t | r & (e | t);
}
function sf(e) {
  return (e >>> 2 | e << 30) ^ (e >>> 13 | e << 19) ^ (e >>> 22 | e << 10);
}
function uf(e) {
  return (e >>> 6 | e << 26) ^ (e >>> 11 | e << 21) ^ (e >>> 25 | e << 7);
}
function cf(e) {
  return (e >>> 7 | e << 25) ^ (e >>> 18 | e << 14) ^ e >>> 3;
}
function ff(e) {
  return (e >>> 17 | e << 15) ^ (e >>> 19 | e << 13) ^ e >>> 10;
}
sr.prototype._update = function(e) {
  for (var t = this._w, r = this._a | 0, i = this._b | 0, u = this._c | 0, a = this._d | 0, f = this._e | 0, c = this._f | 0, p = this._g | 0, d = this._h | 0, g = 0; g < 16; ++g)
    t[g] = e.readInt32BE(g * 4);
  for (; g < 64; ++g)
    t[g] = ff(t[g - 2]) + t[g - 7] + cf(t[g - 15]) + t[g - 16] | 0;
  for (var S = 0; S < 64; ++S) {
    var A = d + uf(f) + of(f, c, p) + rf[S] + t[S] | 0, I = sf(r) + af(r, i, u) | 0;
    d = p, p = c, c = f, f = a + A | 0, a = u, u = i, i = r, r = A + I | 0;
  }
  this._a = r + this._a | 0, this._b = i + this._b | 0, this._c = u + this._c | 0, this._d = a + this._d | 0, this._e = f + this._e | 0, this._f = c + this._f | 0, this._g = p + this._g | 0, this._h = d + this._h | 0;
};
sr.prototype._hash = function() {
  var e = tf.allocUnsafe(32);
  return e.writeInt32BE(this._a, 0), e.writeInt32BE(this._b, 4), e.writeInt32BE(this._c, 8), e.writeInt32BE(this._d, 12), e.writeInt32BE(this._e, 16), e.writeInt32BE(this._f, 20), e.writeInt32BE(this._g, 24), e.writeInt32BE(this._h, 28), e;
};
var Fa = sr, lf = Ie, hf = Fa, df = ht, pf = Be.Buffer, _f = new Array(64);
function Ar() {
  this.init(), this._w = _f, df.call(this, 64, 56);
}
lf(Ar, hf);
Ar.prototype.init = function() {
  return this._a = 3238371032, this._b = 914150663, this._c = 812702999, this._d = 4144912697, this._e = 4290775857, this._f = 1750603025, this._g = 1694076839, this._h = 3204075428, this;
};
Ar.prototype._hash = function() {
  var e = pf.allocUnsafe(28);
  return e.writeInt32BE(this._a, 0), e.writeInt32BE(this._b, 4), e.writeInt32BE(this._c, 8), e.writeInt32BE(this._d, 12), e.writeInt32BE(this._e, 16), e.writeInt32BE(this._f, 20), e.writeInt32BE(this._g, 24), e;
};
var Ef = Ar, vf = Ie, ka = ht, gf = Be.Buffer, Xo = [
  1116352408,
  3609767458,
  1899447441,
  602891725,
  3049323471,
  3964484399,
  3921009573,
  2173295548,
  961987163,
  4081628472,
  1508970993,
  3053834265,
  2453635748,
  2937671579,
  2870763221,
  3664609560,
  3624381080,
  2734883394,
  310598401,
  1164996542,
  607225278,
  1323610764,
  1426881987,
  3590304994,
  1925078388,
  4068182383,
  2162078206,
  991336113,
  2614888103,
  633803317,
  3248222580,
  3479774868,
  3835390401,
  2666613458,
  4022224774,
  944711139,
  264347078,
  2341262773,
  604807628,
  2007800933,
  770255983,
  1495990901,
  1249150122,
  1856431235,
  1555081692,
  3175218132,
  1996064986,
  2198950837,
  2554220882,
  3999719339,
  2821834349,
  766784016,
  2952996808,
  2566594879,
  3210313671,
  3203337956,
  3336571891,
  1034457026,
  3584528711,
  2466948901,
  113926993,
  3758326383,
  338241895,
  168717936,
  666307205,
  1188179964,
  773529912,
  1546045734,
  1294757372,
  1522805485,
  1396182291,
  2643833823,
  1695183700,
  2343527390,
  1986661051,
  1014477480,
  2177026350,
  1206759142,
  2456956037,
  344077627,
  2730485921,
  1290863460,
  2820302411,
  3158454273,
  3259730800,
  3505952657,
  3345764771,
  106217008,
  3516065817,
  3606008344,
  3600352804,
  1432725776,
  4094571909,
  1467031594,
  275423344,
  851169720,
  430227734,
  3100823752,
  506948616,
  1363258195,
  659060556,
  3750685593,
  883997877,
  3785050280,
  958139571,
  3318307427,
  1322822218,
  3812723403,
  1537002063,
  2003034995,
  1747873779,
  3602036899,
  1955562222,
  1575990012,
  2024104815,
  1125592928,
  2227730452,
  2716904306,
  2361852424,
  442776044,
  2428436474,
  593698344,
  2756734187,
  3733110249,
  3204031479,
  2999351573,
  3329325298,
  3815920427,
  3391569614,
  3928383900,
  3515267271,
  566280711,
  3940187606,
  3454069534,
  4118630271,
  4000239992,
  116418474,
  1914138554,
  174292421,
  2731055270,
  289380356,
  3203993006,
  460393269,
  320620315,
  685471733,
  587496836,
  852142971,
  1086792851,
  1017036298,
  365543100,
  1126000580,
  2618297676,
  1288033470,
  3409855158,
  1501505948,
  4234509866,
  1607167915,
  987167468,
  1816402316,
  1246189591
], yf = new Array(160);
function ur() {
  this.init(), this._w = yf, ka.call(this, 128, 112);
}
vf(ur, ka);
ur.prototype.init = function() {
  return this._ah = 1779033703, this._bh = 3144134277, this._ch = 1013904242, this._dh = 2773480762, this._eh = 1359893119, this._fh = 2600822924, this._gh = 528734635, this._hh = 1541459225, this._al = 4089235720, this._bl = 2227873595, this._cl = 4271175723, this._dl = 1595750129, this._el = 2917565137, this._fl = 725511199, this._gl = 4215389547, this._hl = 327033209, this;
};
function Jo(e, t, r) {
  return r ^ e & (t ^ r);
}
function Zo(e, t, r) {
  return e & t | r & (e | t);
}
function ea(e, t) {
  return (e >>> 28 | t << 4) ^ (t >>> 2 | e << 30) ^ (t >>> 7 | e << 25);
}
function ta(e, t) {
  return (e >>> 14 | t << 18) ^ (e >>> 18 | t << 14) ^ (t >>> 9 | e << 23);
}
function bf(e, t) {
  return (e >>> 1 | t << 31) ^ (e >>> 8 | t << 24) ^ e >>> 7;
}
function mf(e, t) {
  return (e >>> 1 | t << 31) ^ (e >>> 8 | t << 24) ^ (e >>> 7 | t << 25);
}
function wf(e, t) {
  return (e >>> 19 | t << 13) ^ (t >>> 29 | e << 3) ^ e >>> 6;
}
function Sf(e, t) {
  return (e >>> 19 | t << 13) ^ (t >>> 29 | e << 3) ^ (e >>> 6 | t << 26);
}
function be(e, t) {
  return e >>> 0 < t >>> 0 ? 1 : 0;
}
ur.prototype._update = function(e) {
  for (var t = this._w, r = this._ah | 0, i = this._bh | 0, u = this._ch | 0, a = this._dh | 0, f = this._eh | 0, c = this._fh | 0, p = this._gh | 0, d = this._hh | 0, g = this._al | 0, S = this._bl | 0, A = this._cl | 0, I = this._dl | 0, _ = this._el | 0, B = this._fl | 0, U = this._gl | 0, w = this._hl | 0, P = 0; P < 32; P += 2)
    t[P] = e.readInt32BE(P * 4), t[P + 1] = e.readInt32BE(P * 4 + 4);
  for (; P < 160; P += 2) {
    var M = t[P - 30], C = t[P - 15 * 2 + 1], D = bf(M, C), F = mf(C, M);
    M = t[P - 2 * 2], C = t[P - 2 * 2 + 1];
    var W = wf(M, C), k = Sf(C, M), j = t[P - 7 * 2], le = t[P - 7 * 2 + 1], Ae = t[P - 16 * 2], ee = t[P - 16 * 2 + 1], q = F + le | 0, ue = D + j + be(q, F) | 0;
    q = q + k | 0, ue = ue + W + be(q, k) | 0, q = q + ee | 0, ue = ue + Ae + be(q, ee) | 0, t[P] = ue, t[P + 1] = q;
  }
  for (var ye = 0; ye < 160; ye += 2) {
    ue = t[ye], q = t[ye + 1];
    var Ue = Zo(r, i, u), de = Zo(g, S, A), ge = ea(r, g), Ne = ea(g, r), Me = ta(f, _), re = ta(_, f), ce = Xo[ye], Ee = Xo[ye + 1], xe = Jo(f, c, p), Oe = Jo(_, B, U), N = w + re | 0, O = d + Me + be(N, w) | 0;
    N = N + Oe | 0, O = O + xe + be(N, Oe) | 0, N = N + Ee | 0, O = O + ce + be(N, Ee) | 0, N = N + q | 0, O = O + ue + be(N, q) | 0;
    var x = Ne + de | 0, z = ge + Ue + be(x, Ne) | 0;
    d = p, w = U, p = c, U = B, c = f, B = _, _ = I + N | 0, f = a + O + be(_, I) | 0, a = u, I = A, u = i, A = S, i = r, S = g, g = N + x | 0, r = O + z + be(g, N) | 0;
  }
  this._al = this._al + g | 0, this._bl = this._bl + S | 0, this._cl = this._cl + A | 0, this._dl = this._dl + I | 0, this._el = this._el + _ | 0, this._fl = this._fl + B | 0, this._gl = this._gl + U | 0, this._hl = this._hl + w | 0, this._ah = this._ah + r + be(this._al, g) | 0, this._bh = this._bh + i + be(this._bl, S) | 0, this._ch = this._ch + u + be(this._cl, A) | 0, this._dh = this._dh + a + be(this._dl, I) | 0, this._eh = this._eh + f + be(this._el, _) | 0, this._fh = this._fh + c + be(this._fl, B) | 0, this._gh = this._gh + p + be(this._gl, U) | 0, this._hh = this._hh + d + be(this._hl, w) | 0;
};
ur.prototype._hash = function() {
  var e = gf.allocUnsafe(64);
  function t(r, i, u) {
    e.writeInt32BE(r, u), e.writeInt32BE(i, u + 4);
  }
  return t(this._ah, this._al, 0), t(this._bh, this._bl, 8), t(this._ch, this._cl, 16), t(this._dh, this._dl, 24), t(this._eh, this._el, 32), t(this._fh, this._fl, 40), t(this._gh, this._gl, 48), t(this._hh, this._hl, 56), e;
};
var qa = ur, Rf = Ie, If = qa, Af = ht, Tf = Be.Buffer, Nf = new Array(160);
function Tr() {
  this.init(), this._w = Nf, Af.call(this, 128, 112);
}
Rf(Tr, If);
Tr.prototype.init = function() {
  return this._ah = 3418070365, this._bh = 1654270250, this._ch = 2438529370, this._dh = 355462360, this._eh = 1731405415, this._fh = 2394180231, this._gh = 3675008525, this._hh = 1203062813, this._al = 3238371032, this._bl = 914150663, this._cl = 812702999, this._dl = 4144912697, this._el = 4290775857, this._fl = 1750603025, this._gl = 1694076839, this._hl = 3204075428, this;
};
Tr.prototype._hash = function() {
  var e = Tf.allocUnsafe(48);
  function t(r, i, u) {
    e.writeInt32BE(r, u), e.writeInt32BE(i, u + 4);
  }
  return t(this._ah, this._al, 0), t(this._bh, this._bl, 8), t(this._ch, this._cl, 16), t(this._dh, this._dl, 24), t(this._eh, this._el, 32), t(this._fh, this._fl, 40), e;
};
var Of = Tr, st = Ma.exports = function(t) {
  t = t.toLowerCase();
  var r = st[t];
  if (!r)
    throw new Error(t + " is not supported (we accept pull requests)");
  return new r();
};
st.sha = Vc;
st.sha1 = Zc;
st.sha224 = Ef;
st.sha256 = Fa;
st.sha384 = Of;
st.sha512 = qa;
var Pf = Ma.exports, Ga = Be.Buffer, Ha = Na.Transform, Bf = ns.StringDecoder, Uf = Ie;
function He(e) {
  Ha.call(this), this.hashMode = typeof e == "string", this.hashMode ? this[e] = this._finalOrDigest : this.final = this._finalOrDigest, this._final && (this.__final = this._final, this._final = null), this._decoder = null, this._encoding = null;
}
Uf(He, Ha);
He.prototype.update = function(e, t, r) {
  typeof e == "string" && (e = Ga.from(e, t));
  var i = this._update(e);
  return this.hashMode ? this : (r && (i = this._toString(i, r)), i);
};
He.prototype.setAutoPadding = function() {
};
He.prototype.getAuthTag = function() {
  throw new Error("trying to get auth tag in unsupported state");
};
He.prototype.setAuthTag = function() {
  throw new Error("trying to set auth tag in unsupported state");
};
He.prototype.setAAD = function() {
  throw new Error("trying to set aad in unsupported state");
};
He.prototype._transform = function(e, t, r) {
  var i;
  try {
    this.hashMode ? this._update(e) : this.push(this._update(e));
  } catch (u) {
    i = u;
  } finally {
    r(i);
  }
};
He.prototype._flush = function(e) {
  var t;
  try {
    this.push(this.__final());
  } catch (r) {
    t = r;
  }
  e(t);
};
He.prototype._finalOrDigest = function(e) {
  var t = this.__final() || Ga.alloc(0);
  return e && (t = this._toString(t, e, !0)), t;
};
He.prototype._toString = function(e, t, r) {
  if (this._decoder || (this._decoder = new Bf(t), this._encoding = t), this._encoding !== t)
    throw new Error("can't switch encodings");
  var i = this._decoder.write(e);
  return r && (i += this._decoder.end()), i;
};
var Mf = He, Cf = Ie, Df = Mc, Lf = Lc, xf = Pf, ja = Mf;
function Nr(e) {
  ja.call(this, "digest"), this._hash = e;
}
Cf(Nr, ja);
Nr.prototype._update = function(e) {
  this._hash.update(e);
};
Nr.prototype._final = function() {
  return this._hash.digest();
};
var Ff = function(t) {
  return t = t.toLowerCase(), t === "md5" ? new Df() : t === "rmd160" || t === "ripemd160" ? new Lf() : new Nr(xf(t));
}, lr = Be.Buffer;
function kf(e) {
  if (e.length >= 255)
    throw new TypeError("Alphabet too long");
  for (var t = new Uint8Array(256), r = 0; r < t.length; r++)
    t[r] = 255;
  for (var i = 0; i < e.length; i++) {
    var u = e.charAt(i), a = u.charCodeAt(0);
    if (t[a] !== 255)
      throw new TypeError(u + " is ambiguous");
    t[a] = i;
  }
  var f = e.length, c = e.charAt(0), p = Math.log(f) / Math.log(256), d = Math.log(256) / Math.log(f);
  function g(I) {
    if ((Array.isArray(I) || I instanceof Uint8Array) && (I = lr.from(I)), !lr.isBuffer(I))
      throw new TypeError("Expected Buffer");
    if (I.length === 0)
      return "";
    for (var _ = 0, B = 0, U = 0, w = I.length; U !== w && I[U] === 0; )
      U++, _++;
    for (var P = (w - U) * d + 1 >>> 0, M = new Uint8Array(P); U !== w; ) {
      for (var C = I[U], D = 0, F = P - 1; (C !== 0 || D < B) && F !== -1; F--, D++)
        C += 256 * M[F] >>> 0, M[F] = C % f >>> 0, C = C / f >>> 0;
      if (C !== 0)
        throw new Error("Non-zero carry");
      B = D, U++;
    }
    for (var W = P - B; W !== P && M[W] === 0; )
      W++;
    for (var k = c.repeat(_); W < P; ++W)
      k += e.charAt(M[W]);
    return k;
  }
  function S(I) {
    if (typeof I != "string")
      throw new TypeError("Expected String");
    if (I.length === 0)
      return lr.alloc(0);
    for (var _ = 0, B = 0, U = 0; I[_] === c; )
      B++, _++;
    for (var w = (I.length - _) * p + 1 >>> 0, P = new Uint8Array(w); I[_]; ) {
      var M = t[I.charCodeAt(_)];
      if (M === 255)
        return;
      for (var C = 0, D = w - 1; (M !== 0 || C < U) && D !== -1; D--, C++)
        M += f * P[D] >>> 0, P[D] = M % 256 >>> 0, M = M / 256 >>> 0;
      if (M !== 0)
        throw new Error("Non-zero carry");
      U = C, _++;
    }
    for (var F = w - U; F !== w && P[F] === 0; )
      F++;
    var W = lr.allocUnsafe(B + (w - F));
    W.fill(0, 0, B);
    for (var k = B; F !== w; )
      W[k++] = P[F++];
    return W;
  }
  function A(I) {
    var _ = S(I);
    if (_)
      return _;
    throw new Error("Non-base" + f + " character");
  }
  return {
    encode: g,
    decodeUnsafe: S,
    decode: A
  };
}
var qf = kf, Gf = qf, Hf = "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz", jf = Gf(Hf), On = jf, Vf = Be.Buffer, zf = function(e) {
  function t(a) {
    var f = e(a);
    return On.encode(Vf.concat([
      a,
      f
    ], a.length + 4));
  }
  function r(a) {
    var f = a.slice(0, -4), c = a.slice(-4), p = e(f);
    if (!(c[0] ^ p[0] | c[1] ^ p[1] | c[2] ^ p[2] | c[3] ^ p[3]))
      return f;
  }
  function i(a) {
    var f = On.decodeUnsafe(a);
    if (f)
      return r(f);
  }
  function u(a) {
    var f = On.decode(a), c = r(f);
    if (!c)
      throw new Error("Invalid checksum");
    return c;
  }
  return {
    encode: t,
    decode: u,
    decodeUnsafe: i
  };
}, ra = Ff, Wf = zf;
function $f(e) {
  var t = ra("sha256").update(e).digest();
  return ra("sha256").update(t).digest();
}
var Qf = Wf($f);
/**
 * @license
 * https://github.com/ealmansi/cashaddrjs
 * Copyright (c) 2017-2020 Emilio Almansi
 * Distributed under the MIT software license, see the accompanying
 * file LICENSE or http://www.opensource.org/licenses/mit-license.php.
 */
function jn(e) {
  var t = new Error();
  this.name = t.name = "ValidationError", this.message = t.message = e, this.stack = t.stack;
}
jn.prototype = Object.create(Error.prototype);
function Kf(e, t) {
  if (!e)
    throw new jn(t);
}
var Vn = {
  ValidationError: jn,
  validate: Kf
};
/**
 * @license
 * https://github.com/ealmansi/cashaddrjs
 * Copyright (c) 2017-2020 Emilio Almansi
 * Distributed under the MIT software license, see the accompanying
 * file LICENSE or http://www.opensource.org/licenses/mit-license.php.
 */
var vr = Vn.validate, Yf = "qpzry9x8gf2tvdw0s3jn54khce6mua7l", na = {
  q: 0,
  p: 1,
  z: 2,
  r: 3,
  y: 4,
  9: 5,
  x: 6,
  8: 7,
  g: 8,
  f: 9,
  2: 10,
  t: 11,
  v: 12,
  d: 13,
  w: 14,
  0: 15,
  s: 16,
  3: 17,
  j: 18,
  n: 19,
  5: 20,
  4: 21,
  k: 22,
  h: 23,
  c: 24,
  e: 25,
  6: 26,
  m: 27,
  u: 28,
  a: 29,
  7: 30,
  l: 31
};
function Xf(e) {
  vr(e instanceof Uint8Array, "Invalid data: " + e + ".");
  for (var t = "", r = 0; r < e.length; ++r) {
    var i = e[r];
    vr(0 <= i && i < 32, "Invalid value: " + i + "."), t += Yf[i];
  }
  return t;
}
function Jf(e) {
  vr(typeof e == "string", "Invalid base32-encoded string: " + e + ".");
  for (var t = new Uint8Array(e.length), r = 0; r < e.length; ++r) {
    var i = e[r];
    vr(i in na, "Invalid value: " + i + "."), t[r] = na[i];
  }
  return t;
}
var Zf = {
  encode: Xf,
  decode: Jf
}, Va = { exports: {} };
(function(e) {
  var t = function(r) {
    var i = 1e7, u = 7, a = 9007199254740992, f = A(a), c = Math.log(a);
    function p(l, E) {
      return typeof l > "u" ? p[0] : typeof E < "u" ? +E == 10 ? Q(l) : fe(l, E) : Q(l);
    }
    function d(l, E) {
      this.value = l, this.sign = E, this.isSmall = !1;
    }
    d.prototype = Object.create(p.prototype);
    function g(l) {
      this.value = l, this.sign = l < 0, this.isSmall = !0;
    }
    g.prototype = Object.create(p.prototype);
    function S(l) {
      return -a < l && l < a;
    }
    function A(l) {
      return l < 1e7 ? [l] : l < 1e14 ? [l % 1e7, Math.floor(l / 1e7)] : [l % 1e7, Math.floor(l / 1e7) % 1e7, Math.floor(l / 1e14)];
    }
    function I(l) {
      _(l);
      var E = l.length;
      if (E < 4 && ge(l, f) < 0)
        switch (E) {
          case 0:
            return 0;
          case 1:
            return l[0];
          case 2:
            return l[0] + l[1] * i;
          default:
            return l[0] + (l[1] + l[2] * i) * i;
        }
      return l;
    }
    function _(l) {
      for (var E = l.length; l[--E] === 0; )
        ;
      l.length = E + 1;
    }
    function B(l) {
      for (var E = new Array(l), R = -1; ++R < l; )
        E[R] = 0;
      return E;
    }
    function U(l) {
      return l > 0 ? Math.floor(l) : Math.ceil(l);
    }
    function w(l, E) {
      var R = l.length, s = E.length, n = new Array(R), o = 0, h = i, v, m;
      for (m = 0; m < s; m++)
        v = l[m] + E[m] + o, o = v >= h ? 1 : 0, n[m] = v - o * h;
      for (; m < R; )
        v = l[m] + o, o = v === h ? 1 : 0, n[m++] = v - o * h;
      return o > 0 && n.push(o), n;
    }
    function P(l, E) {
      return l.length >= E.length ? w(l, E) : w(E, l);
    }
    function M(l, E) {
      var R = l.length, s = new Array(R), n = i, o, h;
      for (h = 0; h < R; h++)
        o = l[h] - n + E, E = Math.floor(o / n), s[h] = o - E * n, E += 1;
      for (; E > 0; )
        s[h++] = E % n, E = Math.floor(E / n);
      return s;
    }
    d.prototype.add = function(l) {
      var E = Q(l);
      if (this.sign !== E.sign)
        return this.subtract(E.negate());
      var R = this.value, s = E.value;
      return E.isSmall ? new d(M(R, Math.abs(s)), this.sign) : new d(P(R, s), this.sign);
    }, d.prototype.plus = d.prototype.add, g.prototype.add = function(l) {
      var E = Q(l), R = this.value;
      if (R < 0 !== E.sign)
        return this.subtract(E.negate());
      var s = E.value;
      if (E.isSmall) {
        if (S(R + s))
          return new g(R + s);
        s = A(Math.abs(s));
      }
      return new d(M(s, Math.abs(R)), R < 0);
    }, g.prototype.plus = g.prototype.add;
    function C(l, E) {
      var R = l.length, s = E.length, n = new Array(R), o = 0, h = i, v, m;
      for (v = 0; v < s; v++)
        m = l[v] - o - E[v], m < 0 ? (m += h, o = 1) : o = 0, n[v] = m;
      for (v = s; v < R; v++) {
        if (m = l[v] - o, m < 0)
          m += h;
        else {
          n[v++] = m;
          break;
        }
        n[v] = m;
      }
      for (; v < R; v++)
        n[v] = l[v];
      return _(n), n;
    }
    function D(l, E, R) {
      var s;
      return ge(l, E) >= 0 ? s = C(l, E) : (s = C(E, l), R = !R), s = I(s), typeof s == "number" ? (R && (s = -s), new g(s)) : new d(s, R);
    }
    function F(l, E, R) {
      var s = l.length, n = new Array(s), o = -E, h = i, v, m;
      for (v = 0; v < s; v++)
        m = l[v] + o, o = Math.floor(m / h), m %= h, n[v] = m < 0 ? m + h : m;
      return n = I(n), typeof n == "number" ? (R && (n = -n), new g(n)) : new d(n, R);
    }
    d.prototype.subtract = function(l) {
      var E = Q(l);
      if (this.sign !== E.sign)
        return this.add(E.negate());
      var R = this.value, s = E.value;
      return E.isSmall ? F(R, Math.abs(s), this.sign) : D(R, s, this.sign);
    }, d.prototype.minus = d.prototype.subtract, g.prototype.subtract = function(l) {
      var E = Q(l), R = this.value;
      if (R < 0 !== E.sign)
        return this.add(E.negate());
      var s = E.value;
      return E.isSmall ? new g(R - s) : F(s, Math.abs(R), R >= 0);
    }, g.prototype.minus = g.prototype.subtract, d.prototype.negate = function() {
      return new d(this.value, !this.sign);
    }, g.prototype.negate = function() {
      var l = this.sign, E = new g(-this.value);
      return E.sign = !l, E;
    }, d.prototype.abs = function() {
      return new d(this.value, !1);
    }, g.prototype.abs = function() {
      return new g(Math.abs(this.value));
    };
    function W(l, E) {
      var R = l.length, s = E.length, n = R + s, o = B(n), h = i, v, m, T, H, V;
      for (T = 0; T < R; ++T) {
        H = l[T];
        for (var $ = 0; $ < s; ++$)
          V = E[$], v = H * V + o[T + $], m = Math.floor(v / h), o[T + $] = v - m * h, o[T + $ + 1] += m;
      }
      return _(o), o;
    }
    function k(l, E) {
      var R = l.length, s = new Array(R), n = i, o = 0, h, v;
      for (v = 0; v < R; v++)
        h = l[v] * E + o, o = Math.floor(h / n), s[v] = h - o * n;
      for (; o > 0; )
        s[v++] = o % n, o = Math.floor(o / n);
      return s;
    }
    function j(l, E) {
      for (var R = []; E-- > 0; )
        R.push(0);
      return R.concat(l);
    }
    function le(l, E) {
      var R = Math.max(l.length, E.length);
      if (R <= 30)
        return W(l, E);
      R = Math.ceil(R / 2);
      var s = l.slice(R), n = l.slice(0, R), o = E.slice(R), h = E.slice(0, R), v = le(n, h), m = le(s, o), T = le(P(n, s), P(h, o)), H = P(P(v, j(C(C(T, v), m), R)), j(m, 2 * R));
      return _(H), H;
    }
    function Ae(l, E) {
      return -0.012 * l - 0.012 * E + 15e-6 * l * E > 0;
    }
    d.prototype.multiply = function(l) {
      var E = Q(l), R = this.value, s = E.value, n = this.sign !== E.sign, o;
      if (E.isSmall) {
        if (s === 0)
          return p[0];
        if (s === 1)
          return this;
        if (s === -1)
          return this.negate();
        if (o = Math.abs(s), o < i)
          return new d(k(R, o), n);
        s = A(o);
      }
      return Ae(R.length, s.length) ? new d(le(R, s), n) : new d(W(R, s), n);
    }, d.prototype.times = d.prototype.multiply;
    function ee(l, E, R) {
      return l < i ? new d(k(E, l), R) : new d(W(E, A(l)), R);
    }
    g.prototype._multiplyBySmall = function(l) {
      return S(l.value * this.value) ? new g(l.value * this.value) : ee(Math.abs(l.value), A(Math.abs(this.value)), this.sign !== l.sign);
    }, d.prototype._multiplyBySmall = function(l) {
      return l.value === 0 ? p[0] : l.value === 1 ? this : l.value === -1 ? this.negate() : ee(Math.abs(l.value), this.value, this.sign !== l.sign);
    }, g.prototype.multiply = function(l) {
      return Q(l)._multiplyBySmall(this);
    }, g.prototype.times = g.prototype.multiply;
    function q(l) {
      var E = l.length, R = B(E + E), s = i, n, o, h, v, m;
      for (h = 0; h < E; h++) {
        v = l[h], o = 0 - v * v;
        for (var T = h; T < E; T++)
          m = l[T], n = 2 * (v * m) + R[h + T] + o, o = Math.floor(n / s), R[h + T] = n - o * s;
        R[h + E] = o;
      }
      return _(R), R;
    }
    d.prototype.square = function() {
      return new d(q(this.value), !1);
    }, g.prototype.square = function() {
      var l = this.value * this.value;
      return S(l) ? new g(l) : new d(q(A(Math.abs(this.value))), !1);
    };
    function ue(l, E) {
      var R = l.length, s = E.length, n = i, o = B(E.length), h = E[s - 1], v = Math.ceil(n / (2 * h)), m = k(l, v), T = k(E, v), H, V, $, te, Y, Ur, Mr;
      for (m.length <= R && m.push(0), T.push(0), h = T[s - 1], V = R - s; V >= 0; V--) {
        for (H = n - 1, m[V + s] !== h && (H = Math.floor((m[V + s] * n + m[V + s - 1]) / h)), $ = 0, te = 0, Ur = T.length, Y = 0; Y < Ur; Y++)
          $ += H * T[Y], Mr = Math.floor($ / n), te += m[V + Y] - ($ - Mr * n), $ = Mr, te < 0 ? (m[V + Y] = te + n, te = -1) : (m[V + Y] = te, te = 0);
        for (; te !== 0; ) {
          for (H -= 1, $ = 0, Y = 0; Y < Ur; Y++)
            $ += m[V + Y] - n + T[Y], $ < 0 ? (m[V + Y] = $ + n, $ = 0) : (m[V + Y] = $, $ = 1);
          te += $;
        }
        o[V] = H;
      }
      return m = Ue(m, v)[0], [I(o), I(m)];
    }
    function ye(l, E) {
      for (var R = l.length, s = E.length, n = [], o = [], h = i, v, m, T, H, V; R; ) {
        if (o.unshift(l[--R]), _(o), ge(o, E) < 0) {
          n.push(0);
          continue;
        }
        m = o.length, T = o[m - 1] * h + o[m - 2], H = E[s - 1] * h + E[s - 2], m > s && (T = (T + 1) * h), v = Math.ceil(T / H);
        do {
          if (V = k(E, v), ge(V, o) <= 0)
            break;
          v--;
        } while (v);
        n.push(v), o = C(o, V);
      }
      return n.reverse(), [I(n), I(o)];
    }
    function Ue(l, E) {
      var R = l.length, s = B(R), n = i, o, h, v, m;
      for (v = 0, o = R - 1; o >= 0; --o)
        m = v * n + l[o], h = U(m / E), v = m - h * E, s[o] = h | 0;
      return [s, v | 0];
    }
    function de(l, E) {
      var R, s = Q(E), n = l.value, o = s.value, h;
      if (o === 0)
        throw new Error("Cannot divide by zero");
      if (l.isSmall)
        return s.isSmall ? [new g(U(n / o)), new g(n % o)] : [p[0], l];
      if (s.isSmall) {
        if (o === 1)
          return [l, p[0]];
        if (o == -1)
          return [l.negate(), p[0]];
        var v = Math.abs(o);
        if (v < i) {
          R = Ue(n, v), h = I(R[0]);
          var m = R[1];
          return l.sign && (m = -m), typeof h == "number" ? (l.sign !== s.sign && (h = -h), [new g(h), new g(m)]) : [new d(h, l.sign !== s.sign), new g(m)];
        }
        o = A(v);
      }
      var T = ge(n, o);
      if (T === -1)
        return [p[0], l];
      if (T === 0)
        return [p[l.sign === s.sign ? 1 : -1], p[0]];
      n.length + o.length <= 200 ? R = ue(n, o) : R = ye(n, o), h = R[0];
      var H = l.sign !== s.sign, V = R[1], $ = l.sign;
      return typeof h == "number" ? (H && (h = -h), h = new g(h)) : h = new d(h, H), typeof V == "number" ? ($ && (V = -V), V = new g(V)) : V = new d(V, $), [h, V];
    }
    d.prototype.divmod = function(l) {
      var E = de(this, l);
      return {
        quotient: E[0],
        remainder: E[1]
      };
    }, g.prototype.divmod = d.prototype.divmod, d.prototype.divide = function(l) {
      return de(this, l)[0];
    }, g.prototype.over = g.prototype.divide = d.prototype.over = d.prototype.divide, d.prototype.mod = function(l) {
      return de(this, l)[1];
    }, g.prototype.remainder = g.prototype.mod = d.prototype.remainder = d.prototype.mod, d.prototype.pow = function(l) {
      var E = Q(l), R = this.value, s = E.value, n, o, h;
      if (s === 0)
        return p[1];
      if (R === 0)
        return p[0];
      if (R === 1)
        return p[1];
      if (R === -1)
        return E.isEven() ? p[1] : p[-1];
      if (E.sign)
        return p[0];
      if (!E.isSmall)
        throw new Error("The exponent " + E.toString() + " is too large.");
      if (this.isSmall && S(n = Math.pow(R, s)))
        return new g(U(n));
      for (o = this, h = p[1]; s & !0 && (h = h.times(o), --s), s !== 0; )
        s /= 2, o = o.square();
      return h;
    }, g.prototype.pow = d.prototype.pow, d.prototype.modPow = function(l, E) {
      if (l = Q(l), E = Q(E), E.isZero())
        throw new Error("Cannot take modPow with modulus 0");
      for (var R = p[1], s = this.mod(E); l.isPositive(); ) {
        if (s.isZero())
          return p[0];
        l.isOdd() && (R = R.multiply(s).mod(E)), l = l.divide(2), s = s.square().mod(E);
      }
      return R;
    }, g.prototype.modPow = d.prototype.modPow;
    function ge(l, E) {
      if (l.length !== E.length)
        return l.length > E.length ? 1 : -1;
      for (var R = l.length - 1; R >= 0; R--)
        if (l[R] !== E[R])
          return l[R] > E[R] ? 1 : -1;
      return 0;
    }
    d.prototype.compareAbs = function(l) {
      var E = Q(l), R = this.value, s = E.value;
      return E.isSmall ? 1 : ge(R, s);
    }, g.prototype.compareAbs = function(l) {
      var E = Q(l), R = Math.abs(this.value), s = E.value;
      return E.isSmall ? (s = Math.abs(s), R === s ? 0 : R > s ? 1 : -1) : -1;
    }, d.prototype.compare = function(l) {
      if (l === 1 / 0)
        return -1;
      if (l === -1 / 0)
        return 1;
      var E = Q(l), R = this.value, s = E.value;
      return this.sign !== E.sign ? E.sign ? 1 : -1 : E.isSmall ? this.sign ? -1 : 1 : ge(R, s) * (this.sign ? -1 : 1);
    }, d.prototype.compareTo = d.prototype.compare, g.prototype.compare = function(l) {
      if (l === 1 / 0)
        return -1;
      if (l === -1 / 0)
        return 1;
      var E = Q(l), R = this.value, s = E.value;
      return E.isSmall ? R == s ? 0 : R > s ? 1 : -1 : R < 0 !== E.sign ? R < 0 ? -1 : 1 : R < 0 ? 1 : -1;
    }, g.prototype.compareTo = g.prototype.compare, d.prototype.equals = function(l) {
      return this.compare(l) === 0;
    }, g.prototype.eq = g.prototype.equals = d.prototype.eq = d.prototype.equals, d.prototype.notEquals = function(l) {
      return this.compare(l) !== 0;
    }, g.prototype.neq = g.prototype.notEquals = d.prototype.neq = d.prototype.notEquals, d.prototype.greater = function(l) {
      return this.compare(l) > 0;
    }, g.prototype.gt = g.prototype.greater = d.prototype.gt = d.prototype.greater, d.prototype.lesser = function(l) {
      return this.compare(l) < 0;
    }, g.prototype.lt = g.prototype.lesser = d.prototype.lt = d.prototype.lesser, d.prototype.greaterOrEquals = function(l) {
      return this.compare(l) >= 0;
    }, g.prototype.geq = g.prototype.greaterOrEquals = d.prototype.geq = d.prototype.greaterOrEquals, d.prototype.lesserOrEquals = function(l) {
      return this.compare(l) <= 0;
    }, g.prototype.leq = g.prototype.lesserOrEquals = d.prototype.leq = d.prototype.lesserOrEquals, d.prototype.isEven = function() {
      return (this.value[0] & 1) === 0;
    }, g.prototype.isEven = function() {
      return (this.value & 1) === 0;
    }, d.prototype.isOdd = function() {
      return (this.value[0] & 1) === 1;
    }, g.prototype.isOdd = function() {
      return (this.value & 1) === 1;
    }, d.prototype.isPositive = function() {
      return !this.sign;
    }, g.prototype.isPositive = function() {
      return this.value > 0;
    }, d.prototype.isNegative = function() {
      return this.sign;
    }, g.prototype.isNegative = function() {
      return this.value < 0;
    }, d.prototype.isUnit = function() {
      return !1;
    }, g.prototype.isUnit = function() {
      return Math.abs(this.value) === 1;
    }, d.prototype.isZero = function() {
      return !1;
    }, g.prototype.isZero = function() {
      return this.value === 0;
    }, d.prototype.isDivisibleBy = function(l) {
      var E = Q(l), R = E.value;
      return R === 0 ? !1 : R === 1 ? !0 : R === 2 ? this.isEven() : this.mod(E).equals(p[0]);
    }, g.prototype.isDivisibleBy = d.prototype.isDivisibleBy;
    function Ne(l) {
      var E = l.abs();
      if (E.isUnit())
        return !1;
      if (E.equals(2) || E.equals(3) || E.equals(5))
        return !0;
      if (E.isEven() || E.isDivisibleBy(3) || E.isDivisibleBy(5))
        return !1;
      if (E.lesser(49))
        return !0;
    }
    function Me(l, E) {
      for (var R = l.prev(), s = R, n = 0, o, h, v; s.isEven(); )
        s = s.divide(2), n++;
      e:
        for (h = 0; h < E.length; h++)
          if (!l.lesser(E[h]) && (v = t(E[h]).modPow(s, l), !(v.equals(p[1]) || v.equals(R)))) {
            for (o = n - 1; o != 0; o--) {
              if (v = v.square().mod(l), v.isUnit())
                return !1;
              if (v.equals(R))
                continue e;
            }
            return !1;
          }
      return !0;
    }
    d.prototype.isPrime = function(l) {
      var E = Ne(this);
      if (E !== r)
        return E;
      var R = this.abs(), s = R.bitLength();
      if (s <= 64)
        return Me(R, [2, 325, 9375, 28178, 450775, 9780504, 1795265022]);
      for (var n = Math.log(2) * s, o = Math.ceil(l === !0 ? 2 * Math.pow(n, 2) : n), h = [], v = 0; v < o; v++)
        h.push(t(v + 2));
      return Me(R, h);
    }, g.prototype.isPrime = d.prototype.isPrime, d.prototype.isProbablePrime = function(l) {
      var E = Ne(this);
      if (E !== r)
        return E;
      for (var R = this.abs(), s = l === r ? 5 : l, n = [], o = 0; o < s; o++)
        n.push(t.randBetween(2, R.minus(2)));
      return Me(R, n);
    }, g.prototype.isProbablePrime = d.prototype.isProbablePrime, d.prototype.modInv = function(l) {
      for (var E = t.zero, R = t.one, s = Q(l), n = this.abs(), o, h, v; !n.equals(t.zero); )
        o = s.divide(n), h = E, v = s, E = R, s = n, R = h.subtract(o.multiply(R)), n = v.subtract(o.multiply(n));
      if (!s.equals(1))
        throw new Error(this.toString() + " and " + l.toString() + " are not co-prime");
      return E.compare(0) === -1 && (E = E.add(l)), this.isNegative() ? E.negate() : E;
    }, g.prototype.modInv = d.prototype.modInv, d.prototype.next = function() {
      var l = this.value;
      return this.sign ? F(l, 1, this.sign) : new d(M(l, 1), this.sign);
    }, g.prototype.next = function() {
      var l = this.value;
      return l + 1 < a ? new g(l + 1) : new d(f, !1);
    }, d.prototype.prev = function() {
      var l = this.value;
      return this.sign ? new d(M(l, 1), !0) : F(l, 1, this.sign);
    }, g.prototype.prev = function() {
      var l = this.value;
      return l - 1 > -a ? new g(l - 1) : new d(f, !0);
    };
    for (var re = [1]; 2 * re[re.length - 1] <= i; )
      re.push(2 * re[re.length - 1]);
    var ce = re.length, Ee = re[ce - 1];
    function xe(l) {
      return (typeof l == "number" || typeof l == "string") && +Math.abs(l) <= i || l instanceof d && l.value.length <= 1;
    }
    d.prototype.shiftLeft = function(l) {
      if (!xe(l))
        throw new Error(String(l) + " is too large for shifting.");
      if (l = +l, l < 0)
        return this.shiftRight(-l);
      var E = this;
      if (E.isZero())
        return E;
      for (; l >= ce; )
        E = E.multiply(Ee), l -= ce - 1;
      return E.multiply(re[l]);
    }, g.prototype.shiftLeft = d.prototype.shiftLeft, d.prototype.shiftRight = function(l) {
      var E;
      if (!xe(l))
        throw new Error(String(l) + " is too large for shifting.");
      if (l = +l, l < 0)
        return this.shiftLeft(-l);
      for (var R = this; l >= ce; ) {
        if (R.isZero() || R.isNegative() && R.isUnit())
          return R;
        E = de(R, Ee), R = E[1].isNegative() ? E[0].prev() : E[0], l -= ce - 1;
      }
      return E = de(R, re[l]), E[1].isNegative() ? E[0].prev() : E[0];
    }, g.prototype.shiftRight = d.prototype.shiftRight;
    function Oe(l, E, R) {
      E = Q(E);
      for (var s = l.isNegative(), n = E.isNegative(), o = s ? l.not() : l, h = n ? E.not() : E, v = 0, m = 0, T = null, H = null, V = []; !o.isZero() || !h.isZero(); )
        T = de(o, Ee), v = T[1].toJSNumber(), s && (v = Ee - 1 - v), H = de(h, Ee), m = H[1].toJSNumber(), n && (m = Ee - 1 - m), o = T[0], h = H[0], V.push(R(v, m));
      for (var $ = R(s ? 1 : 0, n ? 1 : 0) !== 0 ? t(-1) : t(0), te = V.length - 1; te >= 0; te -= 1)
        $ = $.multiply(Ee).add(t(V[te]));
      return $;
    }
    d.prototype.not = function() {
      return this.negate().prev();
    }, g.prototype.not = d.prototype.not, d.prototype.and = function(l) {
      return Oe(this, l, function(E, R) {
        return E & R;
      });
    }, g.prototype.and = d.prototype.and, d.prototype.or = function(l) {
      return Oe(this, l, function(E, R) {
        return E | R;
      });
    }, g.prototype.or = d.prototype.or, d.prototype.xor = function(l) {
      return Oe(this, l, function(E, R) {
        return E ^ R;
      });
    }, g.prototype.xor = d.prototype.xor;
    var N = 1 << 30, O = (i & -i) * (i & -i) | N;
    function x(l) {
      var E = l.value, R = typeof E == "number" ? E | N : E[0] + E[1] * i | O;
      return R & -R;
    }
    function z(l, E) {
      if (E.compareTo(l) <= 0) {
        var R = z(l, E.square(E)), s = R.p, n = R.e, o = s.multiply(E);
        return o.compareTo(l) <= 0 ? { p: o, e: n * 2 + 1 } : { p: s, e: n * 2 };
      }
      return { p: t(1), e: 0 };
    }
    d.prototype.bitLength = function() {
      var l = this;
      return l.compareTo(t(0)) < 0 && (l = l.negate().subtract(t(1))), l.compareTo(t(0)) === 0 ? t(0) : t(z(l, t(2)).e).add(t(1));
    }, g.prototype.bitLength = d.prototype.bitLength;
    function X(l, E) {
      return l = Q(l), E = Q(E), l.greater(E) ? l : E;
    }
    function y(l, E) {
      return l = Q(l), E = Q(E), l.lesser(E) ? l : E;
    }
    function b(l, E) {
      if (l = Q(l).abs(), E = Q(E).abs(), l.equals(E))
        return l;
      if (l.isZero())
        return E;
      if (E.isZero())
        return l;
      for (var R = p[1], s, n; l.isEven() && E.isEven(); )
        s = Math.min(x(l), x(E)), l = l.divide(s), E = E.divide(s), R = R.multiply(s);
      for (; l.isEven(); )
        l = l.divide(x(l));
      do {
        for (; E.isEven(); )
          E = E.divide(x(E));
        l.greater(E) && (n = E, E = l, l = n), E = E.subtract(l);
      } while (!E.isZero());
      return R.isUnit() ? l : l.multiply(R);
    }
    function L(l, E) {
      return l = Q(l).abs(), E = Q(E).abs(), l.divide(b(l, E)).multiply(E);
    }
    function G(l, E) {
      l = Q(l), E = Q(E);
      var R = y(l, E), s = X(l, E), n = s.subtract(R).add(1);
      if (n.isSmall)
        return R.add(Math.floor(Math.random() * n));
      for (var o = n.value.length - 1, h = [], v = !0, m = o; m >= 0; m--) {
        var T = v ? n.value[m] : i, H = U(Math.random() * T);
        h.unshift(H), H < T && (v = !1);
      }
      return h = I(h), R.add(typeof h == "number" ? new g(h) : new d(h, !1));
    }
    var fe = function(l, E) {
      for (var R = l.length, s, n = Math.abs(E), s = 0; s < R; s++) {
        var o = l[s].toLowerCase();
        if (o !== "-" && /[a-z0-9]/.test(o)) {
          if (/[0-9]/.test(o) && +o >= n) {
            if (o === "1" && n === 1)
              continue;
            throw new Error(o + " is not a valid digit in base " + E + ".");
          } else if (o.charCodeAt(0) - 87 >= n)
            throw new Error(o + " is not a valid digit in base " + E + ".");
        }
      }
      if (2 <= E && E <= 36 && R <= c / Math.log(E)) {
        var h = parseInt(l, E);
        if (isNaN(h))
          throw new Error(o + " is not a valid digit in base " + E + ".");
        return new g(parseInt(l, E));
      }
      E = Q(E);
      var v = [], m = l[0] === "-";
      for (s = m ? 1 : 0; s < l.length; s++) {
        var o = l[s].toLowerCase(), T = o.charCodeAt(0);
        if (48 <= T && T <= 57)
          v.push(Q(o));
        else if (97 <= T && T <= 122)
          v.push(Q(o.charCodeAt(0) - 87));
        else if (o === "<") {
          var H = s;
          do
            s++;
          while (l[s] !== ">");
          v.push(Q(l.slice(H + 1, s)));
        } else
          throw new Error(o + " is not a valid character");
      }
      return J(v, E, m);
    };
    function J(l, E, R) {
      var s = p[0], n = p[1], o;
      for (o = l.length - 1; o >= 0; o--)
        s = s.add(l[o].times(n)), n = n.times(E);
      return R ? s.negate() : s;
    }
    function ne(l) {
      return l <= 35 ? "0123456789abcdefghijklmnopqrstuvwxyz".charAt(l) : "<" + l + ">";
    }
    function Ce(l, E) {
      if (E = t(E), E.isZero()) {
        if (l.isZero())
          return { value: [0], isNegative: !1 };
        throw new Error("Cannot convert nonzero numbers to base 0.");
      }
      if (E.equals(-1)) {
        if (l.isZero())
          return { value: [0], isNegative: !1 };
        if (l.isNegative())
          return {
            value: [].concat.apply(
              [],
              Array.apply(null, Array(-l)).map(Array.prototype.valueOf, [1, 0])
            ),
            isNegative: !1
          };
        var R = Array.apply(null, Array(+l - 1)).map(Array.prototype.valueOf, [0, 1]);
        return R.unshift([1]), {
          value: [].concat.apply([], R),
          isNegative: !1
        };
      }
      var s = !1;
      if (l.isNegative() && E.isPositive() && (s = !0, l = l.abs()), E.equals(1))
        return l.isZero() ? { value: [0], isNegative: !1 } : {
          value: Array.apply(null, Array(+l)).map(Number.prototype.valueOf, 1),
          isNegative: s
        };
      for (var n = [], o = l, h; o.isNegative() || o.compareAbs(E) >= 0; ) {
        h = o.divmod(E), o = h.quotient;
        var v = h.remainder;
        v.isNegative() && (v = E.minus(v).abs(), o = o.next()), n.push(v.toJSNumber());
      }
      return n.push(o.toJSNumber()), { value: n.reverse(), isNegative: s };
    }
    function Ve(l, E) {
      var R = Ce(l, E);
      return (R.isNegative ? "-" : "") + R.value.map(ne).join("");
    }
    d.prototype.toArray = function(l) {
      return Ce(this, l);
    }, g.prototype.toArray = function(l) {
      return Ce(this, l);
    }, d.prototype.toString = function(l) {
      if (l === r && (l = 10), l !== 10)
        return Ve(this, l);
      for (var E = this.value, R = E.length, s = String(E[--R]), n = "0000000", o; --R >= 0; )
        o = String(E[R]), s += n.slice(o.length) + o;
      var h = this.sign ? "-" : "";
      return h + s;
    }, g.prototype.toString = function(l) {
      return l === r && (l = 10), l != 10 ? Ve(this, l) : String(this.value);
    }, d.prototype.toJSON = g.prototype.toJSON = function() {
      return this.toString();
    }, d.prototype.valueOf = function() {
      return parseInt(this.toString(), 10);
    }, d.prototype.toJSNumber = d.prototype.valueOf, g.prototype.valueOf = function() {
      return this.value;
    }, g.prototype.toJSNumber = g.prototype.valueOf;
    function Qe(l) {
      if (S(+l)) {
        var E = +l;
        if (E === U(E))
          return new g(E);
        throw new Error("Invalid integer: " + l);
      }
      var R = l[0] === "-";
      R && (l = l.slice(1));
      var s = l.split(/e/i);
      if (s.length > 2)
        throw new Error("Invalid integer: " + s.join("e"));
      if (s.length === 2) {
        var n = s[1];
        if (n[0] === "+" && (n = n.slice(1)), n = +n, n !== U(n) || !S(n))
          throw new Error("Invalid integer: " + n + " is not a valid exponent.");
        var o = s[0], h = o.indexOf(".");
        if (h >= 0 && (n -= o.length - h - 1, o = o.slice(0, h) + o.slice(h + 1)), n < 0)
          throw new Error("Cannot include negative exponent part for integers");
        o += new Array(n + 1).join("0"), l = o;
      }
      var v = /^([0-9][0-9]*)$/.test(l);
      if (!v)
        throw new Error("Invalid integer: " + l);
      for (var m = [], T = l.length, H = u, V = T - H; T > 0; )
        m.push(+l.slice(V, T)), V -= H, V < 0 && (V = 0), T -= H;
      return _(m), new d(m, R);
    }
    function Ke(l) {
      if (S(l)) {
        if (l !== U(l))
          throw new Error(l + " is not an integer.");
        return new g(l);
      }
      return Qe(l.toString());
    }
    function Q(l) {
      return typeof l == "number" ? Ke(l) : typeof l == "string" ? Qe(l) : l;
    }
    for (var Te = 0; Te < 1e3; Te++)
      p[Te] = new g(Te), Te > 0 && (p[-Te] = new g(-Te));
    return p.one = p[1], p.zero = p[0], p.minusOne = p[-1], p.max = X, p.min = y, p.gcd = b, p.lcm = L, p.isInstance = function(l) {
      return l instanceof d || l instanceof g;
    }, p.randBetween = G, p.fromArray = function(l, E, R) {
      return J(l.map(Q), Q(E || 10), R);
    }, p;
  }();
  e.hasOwnProperty("exports") && (e.exports = t);
})(Va);
var el = Va.exports, ia = Vn.validate, tl = function(e, t, r, i) {
  for (var u = i ? Math.floor(e.length * t / r) : Math.ceil(e.length * t / r), a = (1 << r) - 1, f = new Uint8Array(u), c = 0, p = 0, d = 0, g = 0; g < e.length; ++g) {
    var S = e[g];
    for (ia(0 <= S && S >> t === 0, "Invalid value: " + S + "."), p = p << t | S, d += t; d >= r; )
      d -= r, f[c] = p >> d & a, ++c;
  }
  return i ? ia(
    d < t && (p << r - d & a) === 0,
    "Input cannot be converted to " + r + " bits without padding, but strict mode was used."
  ) : d > 0 && (f[c] = p << r - d & a, ++c), f;
};
/**
 * @license
 * https://github.com/ealmansi/cashaddrjs
 * Copyright (c) 2017-2020 Emilio Almansi
 * Distributed under the MIT software license, see the accompanying
 * file LICENSE or http://www.opensource.org/licenses/mit-license.php.
 */
var za = Zf, rl = el, Wa = tl, $a = Vn, rt = $a.validate;
function nl(e, t, r) {
  rt(typeof e == "string" && al(e), "Invalid prefix: " + e + "."), rt(typeof t == "string", "Invalid type: " + t + "."), rt(r instanceof Uint8Array, "Invalid hash: " + r + ".");
  var i = tt(Qa(e), new Uint8Array(1)), u = ul(t) + fl(r), a = hl(tt(new Uint8Array([u]), r)), f = tt(tt(i, a), new Uint8Array(8)), c = tt(a, sl(Ka(f)));
  return e + ":" + za.encode(c);
}
function il(e) {
  rt(typeof e == "string" && Ya(e), "Invalid address: " + e + ".");
  var t = e.toLowerCase().split(":");
  rt(t.length === 2, "Missing prefix: " + e + ".");
  var r = t[0], i = za.decode(t[1]);
  rt(pl(r, i), "Invalid checksum: " + e + ".");
  var u = dl(i.subarray(0, -8)), a = u[0], f = u.subarray(1);
  rt(ll(a) === f.length * 8, "Invalid hash size: " + e + ".");
  var c = cl(a);
  return {
    prefix: r,
    type: c,
    hash: f
  };
}
var Or = $a.ValidationError, ol = ["bitcoincash", "bchtest", "bchreg"];
function al(e) {
  return Ya(e) && ol.indexOf(e.toLowerCase()) !== -1;
}
function Qa(e) {
  for (var t = new Uint8Array(e.length), r = 0; r < e.length; ++r)
    t[r] = e[r].charCodeAt(0) & 31;
  return t;
}
function sl(e) {
  for (var t = new Uint8Array(8), r = 0; r < 8; ++r)
    t[7 - r] = e.and(31).toJSNumber(), e = e.shiftRight(5);
  return t;
}
function ul(e) {
  switch (e) {
    case "P2PKH":
      return 0;
    case "P2SH":
      return 8;
    default:
      throw new Or("Invalid type: " + e + ".");
  }
}
function cl(e) {
  switch (e & 120) {
    case 0:
      return "P2PKH";
    case 8:
      return "P2SH";
    default:
      throw new Or("Invalid address type in version byte: " + e + ".");
  }
}
function fl(e) {
  switch (e.length * 8) {
    case 160:
      return 0;
    case 192:
      return 1;
    case 224:
      return 2;
    case 256:
      return 3;
    case 320:
      return 4;
    case 384:
      return 5;
    case 448:
      return 6;
    case 512:
      return 7;
    default:
      throw new Or("Invalid hash size: " + e.length + ".");
  }
}
function ll(e) {
  switch (e & 7) {
    case 0:
      return 160;
    case 1:
      return 192;
    case 2:
      return 224;
    case 3:
      return 256;
    case 4:
      return 320;
    case 5:
      return 384;
    case 6:
      return 448;
    case 7:
      return 512;
  }
}
function hl(e) {
  return Wa(e, 8, 5);
}
function dl(e) {
  return Wa(e, 5, 8, !0);
}
function tt(e, t) {
  var r = new Uint8Array(e.length + t.length);
  return r.set(e), r.set(t, e.length), r;
}
function Ka(e) {
  for (var t = [656907472481, 522768456162, 1044723512260, 748107326120, 130178868336], r = rl(1), i = 0; i < e.length; ++i) {
    var u = e[i], a = r.shiftRight(35);
    r = r.and(34359738367).shiftLeft(5).xor(u);
    for (var f = 0; f < t.length; ++f)
      a.shiftRight(f).and(1).equals(1) && (r = r.xor(t[f]));
  }
  return r.xor(1);
}
function pl(e, t) {
  var r = tt(Qa(e), new Uint8Array(1)), i = tt(r, t);
  return Ka(i).equals(0);
}
function Ya(e) {
  return e === e.toLowerCase() || e === e.toUpperCase();
}
var _l = {
  encode: nl,
  decode: il,
  ValidationError: Or
}, Xa = {}, Pr = {};
Pr.byteLength = gl;
Pr.toByteArray = bl;
Pr.fromByteArray = Sl;
var je = [], De = [], El = typeof Uint8Array < "u" ? Uint8Array : Array, Pn = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
for (var ct = 0, vl = Pn.length; ct < vl; ++ct)
  je[ct] = Pn[ct], De[Pn.charCodeAt(ct)] = ct;
De["-".charCodeAt(0)] = 62;
De["_".charCodeAt(0)] = 63;
function Ja(e) {
  var t = e.length;
  if (t % 4 > 0)
    throw new Error("Invalid string. Length must be a multiple of 4");
  var r = e.indexOf("=");
  r === -1 && (r = t);
  var i = r === t ? 0 : 4 - r % 4;
  return [r, i];
}
function gl(e) {
  var t = Ja(e), r = t[0], i = t[1];
  return (r + i) * 3 / 4 - i;
}
function yl(e, t, r) {
  return (t + r) * 3 / 4 - r;
}
function bl(e) {
  var t, r = Ja(e), i = r[0], u = r[1], a = new El(yl(e, i, u)), f = 0, c = u > 0 ? i - 4 : i, p;
  for (p = 0; p < c; p += 4)
    t = De[e.charCodeAt(p)] << 18 | De[e.charCodeAt(p + 1)] << 12 | De[e.charCodeAt(p + 2)] << 6 | De[e.charCodeAt(p + 3)], a[f++] = t >> 16 & 255, a[f++] = t >> 8 & 255, a[f++] = t & 255;
  return u === 2 && (t = De[e.charCodeAt(p)] << 2 | De[e.charCodeAt(p + 1)] >> 4, a[f++] = t & 255), u === 1 && (t = De[e.charCodeAt(p)] << 10 | De[e.charCodeAt(p + 1)] << 4 | De[e.charCodeAt(p + 2)] >> 2, a[f++] = t >> 8 & 255, a[f++] = t & 255), a;
}
function ml(e) {
  return je[e >> 18 & 63] + je[e >> 12 & 63] + je[e >> 6 & 63] + je[e & 63];
}
function wl(e, t, r) {
  for (var i, u = [], a = t; a < r; a += 3)
    i = (e[a] << 16 & 16711680) + (e[a + 1] << 8 & 65280) + (e[a + 2] & 255), u.push(ml(i));
  return u.join("");
}
function Sl(e) {
  for (var t, r = e.length, i = r % 3, u = [], a = 16383, f = 0, c = r - i; f < c; f += a)
    u.push(wl(e, f, f + a > c ? c : f + a));
  return i === 1 ? (t = e[r - 1], u.push(
    je[t >> 2] + je[t << 4 & 63] + "=="
  )) : i === 2 && (t = (e[r - 2] << 8) + e[r - 1], u.push(
    je[t >> 10] + je[t >> 4 & 63] + je[t << 2 & 63] + "="
  )), u.join("");
}
var zn = {};
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
zn.read = function(e, t, r, i, u) {
  var a, f, c = u * 8 - i - 1, p = (1 << c) - 1, d = p >> 1, g = -7, S = r ? u - 1 : 0, A = r ? -1 : 1, I = e[t + S];
  for (S += A, a = I & (1 << -g) - 1, I >>= -g, g += c; g > 0; a = a * 256 + e[t + S], S += A, g -= 8)
    ;
  for (f = a & (1 << -g) - 1, a >>= -g, g += i; g > 0; f = f * 256 + e[t + S], S += A, g -= 8)
    ;
  if (a === 0)
    a = 1 - d;
  else {
    if (a === p)
      return f ? NaN : (I ? -1 : 1) * (1 / 0);
    f = f + Math.pow(2, i), a = a - d;
  }
  return (I ? -1 : 1) * f * Math.pow(2, a - i);
};
zn.write = function(e, t, r, i, u, a) {
  var f, c, p, d = a * 8 - u - 1, g = (1 << d) - 1, S = g >> 1, A = u === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0, I = i ? 0 : a - 1, _ = i ? 1 : -1, B = t < 0 || t === 0 && 1 / t < 0 ? 1 : 0;
  for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (c = isNaN(t) ? 1 : 0, f = g) : (f = Math.floor(Math.log(t) / Math.LN2), t * (p = Math.pow(2, -f)) < 1 && (f--, p *= 2), f + S >= 1 ? t += A / p : t += A * Math.pow(2, 1 - S), t * p >= 2 && (f++, p /= 2), f + S >= g ? (c = 0, f = g) : f + S >= 1 ? (c = (t * p - 1) * Math.pow(2, u), f = f + S) : (c = t * Math.pow(2, S - 1) * Math.pow(2, u), f = 0)); u >= 8; e[r + I] = c & 255, I += _, c /= 256, u -= 8)
    ;
  for (f = f << u | c, d += u; d > 0; e[r + I] = f & 255, I += _, f /= 256, d -= 8)
    ;
  e[r + I - _] |= B * 128;
};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
(function(e) {
  const t = Pr, r = zn, i = typeof Symbol == "function" && typeof Symbol.for == "function" ? Symbol.for("nodejs.util.inspect.custom") : null;
  e.Buffer = c, e.SlowBuffer = P, e.INSPECT_MAX_BYTES = 50;
  const u = 2147483647;
  e.kMaxLength = u, c.TYPED_ARRAY_SUPPORT = a(), !c.TYPED_ARRAY_SUPPORT && typeof console < "u" && typeof console.error == "function" && console.error(
    "This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."
  );
  function a() {
    try {
      const s = new Uint8Array(1), n = { foo: function() {
        return 42;
      } };
      return Object.setPrototypeOf(n, Uint8Array.prototype), Object.setPrototypeOf(s, n), s.foo() === 42;
    } catch {
      return !1;
    }
  }
  Object.defineProperty(c.prototype, "parent", {
    enumerable: !0,
    get: function() {
      if (c.isBuffer(this))
        return this.buffer;
    }
  }), Object.defineProperty(c.prototype, "offset", {
    enumerable: !0,
    get: function() {
      if (c.isBuffer(this))
        return this.byteOffset;
    }
  });
  function f(s) {
    if (s > u)
      throw new RangeError('The value "' + s + '" is invalid for option "size"');
    const n = new Uint8Array(s);
    return Object.setPrototypeOf(n, c.prototype), n;
  }
  function c(s, n, o) {
    if (typeof s == "number") {
      if (typeof n == "string")
        throw new TypeError(
          'The "string" argument must be of type string. Received type number'
        );
      return S(s);
    }
    return p(s, n, o);
  }
  c.poolSize = 8192;
  function p(s, n, o) {
    if (typeof s == "string")
      return A(s, n);
    if (ArrayBuffer.isView(s))
      return _(s);
    if (s == null)
      throw new TypeError(
        "The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof s
      );
    if (Q(s, ArrayBuffer) || s && Q(s.buffer, ArrayBuffer) || typeof SharedArrayBuffer < "u" && (Q(s, SharedArrayBuffer) || s && Q(s.buffer, SharedArrayBuffer)))
      return B(s, n, o);
    if (typeof s == "number")
      throw new TypeError(
        'The "value" argument must not be of type number. Received type number'
      );
    const h = s.valueOf && s.valueOf();
    if (h != null && h !== s)
      return c.from(h, n, o);
    const v = U(s);
    if (v)
      return v;
    if (typeof Symbol < "u" && Symbol.toPrimitive != null && typeof s[Symbol.toPrimitive] == "function")
      return c.from(s[Symbol.toPrimitive]("string"), n, o);
    throw new TypeError(
      "The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof s
    );
  }
  c.from = function(s, n, o) {
    return p(s, n, o);
  }, Object.setPrototypeOf(c.prototype, Uint8Array.prototype), Object.setPrototypeOf(c, Uint8Array);
  function d(s) {
    if (typeof s != "number")
      throw new TypeError('"size" argument must be of type number');
    if (s < 0)
      throw new RangeError('The value "' + s + '" is invalid for option "size"');
  }
  function g(s, n, o) {
    return d(s), s <= 0 ? f(s) : n !== void 0 ? typeof o == "string" ? f(s).fill(n, o) : f(s).fill(n) : f(s);
  }
  c.alloc = function(s, n, o) {
    return g(s, n, o);
  };
  function S(s) {
    return d(s), f(s < 0 ? 0 : w(s) | 0);
  }
  c.allocUnsafe = function(s) {
    return S(s);
  }, c.allocUnsafeSlow = function(s) {
    return S(s);
  };
  function A(s, n) {
    if ((typeof n != "string" || n === "") && (n = "utf8"), !c.isEncoding(n))
      throw new TypeError("Unknown encoding: " + n);
    const o = M(s, n) | 0;
    let h = f(o);
    const v = h.write(s, n);
    return v !== o && (h = h.slice(0, v)), h;
  }
  function I(s) {
    const n = s.length < 0 ? 0 : w(s.length) | 0, o = f(n);
    for (let h = 0; h < n; h += 1)
      o[h] = s[h] & 255;
    return o;
  }
  function _(s) {
    if (Q(s, Uint8Array)) {
      const n = new Uint8Array(s);
      return B(n.buffer, n.byteOffset, n.byteLength);
    }
    return I(s);
  }
  function B(s, n, o) {
    if (n < 0 || s.byteLength < n)
      throw new RangeError('"offset" is outside of buffer bounds');
    if (s.byteLength < n + (o || 0))
      throw new RangeError('"length" is outside of buffer bounds');
    let h;
    return n === void 0 && o === void 0 ? h = new Uint8Array(s) : o === void 0 ? h = new Uint8Array(s, n) : h = new Uint8Array(s, n, o), Object.setPrototypeOf(h, c.prototype), h;
  }
  function U(s) {
    if (c.isBuffer(s)) {
      const n = w(s.length) | 0, o = f(n);
      return o.length === 0 || s.copy(o, 0, 0, n), o;
    }
    if (s.length !== void 0)
      return typeof s.length != "number" || Te(s.length) ? f(0) : I(s);
    if (s.type === "Buffer" && Array.isArray(s.data))
      return I(s.data);
  }
  function w(s) {
    if (s >= u)
      throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + u.toString(16) + " bytes");
    return s | 0;
  }
  function P(s) {
    return +s != s && (s = 0), c.alloc(+s);
  }
  c.isBuffer = function(n) {
    return n != null && n._isBuffer === !0 && n !== c.prototype;
  }, c.compare = function(n, o) {
    if (Q(n, Uint8Array) && (n = c.from(n, n.offset, n.byteLength)), Q(o, Uint8Array) && (o = c.from(o, o.offset, o.byteLength)), !c.isBuffer(n) || !c.isBuffer(o))
      throw new TypeError(
        'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
      );
    if (n === o)
      return 0;
    let h = n.length, v = o.length;
    for (let m = 0, T = Math.min(h, v); m < T; ++m)
      if (n[m] !== o[m]) {
        h = n[m], v = o[m];
        break;
      }
    return h < v ? -1 : v < h ? 1 : 0;
  }, c.isEncoding = function(n) {
    switch (String(n).toLowerCase()) {
      case "hex":
      case "utf8":
      case "utf-8":
      case "ascii":
      case "latin1":
      case "binary":
      case "base64":
      case "ucs2":
      case "ucs-2":
      case "utf16le":
      case "utf-16le":
        return !0;
      default:
        return !1;
    }
  }, c.concat = function(n, o) {
    if (!Array.isArray(n))
      throw new TypeError('"list" argument must be an Array of Buffers');
    if (n.length === 0)
      return c.alloc(0);
    let h;
    if (o === void 0)
      for (o = 0, h = 0; h < n.length; ++h)
        o += n[h].length;
    const v = c.allocUnsafe(o);
    let m = 0;
    for (h = 0; h < n.length; ++h) {
      let T = n[h];
      if (Q(T, Uint8Array))
        m + T.length > v.length ? (c.isBuffer(T) || (T = c.from(T)), T.copy(v, m)) : Uint8Array.prototype.set.call(
          v,
          T,
          m
        );
      else if (c.isBuffer(T))
        T.copy(v, m);
      else
        throw new TypeError('"list" argument must be an Array of Buffers');
      m += T.length;
    }
    return v;
  };
  function M(s, n) {
    if (c.isBuffer(s))
      return s.length;
    if (ArrayBuffer.isView(s) || Q(s, ArrayBuffer))
      return s.byteLength;
    if (typeof s != "string")
      throw new TypeError(
        'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof s
      );
    const o = s.length, h = arguments.length > 2 && arguments[2] === !0;
    if (!h && o === 0)
      return 0;
    let v = !1;
    for (; ; )
      switch (n) {
        case "ascii":
        case "latin1":
        case "binary":
          return o;
        case "utf8":
        case "utf-8":
          return ne(s).length;
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return o * 2;
        case "hex":
          return o >>> 1;
        case "base64":
          return Qe(s).length;
        default:
          if (v)
            return h ? -1 : ne(s).length;
          n = ("" + n).toLowerCase(), v = !0;
      }
  }
  c.byteLength = M;
  function C(s, n, o) {
    let h = !1;
    if ((n === void 0 || n < 0) && (n = 0), n > this.length || ((o === void 0 || o > this.length) && (o = this.length), o <= 0) || (o >>>= 0, n >>>= 0, o <= n))
      return "";
    for (s || (s = "utf8"); ; )
      switch (s) {
        case "hex":
          return Ne(this, n, o);
        case "utf8":
        case "utf-8":
          return ue(this, n, o);
        case "ascii":
          return de(this, n, o);
        case "latin1":
        case "binary":
          return ge(this, n, o);
        case "base64":
          return q(this, n, o);
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return Me(this, n, o);
        default:
          if (h)
            throw new TypeError("Unknown encoding: " + s);
          s = (s + "").toLowerCase(), h = !0;
      }
  }
  c.prototype._isBuffer = !0;
  function D(s, n, o) {
    const h = s[n];
    s[n] = s[o], s[o] = h;
  }
  c.prototype.swap16 = function() {
    const n = this.length;
    if (n % 2 !== 0)
      throw new RangeError("Buffer size must be a multiple of 16-bits");
    for (let o = 0; o < n; o += 2)
      D(this, o, o + 1);
    return this;
  }, c.prototype.swap32 = function() {
    const n = this.length;
    if (n % 4 !== 0)
      throw new RangeError("Buffer size must be a multiple of 32-bits");
    for (let o = 0; o < n; o += 4)
      D(this, o, o + 3), D(this, o + 1, o + 2);
    return this;
  }, c.prototype.swap64 = function() {
    const n = this.length;
    if (n % 8 !== 0)
      throw new RangeError("Buffer size must be a multiple of 64-bits");
    for (let o = 0; o < n; o += 8)
      D(this, o, o + 7), D(this, o + 1, o + 6), D(this, o + 2, o + 5), D(this, o + 3, o + 4);
    return this;
  }, c.prototype.toString = function() {
    const n = this.length;
    return n === 0 ? "" : arguments.length === 0 ? ue(this, 0, n) : C.apply(this, arguments);
  }, c.prototype.toLocaleString = c.prototype.toString, c.prototype.equals = function(n) {
    if (!c.isBuffer(n))
      throw new TypeError("Argument must be a Buffer");
    return this === n ? !0 : c.compare(this, n) === 0;
  }, c.prototype.inspect = function() {
    let n = "";
    const o = e.INSPECT_MAX_BYTES;
    return n = this.toString("hex", 0, o).replace(/(.{2})/g, "$1 ").trim(), this.length > o && (n += " ... "), "<Buffer " + n + ">";
  }, i && (c.prototype[i] = c.prototype.inspect), c.prototype.compare = function(n, o, h, v, m) {
    if (Q(n, Uint8Array) && (n = c.from(n, n.offset, n.byteLength)), !c.isBuffer(n))
      throw new TypeError(
        'The "target" argument must be one of type Buffer or Uint8Array. Received type ' + typeof n
      );
    if (o === void 0 && (o = 0), h === void 0 && (h = n ? n.length : 0), v === void 0 && (v = 0), m === void 0 && (m = this.length), o < 0 || h > n.length || v < 0 || m > this.length)
      throw new RangeError("out of range index");
    if (v >= m && o >= h)
      return 0;
    if (v >= m)
      return -1;
    if (o >= h)
      return 1;
    if (o >>>= 0, h >>>= 0, v >>>= 0, m >>>= 0, this === n)
      return 0;
    let T = m - v, H = h - o;
    const V = Math.min(T, H), $ = this.slice(v, m), te = n.slice(o, h);
    for (let Y = 0; Y < V; ++Y)
      if ($[Y] !== te[Y]) {
        T = $[Y], H = te[Y];
        break;
      }
    return T < H ? -1 : H < T ? 1 : 0;
  };
  function F(s, n, o, h, v) {
    if (s.length === 0)
      return -1;
    if (typeof o == "string" ? (h = o, o = 0) : o > 2147483647 ? o = 2147483647 : o < -2147483648 && (o = -2147483648), o = +o, Te(o) && (o = v ? 0 : s.length - 1), o < 0 && (o = s.length + o), o >= s.length) {
      if (v)
        return -1;
      o = s.length - 1;
    } else if (o < 0)
      if (v)
        o = 0;
      else
        return -1;
    if (typeof n == "string" && (n = c.from(n, h)), c.isBuffer(n))
      return n.length === 0 ? -1 : W(s, n, o, h, v);
    if (typeof n == "number")
      return n = n & 255, typeof Uint8Array.prototype.indexOf == "function" ? v ? Uint8Array.prototype.indexOf.call(s, n, o) : Uint8Array.prototype.lastIndexOf.call(s, n, o) : W(s, [n], o, h, v);
    throw new TypeError("val must be string, number or Buffer");
  }
  function W(s, n, o, h, v) {
    let m = 1, T = s.length, H = n.length;
    if (h !== void 0 && (h = String(h).toLowerCase(), h === "ucs2" || h === "ucs-2" || h === "utf16le" || h === "utf-16le")) {
      if (s.length < 2 || n.length < 2)
        return -1;
      m = 2, T /= 2, H /= 2, o /= 2;
    }
    function V(te, Y) {
      return m === 1 ? te[Y] : te.readUInt16BE(Y * m);
    }
    let $;
    if (v) {
      let te = -1;
      for ($ = o; $ < T; $++)
        if (V(s, $) === V(n, te === -1 ? 0 : $ - te)) {
          if (te === -1 && (te = $), $ - te + 1 === H)
            return te * m;
        } else
          te !== -1 && ($ -= $ - te), te = -1;
    } else
      for (o + H > T && (o = T - H), $ = o; $ >= 0; $--) {
        let te = !0;
        for (let Y = 0; Y < H; Y++)
          if (V(s, $ + Y) !== V(n, Y)) {
            te = !1;
            break;
          }
        if (te)
          return $;
      }
    return -1;
  }
  c.prototype.includes = function(n, o, h) {
    return this.indexOf(n, o, h) !== -1;
  }, c.prototype.indexOf = function(n, o, h) {
    return F(this, n, o, h, !0);
  }, c.prototype.lastIndexOf = function(n, o, h) {
    return F(this, n, o, h, !1);
  };
  function k(s, n, o, h) {
    o = Number(o) || 0;
    const v = s.length - o;
    h ? (h = Number(h), h > v && (h = v)) : h = v;
    const m = n.length;
    h > m / 2 && (h = m / 2);
    let T;
    for (T = 0; T < h; ++T) {
      const H = parseInt(n.substr(T * 2, 2), 16);
      if (Te(H))
        return T;
      s[o + T] = H;
    }
    return T;
  }
  function j(s, n, o, h) {
    return Ke(ne(n, s.length - o), s, o, h);
  }
  function le(s, n, o, h) {
    return Ke(Ce(n), s, o, h);
  }
  function Ae(s, n, o, h) {
    return Ke(Qe(n), s, o, h);
  }
  function ee(s, n, o, h) {
    return Ke(Ve(n, s.length - o), s, o, h);
  }
  c.prototype.write = function(n, o, h, v) {
    if (o === void 0)
      v = "utf8", h = this.length, o = 0;
    else if (h === void 0 && typeof o == "string")
      v = o, h = this.length, o = 0;
    else if (isFinite(o))
      o = o >>> 0, isFinite(h) ? (h = h >>> 0, v === void 0 && (v = "utf8")) : (v = h, h = void 0);
    else
      throw new Error(
        "Buffer.write(string, encoding, offset[, length]) is no longer supported"
      );
    const m = this.length - o;
    if ((h === void 0 || h > m) && (h = m), n.length > 0 && (h < 0 || o < 0) || o > this.length)
      throw new RangeError("Attempt to write outside buffer bounds");
    v || (v = "utf8");
    let T = !1;
    for (; ; )
      switch (v) {
        case "hex":
          return k(this, n, o, h);
        case "utf8":
        case "utf-8":
          return j(this, n, o, h);
        case "ascii":
        case "latin1":
        case "binary":
          return le(this, n, o, h);
        case "base64":
          return Ae(this, n, o, h);
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return ee(this, n, o, h);
        default:
          if (T)
            throw new TypeError("Unknown encoding: " + v);
          v = ("" + v).toLowerCase(), T = !0;
      }
  }, c.prototype.toJSON = function() {
    return {
      type: "Buffer",
      data: Array.prototype.slice.call(this._arr || this, 0)
    };
  };
  function q(s, n, o) {
    return n === 0 && o === s.length ? t.fromByteArray(s) : t.fromByteArray(s.slice(n, o));
  }
  function ue(s, n, o) {
    o = Math.min(s.length, o);
    const h = [];
    let v = n;
    for (; v < o; ) {
      const m = s[v];
      let T = null, H = m > 239 ? 4 : m > 223 ? 3 : m > 191 ? 2 : 1;
      if (v + H <= o) {
        let V, $, te, Y;
        switch (H) {
          case 1:
            m < 128 && (T = m);
            break;
          case 2:
            V = s[v + 1], (V & 192) === 128 && (Y = (m & 31) << 6 | V & 63, Y > 127 && (T = Y));
            break;
          case 3:
            V = s[v + 1], $ = s[v + 2], (V & 192) === 128 && ($ & 192) === 128 && (Y = (m & 15) << 12 | (V & 63) << 6 | $ & 63, Y > 2047 && (Y < 55296 || Y > 57343) && (T = Y));
            break;
          case 4:
            V = s[v + 1], $ = s[v + 2], te = s[v + 3], (V & 192) === 128 && ($ & 192) === 128 && (te & 192) === 128 && (Y = (m & 15) << 18 | (V & 63) << 12 | ($ & 63) << 6 | te & 63, Y > 65535 && Y < 1114112 && (T = Y));
        }
      }
      T === null ? (T = 65533, H = 1) : T > 65535 && (T -= 65536, h.push(T >>> 10 & 1023 | 55296), T = 56320 | T & 1023), h.push(T), v += H;
    }
    return Ue(h);
  }
  const ye = 4096;
  function Ue(s) {
    const n = s.length;
    if (n <= ye)
      return String.fromCharCode.apply(String, s);
    let o = "", h = 0;
    for (; h < n; )
      o += String.fromCharCode.apply(
        String,
        s.slice(h, h += ye)
      );
    return o;
  }
  function de(s, n, o) {
    let h = "";
    o = Math.min(s.length, o);
    for (let v = n; v < o; ++v)
      h += String.fromCharCode(s[v] & 127);
    return h;
  }
  function ge(s, n, o) {
    let h = "";
    o = Math.min(s.length, o);
    for (let v = n; v < o; ++v)
      h += String.fromCharCode(s[v]);
    return h;
  }
  function Ne(s, n, o) {
    const h = s.length;
    (!n || n < 0) && (n = 0), (!o || o < 0 || o > h) && (o = h);
    let v = "";
    for (let m = n; m < o; ++m)
      v += l[s[m]];
    return v;
  }
  function Me(s, n, o) {
    const h = s.slice(n, o);
    let v = "";
    for (let m = 0; m < h.length - 1; m += 2)
      v += String.fromCharCode(h[m] + h[m + 1] * 256);
    return v;
  }
  c.prototype.slice = function(n, o) {
    const h = this.length;
    n = ~~n, o = o === void 0 ? h : ~~o, n < 0 ? (n += h, n < 0 && (n = 0)) : n > h && (n = h), o < 0 ? (o += h, o < 0 && (o = 0)) : o > h && (o = h), o < n && (o = n);
    const v = this.subarray(n, o);
    return Object.setPrototypeOf(v, c.prototype), v;
  };
  function re(s, n, o) {
    if (s % 1 !== 0 || s < 0)
      throw new RangeError("offset is not uint");
    if (s + n > o)
      throw new RangeError("Trying to access beyond buffer length");
  }
  c.prototype.readUintLE = c.prototype.readUIntLE = function(n, o, h) {
    n = n >>> 0, o = o >>> 0, h || re(n, o, this.length);
    let v = this[n], m = 1, T = 0;
    for (; ++T < o && (m *= 256); )
      v += this[n + T] * m;
    return v;
  }, c.prototype.readUintBE = c.prototype.readUIntBE = function(n, o, h) {
    n = n >>> 0, o = o >>> 0, h || re(n, o, this.length);
    let v = this[n + --o], m = 1;
    for (; o > 0 && (m *= 256); )
      v += this[n + --o] * m;
    return v;
  }, c.prototype.readUint8 = c.prototype.readUInt8 = function(n, o) {
    return n = n >>> 0, o || re(n, 1, this.length), this[n];
  }, c.prototype.readUint16LE = c.prototype.readUInt16LE = function(n, o) {
    return n = n >>> 0, o || re(n, 2, this.length), this[n] | this[n + 1] << 8;
  }, c.prototype.readUint16BE = c.prototype.readUInt16BE = function(n, o) {
    return n = n >>> 0, o || re(n, 2, this.length), this[n] << 8 | this[n + 1];
  }, c.prototype.readUint32LE = c.prototype.readUInt32LE = function(n, o) {
    return n = n >>> 0, o || re(n, 4, this.length), (this[n] | this[n + 1] << 8 | this[n + 2] << 16) + this[n + 3] * 16777216;
  }, c.prototype.readUint32BE = c.prototype.readUInt32BE = function(n, o) {
    return n = n >>> 0, o || re(n, 4, this.length), this[n] * 16777216 + (this[n + 1] << 16 | this[n + 2] << 8 | this[n + 3]);
  }, c.prototype.readBigUInt64LE = E(function(n) {
    n = n >>> 0, L(n, "offset");
    const o = this[n], h = this[n + 7];
    (o === void 0 || h === void 0) && G(n, this.length - 8);
    const v = o + this[++n] * 2 ** 8 + this[++n] * 2 ** 16 + this[++n] * 2 ** 24, m = this[++n] + this[++n] * 2 ** 8 + this[++n] * 2 ** 16 + h * 2 ** 24;
    return BigInt(v) + (BigInt(m) << BigInt(32));
  }), c.prototype.readBigUInt64BE = E(function(n) {
    n = n >>> 0, L(n, "offset");
    const o = this[n], h = this[n + 7];
    (o === void 0 || h === void 0) && G(n, this.length - 8);
    const v = o * 2 ** 24 + this[++n] * 2 ** 16 + this[++n] * 2 ** 8 + this[++n], m = this[++n] * 2 ** 24 + this[++n] * 2 ** 16 + this[++n] * 2 ** 8 + h;
    return (BigInt(v) << BigInt(32)) + BigInt(m);
  }), c.prototype.readIntLE = function(n, o, h) {
    n = n >>> 0, o = o >>> 0, h || re(n, o, this.length);
    let v = this[n], m = 1, T = 0;
    for (; ++T < o && (m *= 256); )
      v += this[n + T] * m;
    return m *= 128, v >= m && (v -= Math.pow(2, 8 * o)), v;
  }, c.prototype.readIntBE = function(n, o, h) {
    n = n >>> 0, o = o >>> 0, h || re(n, o, this.length);
    let v = o, m = 1, T = this[n + --v];
    for (; v > 0 && (m *= 256); )
      T += this[n + --v] * m;
    return m *= 128, T >= m && (T -= Math.pow(2, 8 * o)), T;
  }, c.prototype.readInt8 = function(n, o) {
    return n = n >>> 0, o || re(n, 1, this.length), this[n] & 128 ? (255 - this[n] + 1) * -1 : this[n];
  }, c.prototype.readInt16LE = function(n, o) {
    n = n >>> 0, o || re(n, 2, this.length);
    const h = this[n] | this[n + 1] << 8;
    return h & 32768 ? h | 4294901760 : h;
  }, c.prototype.readInt16BE = function(n, o) {
    n = n >>> 0, o || re(n, 2, this.length);
    const h = this[n + 1] | this[n] << 8;
    return h & 32768 ? h | 4294901760 : h;
  }, c.prototype.readInt32LE = function(n, o) {
    return n = n >>> 0, o || re(n, 4, this.length), this[n] | this[n + 1] << 8 | this[n + 2] << 16 | this[n + 3] << 24;
  }, c.prototype.readInt32BE = function(n, o) {
    return n = n >>> 0, o || re(n, 4, this.length), this[n] << 24 | this[n + 1] << 16 | this[n + 2] << 8 | this[n + 3];
  }, c.prototype.readBigInt64LE = E(function(n) {
    n = n >>> 0, L(n, "offset");
    const o = this[n], h = this[n + 7];
    (o === void 0 || h === void 0) && G(n, this.length - 8);
    const v = this[n + 4] + this[n + 5] * 2 ** 8 + this[n + 6] * 2 ** 16 + (h << 24);
    return (BigInt(v) << BigInt(32)) + BigInt(o + this[++n] * 2 ** 8 + this[++n] * 2 ** 16 + this[++n] * 2 ** 24);
  }), c.prototype.readBigInt64BE = E(function(n) {
    n = n >>> 0, L(n, "offset");
    const o = this[n], h = this[n + 7];
    (o === void 0 || h === void 0) && G(n, this.length - 8);
    const v = (o << 24) + // Overflow
    this[++n] * 2 ** 16 + this[++n] * 2 ** 8 + this[++n];
    return (BigInt(v) << BigInt(32)) + BigInt(this[++n] * 2 ** 24 + this[++n] * 2 ** 16 + this[++n] * 2 ** 8 + h);
  }), c.prototype.readFloatLE = function(n, o) {
    return n = n >>> 0, o || re(n, 4, this.length), r.read(this, n, !0, 23, 4);
  }, c.prototype.readFloatBE = function(n, o) {
    return n = n >>> 0, o || re(n, 4, this.length), r.read(this, n, !1, 23, 4);
  }, c.prototype.readDoubleLE = function(n, o) {
    return n = n >>> 0, o || re(n, 8, this.length), r.read(this, n, !0, 52, 8);
  }, c.prototype.readDoubleBE = function(n, o) {
    return n = n >>> 0, o || re(n, 8, this.length), r.read(this, n, !1, 52, 8);
  };
  function ce(s, n, o, h, v, m) {
    if (!c.isBuffer(s))
      throw new TypeError('"buffer" argument must be a Buffer instance');
    if (n > v || n < m)
      throw new RangeError('"value" argument is out of bounds');
    if (o + h > s.length)
      throw new RangeError("Index out of range");
  }
  c.prototype.writeUintLE = c.prototype.writeUIntLE = function(n, o, h, v) {
    if (n = +n, o = o >>> 0, h = h >>> 0, !v) {
      const H = Math.pow(2, 8 * h) - 1;
      ce(this, n, o, h, H, 0);
    }
    let m = 1, T = 0;
    for (this[o] = n & 255; ++T < h && (m *= 256); )
      this[o + T] = n / m & 255;
    return o + h;
  }, c.prototype.writeUintBE = c.prototype.writeUIntBE = function(n, o, h, v) {
    if (n = +n, o = o >>> 0, h = h >>> 0, !v) {
      const H = Math.pow(2, 8 * h) - 1;
      ce(this, n, o, h, H, 0);
    }
    let m = h - 1, T = 1;
    for (this[o + m] = n & 255; --m >= 0 && (T *= 256); )
      this[o + m] = n / T & 255;
    return o + h;
  }, c.prototype.writeUint8 = c.prototype.writeUInt8 = function(n, o, h) {
    return n = +n, o = o >>> 0, h || ce(this, n, o, 1, 255, 0), this[o] = n & 255, o + 1;
  }, c.prototype.writeUint16LE = c.prototype.writeUInt16LE = function(n, o, h) {
    return n = +n, o = o >>> 0, h || ce(this, n, o, 2, 65535, 0), this[o] = n & 255, this[o + 1] = n >>> 8, o + 2;
  }, c.prototype.writeUint16BE = c.prototype.writeUInt16BE = function(n, o, h) {
    return n = +n, o = o >>> 0, h || ce(this, n, o, 2, 65535, 0), this[o] = n >>> 8, this[o + 1] = n & 255, o + 2;
  }, c.prototype.writeUint32LE = c.prototype.writeUInt32LE = function(n, o, h) {
    return n = +n, o = o >>> 0, h || ce(this, n, o, 4, 4294967295, 0), this[o + 3] = n >>> 24, this[o + 2] = n >>> 16, this[o + 1] = n >>> 8, this[o] = n & 255, o + 4;
  }, c.prototype.writeUint32BE = c.prototype.writeUInt32BE = function(n, o, h) {
    return n = +n, o = o >>> 0, h || ce(this, n, o, 4, 4294967295, 0), this[o] = n >>> 24, this[o + 1] = n >>> 16, this[o + 2] = n >>> 8, this[o + 3] = n & 255, o + 4;
  };
  function Ee(s, n, o, h, v) {
    b(n, h, v, s, o, 7);
    let m = Number(n & BigInt(4294967295));
    s[o++] = m, m = m >> 8, s[o++] = m, m = m >> 8, s[o++] = m, m = m >> 8, s[o++] = m;
    let T = Number(n >> BigInt(32) & BigInt(4294967295));
    return s[o++] = T, T = T >> 8, s[o++] = T, T = T >> 8, s[o++] = T, T = T >> 8, s[o++] = T, o;
  }
  function xe(s, n, o, h, v) {
    b(n, h, v, s, o, 7);
    let m = Number(n & BigInt(4294967295));
    s[o + 7] = m, m = m >> 8, s[o + 6] = m, m = m >> 8, s[o + 5] = m, m = m >> 8, s[o + 4] = m;
    let T = Number(n >> BigInt(32) & BigInt(4294967295));
    return s[o + 3] = T, T = T >> 8, s[o + 2] = T, T = T >> 8, s[o + 1] = T, T = T >> 8, s[o] = T, o + 8;
  }
  c.prototype.writeBigUInt64LE = E(function(n, o = 0) {
    return Ee(this, n, o, BigInt(0), BigInt("0xffffffffffffffff"));
  }), c.prototype.writeBigUInt64BE = E(function(n, o = 0) {
    return xe(this, n, o, BigInt(0), BigInt("0xffffffffffffffff"));
  }), c.prototype.writeIntLE = function(n, o, h, v) {
    if (n = +n, o = o >>> 0, !v) {
      const V = Math.pow(2, 8 * h - 1);
      ce(this, n, o, h, V - 1, -V);
    }
    let m = 0, T = 1, H = 0;
    for (this[o] = n & 255; ++m < h && (T *= 256); )
      n < 0 && H === 0 && this[o + m - 1] !== 0 && (H = 1), this[o + m] = (n / T >> 0) - H & 255;
    return o + h;
  }, c.prototype.writeIntBE = function(n, o, h, v) {
    if (n = +n, o = o >>> 0, !v) {
      const V = Math.pow(2, 8 * h - 1);
      ce(this, n, o, h, V - 1, -V);
    }
    let m = h - 1, T = 1, H = 0;
    for (this[o + m] = n & 255; --m >= 0 && (T *= 256); )
      n < 0 && H === 0 && this[o + m + 1] !== 0 && (H = 1), this[o + m] = (n / T >> 0) - H & 255;
    return o + h;
  }, c.prototype.writeInt8 = function(n, o, h) {
    return n = +n, o = o >>> 0, h || ce(this, n, o, 1, 127, -128), n < 0 && (n = 255 + n + 1), this[o] = n & 255, o + 1;
  }, c.prototype.writeInt16LE = function(n, o, h) {
    return n = +n, o = o >>> 0, h || ce(this, n, o, 2, 32767, -32768), this[o] = n & 255, this[o + 1] = n >>> 8, o + 2;
  }, c.prototype.writeInt16BE = function(n, o, h) {
    return n = +n, o = o >>> 0, h || ce(this, n, o, 2, 32767, -32768), this[o] = n >>> 8, this[o + 1] = n & 255, o + 2;
  }, c.prototype.writeInt32LE = function(n, o, h) {
    return n = +n, o = o >>> 0, h || ce(this, n, o, 4, 2147483647, -2147483648), this[o] = n & 255, this[o + 1] = n >>> 8, this[o + 2] = n >>> 16, this[o + 3] = n >>> 24, o + 4;
  }, c.prototype.writeInt32BE = function(n, o, h) {
    return n = +n, o = o >>> 0, h || ce(this, n, o, 4, 2147483647, -2147483648), n < 0 && (n = 4294967295 + n + 1), this[o] = n >>> 24, this[o + 1] = n >>> 16, this[o + 2] = n >>> 8, this[o + 3] = n & 255, o + 4;
  }, c.prototype.writeBigInt64LE = E(function(n, o = 0) {
    return Ee(this, n, o, -BigInt("0x8000000000000000"), BigInt("0x7fffffffffffffff"));
  }), c.prototype.writeBigInt64BE = E(function(n, o = 0) {
    return xe(this, n, o, -BigInt("0x8000000000000000"), BigInt("0x7fffffffffffffff"));
  });
  function Oe(s, n, o, h, v, m) {
    if (o + h > s.length)
      throw new RangeError("Index out of range");
    if (o < 0)
      throw new RangeError("Index out of range");
  }
  function N(s, n, o, h, v) {
    return n = +n, o = o >>> 0, v || Oe(s, n, o, 4), r.write(s, n, o, h, 23, 4), o + 4;
  }
  c.prototype.writeFloatLE = function(n, o, h) {
    return N(this, n, o, !0, h);
  }, c.prototype.writeFloatBE = function(n, o, h) {
    return N(this, n, o, !1, h);
  };
  function O(s, n, o, h, v) {
    return n = +n, o = o >>> 0, v || Oe(s, n, o, 8), r.write(s, n, o, h, 52, 8), o + 8;
  }
  c.prototype.writeDoubleLE = function(n, o, h) {
    return O(this, n, o, !0, h);
  }, c.prototype.writeDoubleBE = function(n, o, h) {
    return O(this, n, o, !1, h);
  }, c.prototype.copy = function(n, o, h, v) {
    if (!c.isBuffer(n))
      throw new TypeError("argument should be a Buffer");
    if (h || (h = 0), !v && v !== 0 && (v = this.length), o >= n.length && (o = n.length), o || (o = 0), v > 0 && v < h && (v = h), v === h || n.length === 0 || this.length === 0)
      return 0;
    if (o < 0)
      throw new RangeError("targetStart out of bounds");
    if (h < 0 || h >= this.length)
      throw new RangeError("Index out of range");
    if (v < 0)
      throw new RangeError("sourceEnd out of bounds");
    v > this.length && (v = this.length), n.length - o < v - h && (v = n.length - o + h);
    const m = v - h;
    return this === n && typeof Uint8Array.prototype.copyWithin == "function" ? this.copyWithin(o, h, v) : Uint8Array.prototype.set.call(
      n,
      this.subarray(h, v),
      o
    ), m;
  }, c.prototype.fill = function(n, o, h, v) {
    if (typeof n == "string") {
      if (typeof o == "string" ? (v = o, o = 0, h = this.length) : typeof h == "string" && (v = h, h = this.length), v !== void 0 && typeof v != "string")
        throw new TypeError("encoding must be a string");
      if (typeof v == "string" && !c.isEncoding(v))
        throw new TypeError("Unknown encoding: " + v);
      if (n.length === 1) {
        const T = n.charCodeAt(0);
        (v === "utf8" && T < 128 || v === "latin1") && (n = T);
      }
    } else
      typeof n == "number" ? n = n & 255 : typeof n == "boolean" && (n = Number(n));
    if (o < 0 || this.length < o || this.length < h)
      throw new RangeError("Out of range index");
    if (h <= o)
      return this;
    o = o >>> 0, h = h === void 0 ? this.length : h >>> 0, n || (n = 0);
    let m;
    if (typeof n == "number")
      for (m = o; m < h; ++m)
        this[m] = n;
    else {
      const T = c.isBuffer(n) ? n : c.from(n, v), H = T.length;
      if (H === 0)
        throw new TypeError('The value "' + n + '" is invalid for argument "value"');
      for (m = 0; m < h - o; ++m)
        this[m + o] = T[m % H];
    }
    return this;
  };
  const x = {};
  function z(s, n, o) {
    x[s] = class extends o {
      constructor() {
        super(), Object.defineProperty(this, "message", {
          value: n.apply(this, arguments),
          writable: !0,
          configurable: !0
        }), this.name = `${this.name} [${s}]`, this.stack, delete this.name;
      }
      get code() {
        return s;
      }
      set code(v) {
        Object.defineProperty(this, "code", {
          configurable: !0,
          enumerable: !0,
          value: v,
          writable: !0
        });
      }
      toString() {
        return `${this.name} [${s}]: ${this.message}`;
      }
    };
  }
  z(
    "ERR_BUFFER_OUT_OF_BOUNDS",
    function(s) {
      return s ? `${s} is outside of buffer bounds` : "Attempt to access memory outside buffer bounds";
    },
    RangeError
  ), z(
    "ERR_INVALID_ARG_TYPE",
    function(s, n) {
      return `The "${s}" argument must be of type number. Received type ${typeof n}`;
    },
    TypeError
  ), z(
    "ERR_OUT_OF_RANGE",
    function(s, n, o) {
      let h = `The value of "${s}" is out of range.`, v = o;
      return Number.isInteger(o) && Math.abs(o) > 2 ** 32 ? v = X(String(o)) : typeof o == "bigint" && (v = String(o), (o > BigInt(2) ** BigInt(32) || o < -(BigInt(2) ** BigInt(32))) && (v = X(v)), v += "n"), h += ` It must be ${n}. Received ${v}`, h;
    },
    RangeError
  );
  function X(s) {
    let n = "", o = s.length;
    const h = s[0] === "-" ? 1 : 0;
    for (; o >= h + 4; o -= 3)
      n = `_${s.slice(o - 3, o)}${n}`;
    return `${s.slice(0, o)}${n}`;
  }
  function y(s, n, o) {
    L(n, "offset"), (s[n] === void 0 || s[n + o] === void 0) && G(n, s.length - (o + 1));
  }
  function b(s, n, o, h, v, m) {
    if (s > o || s < n) {
      const T = typeof n == "bigint" ? "n" : "";
      let H;
      throw m > 3 ? n === 0 || n === BigInt(0) ? H = `>= 0${T} and < 2${T} ** ${(m + 1) * 8}${T}` : H = `>= -(2${T} ** ${(m + 1) * 8 - 1}${T}) and < 2 ** ${(m + 1) * 8 - 1}${T}` : H = `>= ${n}${T} and <= ${o}${T}`, new x.ERR_OUT_OF_RANGE("value", H, s);
    }
    y(h, v, m);
  }
  function L(s, n) {
    if (typeof s != "number")
      throw new x.ERR_INVALID_ARG_TYPE(n, "number", s);
  }
  function G(s, n, o) {
    throw Math.floor(s) !== s ? (L(s, o), new x.ERR_OUT_OF_RANGE(o || "offset", "an integer", s)) : n < 0 ? new x.ERR_BUFFER_OUT_OF_BOUNDS() : new x.ERR_OUT_OF_RANGE(
      o || "offset",
      `>= ${o ? 1 : 0} and <= ${n}`,
      s
    );
  }
  const fe = /[^+/0-9A-Za-z-_]/g;
  function J(s) {
    if (s = s.split("=")[0], s = s.trim().replace(fe, ""), s.length < 2)
      return "";
    for (; s.length % 4 !== 0; )
      s = s + "=";
    return s;
  }
  function ne(s, n) {
    n = n || 1 / 0;
    let o;
    const h = s.length;
    let v = null;
    const m = [];
    for (let T = 0; T < h; ++T) {
      if (o = s.charCodeAt(T), o > 55295 && o < 57344) {
        if (!v) {
          if (o > 56319) {
            (n -= 3) > -1 && m.push(239, 191, 189);
            continue;
          } else if (T + 1 === h) {
            (n -= 3) > -1 && m.push(239, 191, 189);
            continue;
          }
          v = o;
          continue;
        }
        if (o < 56320) {
          (n -= 3) > -1 && m.push(239, 191, 189), v = o;
          continue;
        }
        o = (v - 55296 << 10 | o - 56320) + 65536;
      } else
        v && (n -= 3) > -1 && m.push(239, 191, 189);
      if (v = null, o < 128) {
        if ((n -= 1) < 0)
          break;
        m.push(o);
      } else if (o < 2048) {
        if ((n -= 2) < 0)
          break;
        m.push(
          o >> 6 | 192,
          o & 63 | 128
        );
      } else if (o < 65536) {
        if ((n -= 3) < 0)
          break;
        m.push(
          o >> 12 | 224,
          o >> 6 & 63 | 128,
          o & 63 | 128
        );
      } else if (o < 1114112) {
        if ((n -= 4) < 0)
          break;
        m.push(
          o >> 18 | 240,
          o >> 12 & 63 | 128,
          o >> 6 & 63 | 128,
          o & 63 | 128
        );
      } else
        throw new Error("Invalid code point");
    }
    return m;
  }
  function Ce(s) {
    const n = [];
    for (let o = 0; o < s.length; ++o)
      n.push(s.charCodeAt(o) & 255);
    return n;
  }
  function Ve(s, n) {
    let o, h, v;
    const m = [];
    for (let T = 0; T < s.length && !((n -= 2) < 0); ++T)
      o = s.charCodeAt(T), h = o >> 8, v = o % 256, m.push(v), m.push(h);
    return m;
  }
  function Qe(s) {
    return t.toByteArray(J(s));
  }
  function Ke(s, n, o, h) {
    let v;
    for (v = 0; v < h && !(v + o >= n.length || v >= s.length); ++v)
      n[v + o] = s[v];
    return v;
  }
  function Q(s, n) {
    return s instanceof n || s != null && s.constructor != null && s.constructor.name != null && s.constructor.name === n.name;
  }
  function Te(s) {
    return s !== s;
  }
  const l = function() {
    const s = "0123456789abcdef", n = new Array(256);
    for (let o = 0; o < 16; ++o) {
      const h = o * 16;
      for (let v = 0; v < 16; ++v)
        n[h + v] = s[o] + s[v];
    }
    return n;
  }();
  function E(s) {
    return typeof BigInt > "u" ? R : s;
  }
  function R() {
    throw new Error("BigInt not supported");
  }
})(Xa);
/***
 * @license
 * https://github.com/ealmansi/bchaddrjs
 * Copyright (c) 2018-2020 Emilio Almansi
 * Distributed under the MIT software license, see the accompanying
 * file LICENSE or http://www.opensource.org/licenses/mit-license.php.
 */
var Wn = Qf, Za = _l, es = Xa.Buffer, Z = {};
Z.Legacy = "legacy";
Z.Bitpay = "bitpay";
Z.Cashaddr = "cashaddr";
var ie = {};
ie.Mainnet = "mainnet";
ie.Testnet = "testnet";
var se = {};
se.P2PKH = "p2pkh";
se.P2SH = "p2sh";
function Rl(e) {
  try {
    return ut(e), !0;
  } catch {
    return !1;
  }
}
function Br(e) {
  return ut(e).format;
}
function $n(e) {
  return ut(e).network;
}
function Qn(e) {
  return ut(e).type;
}
function Il(e) {
  var t = ut(e);
  return t.format === Z.Legacy ? e : Bl(t);
}
function Al(e) {
  var t = ut(e);
  return t.format === Z.Bitpay ? e : Ul(t);
}
function Tl(e) {
  var t = ut(e);
  return Ml(t);
}
var _e = {};
_e[Z.Legacy] = {};
_e[Z.Legacy][ie.Mainnet] = {};
_e[Z.Legacy][ie.Mainnet][se.P2PKH] = 0;
_e[Z.Legacy][ie.Mainnet][se.P2SH] = 5;
_e[Z.Legacy][ie.Testnet] = {};
_e[Z.Legacy][ie.Testnet][se.P2PKH] = 111;
_e[Z.Legacy][ie.Testnet][se.P2SH] = 196;
_e[Z.Bitpay] = {};
_e[Z.Bitpay][ie.Mainnet] = {};
_e[Z.Bitpay][ie.Mainnet][se.P2PKH] = 28;
_e[Z.Bitpay][ie.Mainnet][se.P2SH] = 40;
_e[Z.Bitpay][ie.Testnet] = {};
_e[Z.Bitpay][ie.Testnet][se.P2PKH] = 111;
_e[Z.Bitpay][ie.Testnet][se.P2SH] = 196;
function ut(e) {
  try {
    return Ol(e);
  } catch {
  }
  try {
    return Pl(e);
  } catch {
  }
  throw new it();
}
var Nl = 21;
function Ol(e) {
  try {
    var t = Wn.decode(e);
    if (t.length !== Nl)
      throw new it();
    var r = t[0], i = Array.prototype.slice.call(t, 1);
    switch (r) {
      case _e[Z.Legacy][ie.Mainnet][se.P2PKH]:
        return {
          hash: i,
          format: Z.Legacy,
          network: ie.Mainnet,
          type: se.P2PKH
        };
      case _e[Z.Legacy][ie.Mainnet][se.P2SH]:
        return {
          hash: i,
          format: Z.Legacy,
          network: ie.Mainnet,
          type: se.P2SH
        };
      case _e[Z.Legacy][ie.Testnet][se.P2PKH]:
        return {
          hash: i,
          format: Z.Legacy,
          network: ie.Testnet,
          type: se.P2PKH
        };
      case _e[Z.Legacy][ie.Testnet][se.P2SH]:
        return {
          hash: i,
          format: Z.Legacy,
          network: ie.Testnet,
          type: se.P2SH
        };
      case _e[Z.Bitpay][ie.Mainnet][se.P2PKH]:
        return {
          hash: i,
          format: Z.Bitpay,
          network: ie.Mainnet,
          type: se.P2PKH
        };
      case _e[Z.Bitpay][ie.Mainnet][se.P2SH]:
        return {
          hash: i,
          format: Z.Bitpay,
          network: ie.Mainnet,
          type: se.P2SH
        };
    }
  } catch {
  }
  throw new it();
}
function Pl(e) {
  if (e.indexOf(":") !== -1)
    try {
      return oa(e);
    } catch {
    }
  else
    for (var t = ["bitcoincash", "bchtest", "bchreg"], r = 0; r < t.length; ++r)
      try {
        var i = t[r];
        return oa(i + ":" + e);
      } catch {
      }
  throw new it();
}
function oa(e) {
  try {
    var t = Za.decode(e), r = Array.prototype.slice.call(t.hash, 0), i = t.type === "P2PKH" ? se.P2PKH : se.P2SH;
    switch (t.prefix) {
      case "bitcoincash":
        return {
          hash: r,
          format: Z.Cashaddr,
          network: ie.Mainnet,
          type: i
        };
      case "bchtest":
      case "bchreg":
        return {
          hash: r,
          format: Z.Cashaddr,
          network: ie.Testnet,
          type: i
        };
    }
  } catch {
  }
  throw new it();
}
function Bl(e) {
  var t = _e[Z.Legacy][e.network][e.type], r = es.alloc(1 + e.hash.length);
  return r[0] = t, r.set(e.hash, 1), Wn.encode(r);
}
function Ul(e) {
  var t = _e[Z.Bitpay][e.network][e.type], r = es.alloc(1 + e.hash.length);
  return r[0] = t, r.set(e.hash, 1), Wn.encode(r);
}
function Ml(e) {
  var t = e.network === ie.Mainnet ? "bitcoincash" : "bchtest", r = e.type === se.P2PKH ? "P2PKH" : "P2SH", i = new Uint8Array(e.hash);
  return Za.encode(t, r, i);
}
function Cl(e) {
  return Br(e) === Z.Legacy;
}
function Dl(e) {
  return Br(e) === Z.Bitpay;
}
function Ll(e) {
  return Br(e) === Z.Cashaddr;
}
function xl(e) {
  return $n(e) === ie.Mainnet;
}
function Fl(e) {
  return $n(e) === ie.Testnet;
}
function kl(e) {
  return Qn(e) === se.P2PKH;
}
function ql(e) {
  return Qn(e) === se.P2SH;
}
function it() {
  var e = new Error();
  this.name = e.name = "InvalidAddressError", this.message = e.message = "Received an invalid Bitcoin Cash address as input.", this.stack = e.stack;
}
it.prototype = Object.create(Error.prototype);
var Gl = {
  Format: Z,
  Network: ie,
  Type: se,
  isValidAddress: Rl,
  detectAddressFormat: Br,
  detectAddressNetwork: $n,
  detectAddressType: Qn,
  toLegacyAddress: Il,
  toBitpayAddress: Al,
  toCashAddress: Tl,
  isLegacyAddress: Cl,
  isBitpayAddress: Dl,
  isCashAddress: Ll,
  isMainnetAddress: xl,
  isTestnetAddress: Fl,
  isP2PKHAddress: kl,
  isP2SHAddress: ql,
  InvalidAddressError: it
};
const Hl = "properties/5.7.0";
var jl = globalThis && globalThis.__awaiter || function(e, t, r, i) {
  function u(a) {
    return a instanceof r ? a : new r(function(f) {
      f(a);
    });
  }
  return new (r || (r = Promise))(function(a, f) {
    function c(g) {
      try {
        d(i.next(g));
      } catch (S) {
        f(S);
      }
    }
    function p(g) {
      try {
        d(i.throw(g));
      } catch (S) {
        f(S);
      }
    }
    function d(g) {
      g.done ? a(g.value) : u(g.value).then(c, p);
    }
    d((i = i.apply(e, t || [])).next());
  });
};
const aa = new oe(Hl);
function Vl(e, t, r) {
  Object.defineProperty(e, t, {
    enumerable: !0,
    value: r,
    writable: !1
  });
}
function hr(e) {
  return jl(this, void 0, void 0, function* () {
    const t = Object.keys(e).map((i) => {
      const u = e[i];
      return Promise.resolve(u).then((a) => ({ key: i, value: a }));
    });
    return (yield Promise.all(t)).reduce((i, u) => (i[u.key] = u.value, i), {});
  });
}
function ih(e, t) {
  (!e || typeof e != "object") && aa.throwArgumentError("invalid object", "object", e), Object.keys(e).forEach((r) => {
    t[r] || aa.throwArgumentError("invalid object key - " + r, "transaction:" + r, e);
  });
}
function zl(e) {
  const t = {};
  for (const r in e)
    t[r] = e[r];
  return t;
}
const Wl = "abstract-signer/5.7.0";
var ke = globalThis && globalThis.__awaiter || function(e, t, r, i) {
  function u(a) {
    return a instanceof r ? a : new r(function(f) {
      f(a);
    });
  }
  return new (r || (r = Promise))(function(a, f) {
    function c(g) {
      try {
        d(i.next(g));
      } catch (S) {
        f(S);
      }
    }
    function p(g) {
      try {
        d(i.throw(g));
      } catch (S) {
        f(S);
      }
    }
    function d(g) {
      g.done ? a(g.value) : u(g.value).then(c, p);
    }
    d((i = i.apply(e, t || [])).next());
  });
};
const qe = new oe(Wl), $l = [
  "accessList",
  "ccipReadEnabled",
  "chainId",
  "customData",
  "data",
  "from",
  "gasLimit",
  "gasPrice",
  "maxFeePerGas",
  "maxPriorityFeePerGas",
  "nonce",
  "to",
  "type",
  "value"
], Ql = [
  oe.errors.INSUFFICIENT_FUNDS,
  oe.errors.NONCE_EXPIRED,
  oe.errors.REPLACEMENT_UNDERPRICED
];
class Kn {
  ///////////////////
  // Sub-classes MUST call super
  constructor() {
    ///////////////////
    // Sub-classes MAY override these
    ve(this, "getBalance", (t) => ke(this, void 0, void 0, function* () {
      return this._checkProvider("getBalance"), yield this.provider.getBalance(this.getAddress(), t);
    }));
    ve(this, "getTransactionCount", (t) => ke(this, void 0, void 0, function* () {
      return this._checkProvider("getTransactionCount"), yield this.provider.getTransactionCount(
        this.getAddress(),
        t
      );
    }));
    // Populates "from" if unspecified, and estimates the gas for the transaction
    ve(this, "estimateGas", (t) => ke(this, void 0, void 0, function* () {
      this._checkProvider("estimateGas");
      const r = yield hr(this.checkTransaction(t));
      return yield this.provider.estimateGas(r);
    }));
    // Populates "from" if unspecified, and calls with the transaction
    ve(this, "call", (t, r) => ke(this, void 0, void 0, function* () {
      this._checkProvider("call");
      const i = yield hr(this.checkTransaction(t));
      return yield this.provider.call(i, r);
    }));
    // Populates all fields in a transaction, signs it and sends it to the network
    ve(this, "sendTransaction", (t) => ke(this, void 0, void 0, function* () {
      this._checkProvider("sendTransaction");
      const r = yield this.populateTransaction(t), i = yield this.signTransaction(r);
      return yield this.provider.sendTransaction(i);
    }));
    ve(this, "getChainId", () => ke(this, void 0, void 0, function* () {
      return this._checkProvider("getChainId"), (yield this.provider.getNetwork()).chainId;
    }));
    ve(this, "getGasPrice", () => ke(this, void 0, void 0, function* () {
      return this._checkProvider("getGasPrice"), yield this.provider.getGasPrice();
    }));
    ve(this, "getFeeData", () => ke(this, void 0, void 0, function* () {
      return this._checkProvider("getFeeData"), yield this.provider.getFeeData();
    }));
    ve(this, "resolveName", (t) => ke(this, void 0, void 0, function* () {
      return this._checkProvider("resolveName"), yield this.provider.resolveName(t);
    }));
    // Checks a transaction does not contain invalid keys and if
    // no "from" is provided, populates it.
    // - does NOT require a provider
    // - adds "from" is not present
    // - returns a COPY (safe to mutate the result)
    // By default called from: (overriding these prevents it)
    //   - call
    //   - estimateGas
    //   - populateTransaction (and therefor sendTransaction)
    ve(this, "checkTransaction", (t) => {
      for (const i in t)
        $l.indexOf(i) === -1 && qe.throwArgumentError(
          "invalid transaction key: " + i,
          "transaction",
          t
        );
      const r = zl(t);
      return r.from == null ? r.from = this.getAddress() : r.from = Promise.all([Promise.resolve(r.from), this.getAddress()]).then(
        (i) => (i[0].toLowerCase() !== i[1].toLowerCase() && qe.throwArgumentError(
          "from address mismatch",
          "transaction",
          t
        ), i[0])
      ), r;
    });
    // Populates ALL keys for a transaction and checks that "from" matches
    // this Signer. Should be used by sendTransaction but NOT by signTransaction.
    // By default called from: (overriding these prevents it)
    //   - sendTransaction
    //
    // Notes:
    //  - We allow gasPrice for EIP-1559 as long as it matches maxFeePerGas
    ve(this, "populateTransaction", (t) => ke(this, void 0, void 0, function* () {
      const r = yield hr(this.checkTransaction(t));
      r.to != null && (r.to = Promise.resolve(r.to).then(
        (u) => ke(this, void 0, void 0, function* () {
          if (u == null)
            return null;
          const a = yield this.resolveName(u);
          return a == null && qe.throwArgumentError(
            "provided ENS name resolves to null",
            "tx.to",
            u
          ), a;
        })
      ), r.to.catch((u) => {
      }));
      const i = r.maxFeePerGas != null || r.maxPriorityFeePerGas != null;
      if (r.gasPrice != null && (r.type === 2 || i) ? qe.throwArgumentError(
        "eip-1559 transaction do not support gasPrice",
        "transaction",
        t
      ) : (r.type === 0 || r.type === 1) && i && qe.throwArgumentError(
        "pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas",
        "transaction",
        t
      ), (r.type === 2 || r.type == null) && r.maxFeePerGas != null && r.maxPriorityFeePerGas != null)
        r.type = 2;
      else if (r.type === 0 || r.type === 1)
        r.gasPrice == null && (r.gasPrice = this.getGasPrice());
      else {
        const u = yield this.getFeeData();
        if (r.type == null)
          if (u.maxFeePerGas != null && u.maxPriorityFeePerGas != null)
            if (r.type = 2, r.gasPrice != null) {
              const a = r.gasPrice;
              delete r.gasPrice, r.maxFeePerGas = a, r.maxPriorityFeePerGas = a;
            } else
              r.maxFeePerGas == null && (r.maxFeePerGas = u.maxFeePerGas), r.maxPriorityFeePerGas == null && (r.maxPriorityFeePerGas = u.maxPriorityFeePerGas);
          else
            u.gasPrice != null ? (i && qe.throwError(
              "network does not support EIP-1559",
              oe.errors.UNSUPPORTED_OPERATION,
              {
                operation: "populateTransaction"
              }
            ), r.gasPrice == null && (r.gasPrice = u.gasPrice), r.type = 0) : qe.throwError(
              "failed to get consistent fee data",
              oe.errors.UNSUPPORTED_OPERATION,
              {
                operation: "signer.getFeeData"
              }
            );
        else
          r.type === 2 && (r.maxFeePerGas == null && (r.maxFeePerGas = u.maxFeePerGas), r.maxPriorityFeePerGas == null && (r.maxPriorityFeePerGas = u.maxPriorityFeePerGas));
      }
      return r.nonce == null && (r.nonce = this.getTransactionCount("pending")), r.gasLimit == null && (r.gasLimit = this.estimateGas(r).catch((u) => {
        if (Ql.indexOf(u.code) >= 0)
          throw u;
        return qe.throwError(
          "cannot estimate gas; transaction may fail or may require manual gas limit",
          oe.errors.UNPREDICTABLE_GAS_LIMIT,
          {
            error: u,
            tx: r
          }
        );
      })), r.chainId == null ? r.chainId = this.getChainId() : r.chainId = Promise.all([
        Promise.resolve(r.chainId),
        this.getChainId()
      ]).then((u) => (u[1] !== 0 && u[0] !== u[1] && qe.throwArgumentError(
        "chainId address mismatch",
        "transaction",
        t
      ), u[0])), yield hr(r);
    }));
    ///////////////////
    // Sub-classes SHOULD leave these alone
    ve(this, "_checkProvider", (t) => {
      this.provider || qe.throwError(
        "missing provider",
        oe.errors.UNSUPPORTED_OPERATION,
        {
          operation: t || "_checkProvider"
        }
      );
    });
    qe.checkAbstract(new.target, Kn), Vl(this, "_isSigner", !0);
  }
  static isSigner(t) {
    return !!(t && t._isSigner);
  }
}
class Yn extends Kn {
  constructor({ chain: r, derivationPath: i, provider: u }) {
    super();
    ve(this, "chain");
    ve(this, "derivationPath");
    ve(this, "address");
    ve(this, "provider");
    ve(this, "getAddress", async () => {
      if (!this.address) {
        const r = await ft.ethereumGetAddress({
          path: `m/${pr(this.derivationPath)}`,
          showOnTrezor: !0
        });
        if (!r.success)
          throw new Error(r.payload.error);
        this.address = r.payload.address;
      }
      return this.address;
    });
    ve(this, "signMessage", async (r) => {
      const i = await ft.ethereumSignMessage({
        path: `m/${pr(this.derivationPath)}`,
        message: r
      });
      if (!i.success)
        throw new Error(i.payload.error);
      return i.payload.signature;
    });
    ve(this, "signTransaction", async ({ from: r, to: i, value: u, gasLimit: a, nonce: f, data: c, ...p }) => {
      if (!r)
        throw new Error("Missing from address");
      if (!i)
        throw new Error("Missing to address");
      if (!a)
        throw new Error("Missing gasLimit");
      const d = "maxFeePerGas" in p && "maxPriorityFeePerGas" in p;
      if (d && !p.maxFeePerGas)
        throw new Error("Missing maxFeePerGas");
      if (d && !p.maxPriorityFeePerGas)
        throw new Error("Missing maxFeePerGas");
      if (!d && ("gasPrice" in p && !p.gasPrice || !("gasPrice" in p)))
        throw new Error("Missing gasPrice");
      const { BigNumber: g } = await import("./index-8cc992aa.js"), { serialize: S } = await import("./index-dea8b114.js"), A = {
        chainId: g.from(cs[this.chain]).toNumber(),
        to: i,
        value: g.from(u || 0).toHexString(),
        gasLimit: g.from(a).toHexString(),
        nonce: g.from(
          f || await this.provider.getTransactionCount(r, "pending")
        ).toHexString(),
        data: c,
        ...d ? {
          maxFeePerGas: g.from(p.maxFeePerGas).toHexString(),
          maxPriorityFeePerGas: g.from(p.maxPriorityFeePerGas).toHexString()
        } : (
          //@ts-expect-error ts cant infer type of restTx
          { gasPrice: g.from(p.gasPrice).toHexString() }
        )
      }, I = await ft.ethereumSignTransaction({
        path: `m/${pr(this.derivationPath)}`,
        transaction: A
      });
      if (!I.success)
        throw new Error(I.payload.error);
      const { r: _, s: B, v: U } = I.payload;
      return S(
        { ...A, nonce: g.from(A.nonce).toNumber(), type: d ? 2 : 0 },
        {
          r: _,
          s: B,
          v: g.from(U).toNumber()
        }
      );
    });
    ve(this, "connect", (r) => new Yn({
      chain: this.chain,
      derivationPath: this.derivationPath,
      provider: r
    }));
    this.chain = r, this.derivationPath = i, this.provider = u, this.address = "";
  }
}
const Kl = async ({ chain: e, derivationPath: t, provider: r }) => new Yn({ chain: e, derivationPath: t, provider: r }), oh = [
  ae.Avalanche,
  ae.Bitcoin,
  ae.BitcoinCash,
  ae.Dogecoin,
  ae.Ethereum,
  ae.BinanceSmartChain,
  ae.Litecoin
], Yl = async ({
  api: e,
  rpcUrl: t,
  chain: r,
  ethplorerApiKey: i,
  covalentApiKey: u,
  derivationPath: a,
  utxoApiKey: f
}) => {
  switch (r) {
    case ae.BinanceSmartChain:
    case ae.Avalanche:
    case ae.Ethereum: {
      if (r === ae.Ethereum && !i)
        throw new Error("Ethplorer API key not found");
      if (r !== ae.Ethereum && !u)
        throw new Error("Covalent API key not found");
      const { getProvider: c, ETHToolbox: p, AVAXToolbox: d, BSCToolbox: g } = await import("./index.es-0bc14e26.js"), S = c(r, t), A = await Kl({ chain: r, derivationPath: a, provider: S }), I = await A.getAddress(), _ = { api: e, signer: A, provider: S }, B = r === ae.Ethereum ? p({ ..._, ethplorerApiKey: i }) : (r === ae.Avalanche ? d : g)({
        ..._,
        covalentApiKey: u
      });
      return { address: I, walletMethods: { ...B, getAddress: () => I } };
    }
    case ae.Bitcoin:
    case ae.BitcoinCash:
    case ae.Dogecoin:
    case ae.Litecoin: {
      if (!f && !e)
        throw new Error("UTXO API key not found");
      const c = r.toLowerCase(), { BTCToolbox: p, BCHToolbox: d, LTCToolbox: g, DOGEToolbox: S } = await import("./index.es-cbedecf0.js"), A = a[0] === 84 ? { input: "SPENDWITNESS", output: "PAYTOWITNESS" } : a[0] === 49 ? { input: "SPENDP2SHWITNESS", output: "PAYTOP2SHWITNESS" } : a[0] === 44 ? { input: "SPENDADDRESS", output: "PAYTOADDRESS" } : void 0;
      if (!A)
        throw new Error("Derivation path is not supported");
      const I = { api: e, apiKey: f, rpcUrl: t }, _ = r === ae.Bitcoin ? p(I) : r === ae.Litecoin ? g(I) : r === ae.Dogecoin ? S(I) : d(I), U = await (async (M = a) => {
        const { success: C, payload: D } = await ft.getAddress({
          path: `m/${pr(M)}`,
          coin: c
        });
        if (!C)
          throw new Error(
            "Failed to get address: " + (D.error || "Unknown error")
          );
        return r === ae.BitcoinCash ? _.stripPrefix(D.address) : D.address;
      })(), w = async (M, C, D = "") => {
        const F = a.map(
          (k, j) => j < 3 ? (k | 2147483648) >>> 0 : k
        ), W = await ft.signTransaction({
          coin: c,
          inputs: C.map((k) => ({
            // Hardens the first 3 elements of the derivation path - required by trezor
            address_n: F,
            prev_hash: k.hash,
            prev_index: k.index,
            // object needs amount but does not use it for signing
            amount: k.value,
            script_type: A.input
          })),
          // Lint is not happy with the type of txOutputs
          outputs: M.txOutputs.map((k) => {
            const j = r === ae.BitcoinCash && k.address ? Gl.toCashAddress(k.address) : k.address, le = r === ae.BitcoinCash && j ? _.stripPrefix(j) === U : j === U;
            return k.address ? le ? {
              address_n: F,
              amount: k.value,
              script_type: A.output
            } : {
              address: j,
              amount: k.value,
              script_type: "PAYTOADDRESS"
            } : {
              op_return_data: Buffer.from(D).toString("hex"),
              amount: "0",
              script_type: "PAYTOOPRETURN"
            };
          })
        });
        if (W.success)
          return W.payload.serializedTx;
        throw new Error(
          `Trezor failed to sign the ${r.toUpperCase()} transaction: ${W.payload.error}`
        );
      };
      return {
        address: U,
        walletMethods: {
          ..._,
          transfer: async ({
            from: M,
            recipient: C,
            feeOptionKey: D,
            feeRate: F,
            memo: W,
            ...k
          }) => {
            if (!M)
              throw new Error("From address must be provided");
            if (!C)
              throw new Error("Recipient address must be provided");
            const { psbt: j, inputs: le } = await _.buildTx({
              ...k,
              memo: W,
              feeOptionKey: D,
              recipient: C,
              feeRate: F || (await _.getFeeRates())[D || Zt.Fast],
              sender: M,
              fetchTxHex: r === ae.Dogecoin
            }), Ae = await w(j, le, W);
            return _.broadcastTx(Ae);
          },
          signTransaction: w,
          getAddress: () => U
        }
      };
    }
    default:
      throw new Error("Chain not supported");
  }
}, Xl = ({
  apis: e,
  rpcUrls: t,
  addChain: r,
  config: {
    covalentApiKey: i,
    ethplorerApiKey: u = "freekey",
    utxoApiKey: a,
    trezorManifest: f = { appUrl: "", email: "" }
  }
}) => async (c, p) => {
  const d = ft, { success: g } = await d.getDeviceState();
  g || d.init({ lazyLoad: !0, manifest: f });
  const { address: S, walletMethods: A } = await Yl({
    api: e[c],
    rpcUrl: t[c],
    chain: c,
    covalentApiKey: i,
    ethplorerApiKey: u,
    utxoApiKey: a,
    derivationPath: p
  });
  return r({
    chain: c,
    walletMethods: A,
    wallet: { address: S, balance: [], walletType: ca.TREZOR }
  }), !0;
}, ah = {
  connectMethodName: "connectTrezor",
  connect: Xl
};
export {
  oe as L,
  oh as T,
  ih as a,
  pe as c,
  is as g,
  ah as t
};
