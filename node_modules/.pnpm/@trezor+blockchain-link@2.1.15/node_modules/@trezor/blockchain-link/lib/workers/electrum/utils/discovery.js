"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.discoverAddress = void 0;
const transform_1 = require("./transform");
const discoverAddress = (client) => async ({ address, path }) => {
    var _a;
    const scripthash = (0, transform_1.addressToScripthash)(address, (_a = client.getInfo()) === null || _a === void 0 ? void 0 : _a.network);
    const history = await client.request('blockchain.scripthash.get_history', scripthash);
    return {
        address,
        scripthash,
        path,
        history,
        empty: !history.length,
    };
};
exports.discoverAddress = discoverAddress;
//# sourceMappingURL=discovery.js.map