"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const r=e=>{class t extends Error{constructor(o,s,n){if(super(o||e,n),Object.setPrototypeOf(this,t.prototype),this.name=e,s)for(const c in s)this[c]=s[c];if(n&&_(n)&&"cause"in n&&!("cause"in this)){const c=n.cause;this.cause=c,"stack"in c&&(this.stack=this.stack+`
CAUSE: `+c.stack)}}}return t};function _(e){return typeof e=="object"}const E=r("LockedDeviceError"),I=r("DisconnectedDevice"),D=r("DisconnectedDeviceDuringOperation"),x=r("NetworkDown"),N=r("UserRefusedOnDevice"),S=r("TransportOpenUserCancelled"),C=r("TransportInterfaceNotAvailable"),d=r("TransportRaceCondition"),u=r("TransportWebUSBGestureRequired"),A=r("LedgerAPI4xx"),R=r("LedgerAPI5xx");exports.HwTransportErrorType=void 0;(function(e){e.Unknown="Unknown",e.LocationServicesDisabled="LocationServicesDisabled",e.LocationServicesUnauthorized="LocationServicesUnauthorized",e.BluetoothScanStartFailed="BluetoothScanStartFailed"})(exports.HwTransportErrorType||(exports.HwTransportErrorType={}));class L extends Error{constructor(t,i){const o="TransportError";super(t||o),this.name=o,this.message=t,this.stack=new Error(t).stack,this.id=i}}const a={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,CUSTOM_IMAGE_BOOTLOADER:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738};function T(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=e&&e<=28671)return"Internal error, please report"}function O(e){const t=Object.keys(a).find(n=>a[n]===e)||"UNKNOWN_ERROR",i=T(e)||t,o=e.toString(16),s=`Ledger device: ${i} (0x${o})`;if(e===a.LOCKED_DEVICE)throw new E(s);this.name="TransportStatusError",this.message=s,this.stack=new Error(s).stack,this.statusCode=e,this.statusText=t}O.prototype=new Error;exports.DisconnectedDevice=I;exports.DisconnectedDeviceDuringOperation=D;exports.LedgerAPI4xx=A;exports.LedgerAPI5xx=R;exports.LockedDeviceError=E;exports.NetworkDown=x;exports.StatusCodes=a;exports.TransportError=L;exports.TransportInterfaceNotAvailable=C;exports.TransportOpenUserCancelled=S;exports.TransportRaceCondition=d;exports.TransportStatusError=O;exports.TransportWebUSBGestureRequired=u;exports.UserRefusedOnDevice=N;exports.createCustomErrorClass=r;exports.getAltStatusMessage=T;
