"use strict";var aspromise=asPromise;function asPromise(o,c){for(var r=new Array(arguments.length-1),i=0,t=2,h=!0;t<arguments.length;)r[i++]=arguments[t++];return new Promise(function(a,n){r[i]=function(l){if(h)if(h=!1,l)n(l);else{for(var u=new Array(arguments.length-1),E=0;E<u.length;)u[E++]=arguments[E];a.apply(null,u)}};try{o.apply(c||null,r)}catch(e){h&&(h=!1,n(e))}})}var base64={};(function(o){var c=o;c.length=function(a){var n=a.length;if(!n)return 0;for(var e=0;--n%4>1&&a.charAt(n)==="=";)++e;return Math.ceil(a.length*3)/4-e};for(var r=new Array(64),i=new Array(123),t=0;t<64;)i[r[t]=t<26?t+65:t<52?t+71:t<62?t-4:t-59|43]=t++;c.encode=function(a,n,e){for(var l=null,u=[],E=0,_=0,g;n<e;){var v=a[n++];switch(_){case 0:u[E++]=r[v>>2],g=(v&3)<<4,_=1;break;case 1:u[E++]=r[g|v>>4],g=(v&15)<<2,_=2;break;case 2:u[E++]=r[g|v>>6],u[E++]=r[v&63],_=0;break}E>8191&&((l||(l=[])).push(String.fromCharCode.apply(String,u)),E=0)}return _&&(u[E++]=r[g],u[E++]=61,_===1&&(u[E++]=61)),l?(E&&l.push(String.fromCharCode.apply(String,u.slice(0,E))),l.join("")):String.fromCharCode.apply(String,u.slice(0,E))};var h="invalid encoding";c.decode=function(a,n,e){for(var l=e,u=0,E,_=0;_<a.length;){var g=a.charCodeAt(_++);if(g===61&&u>1)break;if((g=i[g])===void 0)throw Error(h);switch(u){case 0:E=g,u=1;break;case 1:n[e++]=E<<2|(g&48)>>4,E=g,u=2;break;case 2:n[e++]=(E&15)<<4|(g&60)>>2,E=g,u=3;break;case 3:n[e++]=(E&3)<<6|g,u=0;break}}if(u===1)throw Error(h);return e-l},c.test=function(a){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)}})(base64);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(c,r,i){return(this._listeners[c]||(this._listeners[c]=[])).push({fn:r,ctx:i||this}),this};EventEmitter.prototype.off=function(c,r){if(c===void 0)this._listeners={};else if(r===void 0)this._listeners[c]=[];else for(var i=this._listeners[c],t=0;t<i.length;)i[t].fn===r?i.splice(t,1):++t;return this};EventEmitter.prototype.emit=function(c){var r=this._listeners[c];if(r){for(var i=[],t=1;t<arguments.length;)i.push(arguments[t++]);for(t=0;t<r.length;)r[t].fn.apply(r[t++].ctx,i)}return this};var float=factory(factory);function factory(o){return typeof Float32Array<"u"?function(){var c=new Float32Array([-0]),r=new Uint8Array(c.buffer),i=r[3]===128;function t(n,e,l){c[0]=n,e[l]=r[0],e[l+1]=r[1],e[l+2]=r[2],e[l+3]=r[3]}function h(n,e,l){c[0]=n,e[l]=r[3],e[l+1]=r[2],e[l+2]=r[1],e[l+3]=r[0]}o.writeFloatLE=i?t:h,o.writeFloatBE=i?h:t;function d(n,e){return r[0]=n[e],r[1]=n[e+1],r[2]=n[e+2],r[3]=n[e+3],c[0]}function a(n,e){return r[3]=n[e],r[2]=n[e+1],r[1]=n[e+2],r[0]=n[e+3],c[0]}o.readFloatLE=i?d:a,o.readFloatBE=i?a:d}():function(){function c(i,t,h,d){var a=t<0?1:0;if(a&&(t=-t),t===0)i(1/t>0?0:2147483648,h,d);else if(isNaN(t))i(2143289344,h,d);else if(t>34028234663852886e22)i((a<<31|2139095040)>>>0,h,d);else if(t<11754943508222875e-54)i((a<<31|Math.round(t/1401298464324817e-60))>>>0,h,d);else{var n=Math.floor(Math.log(t)/Math.LN2),e=Math.round(t*Math.pow(2,-n)*8388608)&8388607;i((a<<31|n+127<<23|e)>>>0,h,d)}}o.writeFloatLE=c.bind(null,writeUintLE),o.writeFloatBE=c.bind(null,writeUintBE);function r(i,t,h){var d=i(t,h),a=(d>>31)*2+1,n=d>>>23&255,e=d&8388607;return n===255?e?NaN:a*(1/0):n===0?a*1401298464324817e-60*e:a*Math.pow(2,n-150)*(e+8388608)}o.readFloatLE=r.bind(null,readUintLE),o.readFloatBE=r.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var c=new Float64Array([-0]),r=new Uint8Array(c.buffer),i=r[7]===128;function t(n,e,l){c[0]=n,e[l]=r[0],e[l+1]=r[1],e[l+2]=r[2],e[l+3]=r[3],e[l+4]=r[4],e[l+5]=r[5],e[l+6]=r[6],e[l+7]=r[7]}function h(n,e,l){c[0]=n,e[l]=r[7],e[l+1]=r[6],e[l+2]=r[5],e[l+3]=r[4],e[l+4]=r[3],e[l+5]=r[2],e[l+6]=r[1],e[l+7]=r[0]}o.writeDoubleLE=i?t:h,o.writeDoubleBE=i?h:t;function d(n,e){return r[0]=n[e],r[1]=n[e+1],r[2]=n[e+2],r[3]=n[e+3],r[4]=n[e+4],r[5]=n[e+5],r[6]=n[e+6],r[7]=n[e+7],c[0]}function a(n,e){return r[7]=n[e],r[6]=n[e+1],r[5]=n[e+2],r[4]=n[e+3],r[3]=n[e+4],r[2]=n[e+5],r[1]=n[e+6],r[0]=n[e+7],c[0]}o.readDoubleLE=i?d:a,o.readDoubleBE=i?a:d}():function(){function c(i,t,h,d,a,n){var e=d<0?1:0;if(e&&(d=-d),d===0)i(0,a,n+t),i(1/d>0?0:2147483648,a,n+h);else if(isNaN(d))i(0,a,n+t),i(2146959360,a,n+h);else if(d>17976931348623157e292)i(0,a,n+t),i((e<<31|2146435072)>>>0,a,n+h);else{var l;if(d<22250738585072014e-324)l=d/5e-324,i(l>>>0,a,n+t),i((e<<31|l/4294967296)>>>0,a,n+h);else{var u=Math.floor(Math.log(d)/Math.LN2);u===1024&&(u=1023),l=d*Math.pow(2,-u),i(l*4503599627370496>>>0,a,n+t),i((e<<31|u+1023<<20|l*1048576&1048575)>>>0,a,n+h)}}}o.writeDoubleLE=c.bind(null,writeUintLE,0,4),o.writeDoubleBE=c.bind(null,writeUintBE,4,0);function r(i,t,h,d,a){var n=i(d,a+t),e=i(d,a+h),l=(e>>31)*2+1,u=e>>>20&2047,E=4294967296*(e&1048575)+n;return u===2047?E?NaN:l*(1/0):u===0?l*5e-324*E:l*Math.pow(2,u-1075)*(E+4503599627370496)}o.readDoubleLE=r.bind(null,readUintLE,0,4),o.readDoubleBE=r.bind(null,readUintBE,4,0)}(),o}function writeUintLE(o,c,r){c[r]=o&255,c[r+1]=o>>>8&255,c[r+2]=o>>>16&255,c[r+3]=o>>>24}function writeUintBE(o,c,r){c[r]=o>>>24,c[r+1]=o>>>16&255,c[r+2]=o>>>8&255,c[r+3]=o&255}function readUintLE(o,c){return(o[c]|o[c+1]<<8|o[c+2]<<16|o[c+3]<<24)>>>0}function readUintBE(o,c){return(o[c]<<24|o[c+1]<<16|o[c+2]<<8|o[c+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(o){}return null}var utf8={};(function(o){var c=o;c.length=function(i){for(var t=0,h=0,d=0;d<i.length;++d)h=i.charCodeAt(d),h<128?t+=1:h<2048?t+=2:(h&64512)===55296&&(i.charCodeAt(d+1)&64512)===56320?(++d,t+=4):t+=3;return t},c.read=function(i,t,h){var d=h-t;if(d<1)return"";for(var a=null,n=[],e=0,l;t<h;)l=i[t++],l<128?n[e++]=l:l>191&&l<224?n[e++]=(l&31)<<6|i[t++]&63:l>239&&l<365?(l=((l&7)<<18|(i[t++]&63)<<12|(i[t++]&63)<<6|i[t++]&63)-65536,n[e++]=55296+(l>>10),n[e++]=56320+(l&1023)):n[e++]=(l&15)<<12|(i[t++]&63)<<6|i[t++]&63,e>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,n)),e=0);return a?(e&&a.push(String.fromCharCode.apply(String,n.slice(0,e))),a.join("")):String.fromCharCode.apply(String,n.slice(0,e))},c.write=function(i,t,h){for(var d=h,a,n,e=0;e<i.length;++e)a=i.charCodeAt(e),a<128?t[h++]=a:a<2048?(t[h++]=a>>6|192,t[h++]=a&63|128):(a&64512)===55296&&((n=i.charCodeAt(e+1))&64512)===56320?(a=65536+((a&1023)<<10)+(n&1023),++e,t[h++]=a>>18|240,t[h++]=a>>12&63|128,t[h++]=a>>6&63|128,t[h++]=a&63|128):(t[h++]=a>>12|224,t[h++]=a>>6&63|128,t[h++]=a&63|128);return h-d}})(utf8);var pool_1=pool;function pool(o,c,r){var i=r||8192,t=i>>>1,h=null,d=i;return function(n){if(n<1||n>t)return o(n);d+n>i&&(h=o(i),d=0);var e=c.call(h,d,d+=n);return d&7&&(d=(d|7)+1),e}}exports.aspromise=aspromise;exports.base64=base64;exports.eventemitter=eventemitter;exports.float=float;exports.inquire_1=inquire_1;exports.pool_1=pool_1;exports.utf8=utf8;
